function Swipe(e,t){"use strict";function d(){a=u.children,c=a.length,a.length<2&&(t.continuous=!1),s.transitions&&t.continuous&&a.length<3&&(u.appendChild(a[0].cloneNode(!0)),u.appendChild(u.children[1].cloneNode(!0)),a=u.children,o=!0),f=new Array(a.length),l=e.getBoundingClientRect().width||e.offsetWidth,u.style.width=a.length*l+"px";var n=a.length;while(n--){var r=a[n];r.style.width=l+"px",r.setAttribute("data-index",n),s.transitions&&(r.style.left=n*-l+"px",i.indexOf("gt-")!=-1&&(r.style.webkitBackfaceVisibility="hidden"),b(n,h>n?-l:h<n?l:0,0))}t.continuous&&s.transitions&&(b(g(h-1),-l,0),b(g(h+1),l,0)),s.transitions||(u.style.left=h*-l+"px"),e.style.visibility="visible"}function v(){t.continuous?y(h-1):h&&y(h-1)}function m(){t.continuous?y(h+1):h<a.length-1&&y(h+1)}function g(e){return(a.length+e%a.length)%a.length}function y(e,n){if(h==e)return;if(s.transitions){var i=Math.abs(h-e)/(h-e);if(t.continuous){var u=i;i=-f[g(e)]/l,i!==u&&(e=-i*a.length+e)}var c=Math.abs(h-e)-1;while(c--)b(g((e>h?e:h)-c-1),l*i,0);e=g(e),b(h,l*i,n||p),b(e,0,n||p),t.continuous&&b(g(e-i),-(l*i),0)}else e=g(e),E(h*-l,e*-l,n||p);h=e;var d=h;o&&h>1&&(d=h-2),r(t.callback&&t.callback(d,a[h]))}function b(e,t,n){w(e,t,n),f[e]=t}function w(e,t,n){var r=a[e],s=r&&r.style;if(!s)return;s.webkitTransitionDuration=s.MozTransitionDuration=s.msTransitionDuration=s.OTransitionDuration=s.transitionDuration=n+"ms",i.indexOf("gt-")!=-1?s.webkitTransform="translateX("+t+"px)":s.webkitTransform="translate3d("+t+"px,0,0)",s.msTransform=s.MozTransform=s.OTransform="translateX("+t+"px)"}function E(e,n,r){if(!r){u.style.left=n+"px";return}var i=+(new Date),s=setInterval(function(){var f=+(new Date)-i;if(f>r){u.style.left=n+"px",S&&T();var l=h;o&&h>1&&(l=h-2),t.transitionEnd&&t.transitionEnd.call(event,l,a[h]),clearInterval(s);return}u.style.left=(n-e)*(Math.floor(f/r*100)/100)+e+"px"},4)}function T(){x=setTimeout(m,S)}function N(){S=0,clearTimeout(x)}var n=function(){},r=function(e){setTimeout(e||n,0)},i=navigator.userAgent.toLowerCase(),s={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(e.style[t[n]]!==undefined)return!0;return!1}(document.createElement("swipe"))};if(!e)return;var o=!1,u=e.children[0],a,f,l,c;t=t||{};var h=parseInt(t.startSlide,10)||0,p=t.speed||300;t.continuous=t.continuous!==undefined?t.continuous:!0,t.disableTouch=t.disableTouch!==undefined?t.disableTouch:!1;var S=t.auto||0,x,C={},k={},L,A={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":r(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":r(this.transitionEnd(e));break;case"resize":r(d.call())}t.stopPropagation&&e.stopPropagation()},start:function(e){if(t.disableTouch)return;var n=e.touches[0];C={x:n.pageX,y:n.pageY,time:+(new Date)},L=undefined,u.addEventListener("touchmove",this,!1),u.addEventListener("touchend",this,!1)},move:function(e){if(t.disableTouch)return;if(e.touches.length>1||e.scale&&e.scale!==1)return;t.disableScroll&&e.preventDefault();var n=e.touches[0];k={x:n.pageX-C.x,y:n.pageY-C.y};if(!t.continuous&&(!h&&k.x>0||h==a.length-1&&k.x<0))return;typeof L=="undefined"&&(L=!!(L||Math.abs(k.x)<Math.abs(k.y))),L||(e.preventDefault(),N(),t.continuous?(w(g(h-1),k.x+f[g(h-1)],0),w(h,k.x+f[h],0),w(g(h+1),k.x+f[g(h+1)],0)):(k.x=k.x/(!h&&k.x>0||h==a.length-1&&k.x<0?Math.abs(k.x)/l+1:1),w(h-1,k.x+f[h-1],0),w(h,k.x+f[h],0),w(h+1,k.x+f[h+1],0)))},end:function(e){if(t.disableTouch)return;if(typeof L=="undefined")return;var n=+(new Date)-C.time,r=Number(n)<250&&Math.abs(k.x)>20||Math.abs(k.x)>l/2,i=!h&&k.x>0||h==a.length-1&&k.x<0;t.continuous&&(i=!1);var s=k.x<0;if(!L)if(r&&!i){s?(t.continuous?(b(g(h-1),-l,0),b(g(h+2),l,0)):b(h-1,-l,0),b(h,f[h]-l,p),b(g(h+1),f[g(h+1)]-l,p),h=g(h+1)):(t.continuous?(b(g(h+1),l,0),b(g(h-2),-l,0)):b(h+1,l,0),b(h,f[h]+l,p),b(g(h-1),f[g(h-1)]+l,p),h=g(h-1));var c=h;o&&h>1&&(c=h-2),t.callback&&t.callback(c,a[h])}else t.continuous?(b(g(h-1),-l,p),b(h,0,p),b(g(h+1),l,p)):(b(h-1,-l,p),b(h,0,p),b(h+1,l,p));u.removeEventListener("touchmove",A,!1),u.removeEventListener("touchend",A,!1)},transitionEnd:function(e){if(parseInt(e.target.getAttribute("data-index"),10)==h){S&&T();var n=h;o&&h>1&&(n=h-2),t.transitionEnd&&t.transitionEnd.call(e,n,a[h])}}};return d(),S&&T(),s.addEventListener?(s.touch&&u.addEventListener("touchstart",A,!1),s.transitions&&(u.addEventListener("webkitTransitionEnd",A,!1),u.addEventListener("msTransitionEnd",A,!1),u.addEventListener("oTransitionEnd",A,!1),u.addEventListener("otransitionend",A,!1),u.addEventListener("transitionend",A,!1)),window.addEventListener("resize",A,!1)):window.onresize=function(){d()},{setup:function(){d()},slide:function(e,t){N(),y(e,t)},prev:function(){N(),v()},next:function(){N(),m()},getPos:function(){return h},getNumSlides:function(){return c},kill:function(){N(),u.style.width="auto",u.style.left=0;var e=a.length;while(e--){var t=a[e];t.style.width="100%",t.style.left=0,s.transitions&&w(e,0,0)}s.addEventListener?(u.removeEventListener("touchstart",A,!1),u.removeEventListener("webkitTransitionEnd",A,!1),u.removeEventListener("msTransitionEnd",A,!1),u.removeEventListener("oTransitionEnd",A,!1),u.removeEventListener("otransitionend",A,!1),u.removeEventListener("transitionend",A,!1),window.removeEventListener("resize",A,!1)):window.onresize=null}}}(window.jQuery||window.Zepto)&&function(e){e.fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}}(window.jQuery||window.Zepto)