var egret;
(function (d) {
    d.egret_string_code = {};
    d.egret_string_code[-1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    d.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    d.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    d.egret_string_code[1002] =
        "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    d.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    d.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    d.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    d.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    d.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    d.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    d.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    d.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    d.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    d.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    d.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    d.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    d.egret_string_code[1015] = "xml not found!";
    d.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    d.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    d.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    d.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    d.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    d.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    d.egret_string_code[1022] = "{0} ArgumentError";
    d.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    d.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    d.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    d.egret_string_code[1026] =
        "EncodingError! The code point {0} could not be encoded.";
    d.egret_string_code[1027] = "DecodingError";
    d.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    d.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    d.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    d.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    d.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    d.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    d.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    d.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    d.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    d.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    d.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    d.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    d.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    d.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    d.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    d.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    d.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    d.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    d.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    d.egret_string_code[3012] =
        "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    d.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    d.egret_string_code[3014] = "propNotPropOrStyle";
    d.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    d.egret_string_code[4001] = "Abstract class can not be instantiated!";
    d.egret_string_code[4002] = "Unnamed data!";
    d.egret_string_code[4003] = "Nonsupport version!";
    d.egret_string_code[4004] = "Abstract method needs to be implemented in subclass!";
    d.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    d.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    d.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {}));
(function (d) {
    d.egret_string_code = {};
    d.egret_string_code[-1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    d.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    d.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    d.egret_string_code[1002] = "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    d.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    d.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    d.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    d.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    d.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    d.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    d.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    d.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    d.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    d.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    d.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    d.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    d.egret_string_code[1015] = "xml not found!";
    d.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    d.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    d.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    d.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    d.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    d.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    d.egret_string_code[1022] = "{0} ArgumentError";
    d.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    d.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    d.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    d.egret_string_code[1026] =
        "EncodingError! The code point {0} could not be encoded.";
    d.egret_string_code[1027] = "DecodingError";
    d.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    d.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    d.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    d.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    d.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    d.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    d.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    d.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    d.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    d.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    d.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    d.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    d.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    d.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    d.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    d.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    d.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    d.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    d.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    d.egret_string_code[3012] =
        "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    d.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    d.egret_string_code[3014] = "propNotPropOrStyle";
    d.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    d.egret_string_code[4001] = "Abstract class can not be instantiated!";
    d.egret_string_code[4002] = "Unnamed data!";
    d.egret_string_code[4003] = "Nonsupport version!";
    d.egret_string_code[4004] = "Abstract method needs to be implemented in subclass!";
    d.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    d.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    d.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {}));
var __extends = this.__extends || function (d, g) {
        function f() {
            this.constructor = d
        }

        for (var c in g)g.hasOwnProperty(c) && (d[c] = g[c]);
        f.prototype = g.prototype;
        d.prototype = new f
    };
(function (d) {
    function g(c) {
        for (var b = [], a = 1; a < arguments.length; a++)b[a - 1] = arguments[a];
        if (a = d.egret_string_code[c])for (var e = b.length, h = 0; h < e; h++)a = a.replace("{" + h + "}", b[h]);
        return a
    }

    var f = function () {
        function c() {
        }

        c.openLogByType = function (b) {
            null == c.logFuncs && (c.logFuncs = {
                error: console.error,
                debug: console.debug,
                warn: console.warn,
                info: console.info,
                log: console.log
            });
            switch (b) {
                case c.OFF:
                    console.error = function () {
                    };
                case c.ERROR:
                    console.warn = function () {
                    };
                case c.WARN:
                    console.info = function () {
                    }, console.log =
                        function () {
                        };
                case c.INFO:
                    console.debug = function () {
                    }
            }
            switch (b) {
                case c.ALL:
                    console.debug = c.logFuncs.debug;
                case c.INFO:
                    console.log = c.logFuncs.log, console.info = c.logFuncs.info;
                case c.WARN:
                    console.warn = c.logFuncs.warn;
                case c.ERROR:
                    console.error = c.logFuncs.error
            }
        };
        c.fatal = function (b, a) {
            void 0 === a && (a = null);
            throw Error(d.Logger.getTraceCode("Fatal", b, a));
        };
        c.info = function (b, a) {
            void 0 === a && (a = null);
            d.Logger.traceToConsole("Info", b, a)
        };
        c.warning = function (b, a) {
            void 0 === a && (a = null);
            d.Logger.traceToConsole("Warning",
                b, a)
        };
        c.traceToConsole = function (b, a, e) {
            console.log(d.Logger.getTraceCode(b, a, e))
        };
        c.getTraceCode = function (b, a, e) {
            return "[" + b + "]" + a + (null == e ? "" : ":" + e)
        };
        c.ALL = "all";
        c.DEBUG = "debug";
        c.INFO = "info";
        c.WARN = "warn";
        c.ERROR = "error";
        c.OFF = "off";
        return c
    }();
    d.Logger = f;
    f.prototype.__class__ = "egret.Logger";
    d.getString = g;
    d.$error = function (c) {
        for (var b = [], a = 1; a < arguments.length; a++)b[a - 1] = arguments[a];
        b.unshift(c);
        (b = g.apply(null, b)) ? f.fatal(b) : f.fatal(g(-1, c))
    };
    d.$warn = function (c) {
        for (var b = [], a = 1; a < arguments.length; a++)b[a -
        1] = arguments[a];
        b.unshift(c);
        (b = g.apply(null, b)) ? f.warning(b) : f.warning(g(-1, c))
    }
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
            this._hashCode = d.hashCount++
        }

        Object.defineProperty(d.prototype, "hashCode", {
            get: function () {
                return this._hashCode
            }, enumerable: !0, configurable: !0
        });
        d.hashCount = 1;
        return d
    }();
    d.HashObject = g;
    g.prototype.__class__ = "egret.HashObject"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(a) {
            void 0 === a && (a = 300);
            d.call(this);
            this.objectPool = [];
            this._length = 0;
            1 > a && (a = 1);
            this.autoDisposeTime = a;
            this.frameCount = 0
        }

        __extends(c, d);
        var b = c.prototype;
        b._checkFrame = function () {
            this.frameCount--;
            0 >= this.frameCount && this.dispose()
        };
        Object.defineProperty(b, "length", {
            get: function () {
                return this._length
            }, enumerable: !0, configurable: !0
        });
        b.push = function (a) {
            var e = this.objectPool;
            -1 == e.indexOf(a) && (e.push(a), a.__recycle && a.__recycle(), this._length++, 0 == this.frameCount &&
            (this.frameCount = this.autoDisposeTime, c._callBackList.push(this)))
        };
        b.pop = function () {
            if (0 == this._length)return null;
            this._length--;
            return this.objectPool.pop()
        };
        b.dispose = function () {
            0 < this._length && (this.objectPool = [], this._length = 0);
            this.frameCount = 0;
            var a = c._callBackList, e = a.indexOf(this);
            -1 != e && a.splice(e, 1)
        };
        c._callBackList = [];
        return c
    }(d.HashObject);
    d.Recycler = g;
    g.prototype.__class__ = "egret.Recycler"
})(egret || (egret = {}));
(function (d) {
    d.__START_TIME;
    d.getTimer = function () {
        return Date.now() - d.__START_TIME
    }
})(egret || (egret = {}));
(function (d) {
    d.__callLaterFunctionList = [];
    d.__callLaterThisList = [];
    d.__callLaterArgsList = [];
    d.callLater = function (g, f) {
        for (var c = [], b = 2; b < arguments.length; b++)c[b - 2] = arguments[b];
        d.__callLaterFunctionList.push(g);
        d.__callLaterThisList.push(f);
        d.__callLaterArgsList.push(c)
    };
    d.__callAsyncFunctionList = [];
    d.__callAsyncThisList = [];
    d.__callAsyncArgsList = [];
    d.__callAsync = function (g, f) {
        for (var c = [], b = 2; b < arguments.length; b++)c[b - 2] = arguments[b];
        d.__callAsyncFunctionList.push(g);
        d.__callAsyncThisList.push(f);
        d.__callAsyncArgsList.push(c)
    }
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        var c = f.prototype;
        c.call = function (b) {
            this.callback && this.callback.call(this.thisObject, b)
        };
        c.dispose = function () {
            this.thisObject = this.callback = null;
            f.__freeList.push(this)
        };
        f.push = function (b, a) {
            var e;
            e = f.__freeList.length ? f.__freeList.pop() : new d.RenderCommand;
            e.callback = b;
            e.thisObject = a;
            d.MainContext.__DRAW_COMMAND_LIST.push(e)
        };
        f.__freeList = [];
        return f
    }();
    d.RenderCommand = g;
    g.prototype.__class__ = "egret.RenderCommand"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e, h) {
            void 0 === e && (e = !1);
            void 0 === h && (h = !1);
            f.call(this);
            this.data = null;
            this._type = "";
            this._cancelable = this._bubbles = !1;
            this._eventPhase = 2;
            this._target = this._currentTarget = null;
            this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1;
            this.isNew = !0;
            this._type = a;
            this._bubbles = e;
            this._cancelable = h
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "type", {
            get: function () {
                return this._type
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "bubbles", {
            get: function () {
                return this._bubbles
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "cancelable", {
            get: function () {
                return this._cancelable
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "eventPhase", {
            get: function () {
                return this._eventPhase
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "currentTarget", {
            get: function () {
                return this._currentTarget
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "target", {
            get: function () {
                return this._target
            },
            enumerable: !0, configurable: !0
        });
        b.isDefaultPrevented = function () {
            return this._isDefaultPrevented
        };
        b.preventDefault = function () {
            this._cancelable && (this._isDefaultPrevented = !0)
        };
        b.stopPropagation = function () {
            this._bubbles && (this._isPropagationStopped = !0)
        };
        b.stopImmediatePropagation = function () {
            this._bubbles && (this._isPropagationImmediateStopped = !0)
        };
        b._reset = function () {
            this.isNew ? this.isNew = !1 : (this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1, this._currentTarget =
                this._target = null, this._eventPhase = 2)
        };
        b.__recycle = function () {
            this.data = this._target = this._currentTarget = null
        };
        c._dispatchByTarget = function (a, e, h, b, c, f) {
            void 0 === c && (c = !1);
            void 0 === f && (f = !1);
            var g = a.eventRecycler;
            g || (g = a.eventRecycler = new d.Recycler);
            var k = g.pop();
            k ? k._type = h : k = new a(h);
            k._bubbles = c;
            k._cancelable = f;
            if (b)for (var l in b)k[l] = b[l], null !== k[l] && (b[l] = null);
            a = e.dispatchEvent(k);
            g.push(k);
            return a
        };
        c._getPropertyData = function (a) {
            var e = a._props;
            e || (e = a._props = {});
            return e
        };
        c.dispatchEvent =
            function (a, e, h, b) {
                void 0 === h && (h = !1);
                var d = c._getPropertyData(c);
                void 0 != b && (d.data = b);
                c._dispatchByTarget(c, a, e, d, h)
            };
        c.ADDED_TO_STAGE = "addedToStage";
        c.REMOVED_FROM_STAGE = "removedFromStage";
        c.ADDED = "added";
        c.REMOVED = "removed";
        c.COMPLETE = "complete";
        c.LOOP_COMPLETE = "loopcomplete";
        c.ENTER_FRAME = "enterFrame";
        c.RENDER = "render";
        c.FINISH_RENDER = "finishRender";
        c.FINISH_UPDATE_TRANSFORM = "finishUpdateTransform";
        c.LEAVE_STAGE = "leaveStage";
        c.RESIZE = "resize";
        c.CHANGE = "change";
        c.ACTIVATE = "activate";
        c.DEACTIVATE =
            "deactivate";
        c.CLOSE = "close";
        c.CONNECT = "connect";
        return c
    }(d.HashObject);
    d.Event = g;
    g.prototype.__class__ = "egret.Event"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            d.call(this, b, a, e);
            this._status = 0
        }

        __extends(c, d);
        Object.defineProperty(c.prototype, "status", {
            get: function () {
                return this._status
            }, enumerable: !0, configurable: !0
        });
        c.dispatchHTTPStatusEvent = function (b, a) {
            null == c.httpStatusEvent && (c.httpStatusEvent = new c(c.HTTP_STATUS));
            c.httpStatusEvent._status = a;
            b.dispatchEvent(c.httpStatusEvent)
        };
        c.HTTP_STATUS = "httpStatus";
        c.httpStatusEvent = null;
        return c
    }(d.Event);
    d.HTTPStatusEvent =
        g;
    g.prototype.__class__ = "egret.HTTPStatusEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            d.call(this, b, a, e)
        }

        __extends(c, d);
        c.SOUND_COMPLETE = "soundComplete";
        return c
    }(d.Event);
    d.SoundEvent = g;
    g.prototype.__class__ = "egret.SoundEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            d.call(this, b, a, e)
        }

        __extends(c, d);
        c.FOCUS_IN = "focusIn";
        c.FOCUS_OUT = "focusOut";
        return c
    }(d.Event);
    d.FocusEvent = g;
    g.prototype.__class__ = "egret.FocusEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            f.call(this, b, a, e)
        }

        __extends(c, f);
        c.dispatchIOErrorEvent = function (b) {
            d.Event._dispatchByTarget(c, b, c.IO_ERROR)
        };
        c.IO_ERROR = "ioError";
        return c
    }(d.Event);
    d.IOErrorEvent = g;
    g.prototype.__class__ = "egret.IOErrorEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e, h, b, c, d, g, k, l, m) {
            void 0 === e && (e = !0);
            void 0 === h && (h = !0);
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            void 0 === d && (d = 0);
            void 0 === g && (g = !1);
            void 0 === k && (k = !1);
            void 0 === m && (m = !1);
            f.call(this, a, e, h);
            this._stageY = this._stageX = 0;
            this.touchPointID = NaN;
            this.touchDown = this.altKey = this.shiftKey = this.ctrlKey = !1;
            this.touchPointID = b;
            this._stageX = c;
            this._stageY = d;
            this.ctrlKey = g;
            this.altKey = k;
            this.touchDown = m
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "stageX", {
            get: function () {
                return this._stageX
            },
            enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "stageY", {
            get: function () {
                return this._stageY
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "localX", {
            get: function () {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, d.Point.identity).x
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "localY", {
            get: function () {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, d.Point.identity).y
            }, enumerable: !0, configurable: !0
        });
        c.dispatchTouchEvent = function (a,
                                         e, h, b, C, f, g, k, l) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === C && (C = 0);
            void 0 === f && (f = !1);
            void 0 === g && (g = !1);
            void 0 === k && (k = !1);
            void 0 === l && (l = !1);
            var m = d.Event._getPropertyData(c);
            m.touchPointID = h;
            m._stageX = b;
            m._stageY = C;
            m.ctrlKey = f;
            m.altKey = g;
            m.shiftKey = k;
            m.touchDown = l;
            d.Event._dispatchByTarget(c, a, e, m, !0, !0)
        };
        c.TOUCH_TAP = "touchTap";
        c.TOUCH_MOVE = "touchMove";
        c.TOUCH_BEGIN = "touchBegin";
        c.TOUCH_END = "touchEnd";
        c.TOUCH_RELEASE_OUTSIDE = "touchReleaseOutside";
        c.TOUCH_ROLL_OUT = "touchRollOut";
        c.TOUCH_ROLL_OVER =
            "touchRollOver";
        c.TOUCH_OUT = "touchOut";
        c.TOUCH_OVER = "touchOver";
        return c
    }(d.Event);
    d.TouchEvent = g;
    g.prototype.__class__ = "egret.TouchEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            f.call(this, b, a, e)
        }

        __extends(c, f);
        c.dispatchTimerEvent = function (b, a) {
            d.Event._dispatchByTarget(c, b, a)
        };
        c.TIMER = "timer";
        c.TIMER_COMPLETE = "timerComplete";
        return c
    }(d.Event);
    d.TimerEvent = g;
    g.prototype.__class__ = "egret.TimerEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(b, a, e, h) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            void 0 === h && (h = "");
            f.call(this, b, a, e);
            this.text = h
        }

        __extends(c, f);
        c.dispatchTextEvent = function (b, a, e) {
            var h = d.Event._getPropertyData(c);
            h.text = e;
            d.Event._dispatchByTarget(c, b, a, h)
        };
        c.LINK = "link";
        return c
    }(d.Event);
    d.TextEvent = g;
    g.prototype.__class__ = "egret.TextEvent"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(b, a, e, h, c) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            void 0 === h && (h = 0);
            void 0 === c && (c = 0);
            f.call(this, b, a, e);
            this.bytesTotal = this.bytesLoaded = 0;
            this.bytesLoaded = h;
            this.bytesTotal = c
        }

        __extends(c, f);
        c.dispatchProgressEvent = function (b, a, e, h) {
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            d.Event._dispatchByTarget(c, b, a, {bytesLoaded: e, bytesTotal: h})
        };
        c.PROGRESS = "progress";
        c.SOCKET_DATA = "socketData";
        return c
    }(d.Event);
    d.ProgressEvent = g;
    g.prototype.__class__ = "egret.ProgressEvent"
})(egret ||
(egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.CAPTURING_PHASE = 1;
        d.AT_TARGET = 2;
        d.BUBBLING_PHASE = 3;
        return d
    }();
    d.EventPhase = g;
    g.prototype.__class__ = "egret.EventPhase"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            void 0 === a && (a = null);
            f.call(this);
            this._captureEventsMap = this._eventsMap = this._eventTarget = null;
            this._eventTarget = a ? a : this
        }

        __extends(c, f);
        var b = c.prototype;
        b.addEventListener = function (a, e, h, b, c) {
            void 0 === b && (b = !1);
            void 0 === c && (c = 0);
            "undefined" === typeof b && (b = !1);
            "undefined" === typeof c && (c = 0);
            e || d.$error(1010);
            b ? (this._captureEventsMap || (this._captureEventsMap = {}), b = this._captureEventsMap) : (this._eventsMap || (this._eventsMap = {}), b = this._eventsMap);
            var f =
                b[a];
            f || (f = b[a] = []);
            this._insertEventBin(f, e, h, c)
        };
        b._insertEventBin = function (a, e, h, b, c) {
            void 0 === c && (c = void 0);
            for (var d = -1, f = a.length, g = 0; g < f; g++) {
                var l = a[g];
                if (l.listener == e && l.thisObject == h && l.display == c)return !1;
                -1 == d && l.priority < b && (d = g)
            }
            e = {listener: e, thisObject: h, priority: b};
            c && (e.display = c);
            -1 != d ? a.splice(d, 0, e) : a.push(e);
            return !0
        };
        b.removeEventListener = function (a, e, h, b) {
            void 0 === b && (b = !1);
            if (b = b ? this._captureEventsMap : this._eventsMap) {
                var c = b[a];
                c && (this._removeEventBin(c, e, h), 0 == c.length && delete b[a])
            }
        };
        b._removeEventBin = function (a, e, h, b, c) {
            void 0 === b && (b = void 0);
            void 0 === c && (c = 0);
            for (var d = a.length; c < d; c++) {
                var f = a[c];
                if (f.listener == e && f.thisObject == h && f.display == b)return a.splice(c, 1), !0
            }
            return !1
        };
        b.hasEventListener = function (a) {
            return !!(this._eventsMap && this._eventsMap[a] || this._captureEventsMap && this._captureEventsMap[a])
        };
        b.willTrigger = function (a) {
            return this.hasEventListener(a)
        };
        b.dispatchEvent = function (a) {
            a._reset();
            a._target = this._eventTarget;
            a._currentTarget = this._eventTarget;
            return this._notifyListener(a)
        };
        b._notifyListener = function (a) {
            var e = 1 == a._eventPhase ? this._captureEventsMap : this._eventsMap;
            if (!e)return !0;
            e = e[a._type];
            if (!e)return !0;
            var h = e.length;
            if (0 == h)return !0;
            for (var e = e.concat(), b = 0; b < h; b++) {
                var c = e[b];
                c.listener.call(c.thisObject, a);
                if (a._isPropagationImmediateStopped)break
            }
            return !a._isDefaultPrevented
        };
        b.dispatchEventWith = function (a, e, h) {
            void 0 === e && (e = !1);
            d.Event.dispatchEvent(this, a, e, h)
        };
        return c
    }(d.HashObject);
    d.EventDispatcher = g;
    g.prototype.__class__ =
        "egret.EventDispatcher"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.stage = this.deviceContext = this.netContext = this.touchContext = this.rendererContext = null;
            this.reuseEvent = new d.Event("")
        }

        __extends(c, f);
        var b = c.prototype;
        b.run = function () {
            d.Ticker.getInstance().run();
            d.Ticker.getInstance().register(this.renderLoop, this, Number.NEGATIVE_INFINITY);
            d.Ticker.getInstance().register(this.broadcastEnterFrame, this, Number.POSITIVE_INFINITY);
            this.touchContext.run();
            this._profileInstance = d.Profiler.getInstance()
        };
        b.renderLoop =
            function (a) {
                if (0 < d.__callLaterFunctionList.length) {
                    var e = d.__callLaterFunctionList;
                    d.__callLaterFunctionList = [];
                    var h = d.__callLaterThisList;
                    d.__callLaterThisList = [];
                    var b = d.__callLaterArgsList;
                    d.__callLaterArgsList = []
                }
                a = this.stage;
                var f = c.cachedEvent;
                f._type = d.Event.RENDER;
                this.dispatchEvent(f);
                d.Stage._invalidateRenderFlag && (this.broadcastRender(), d.Stage._invalidateRenderFlag = !1);
                e && this.doCallLaterList(e, h, b);
                0 < d.__callAsyncFunctionList.length && this.doCallAsyncList();
                e = this.rendererContext;
                e.onRenderStart();
                e.clearScreen();
                c.__DRAW_COMMAND_LIST = [];
                c._renderLoopPhase = "updateTransform";
                a._updateTransform();
                c._renderLoopPhase = "draw";
                f._type = d.Event.FINISH_UPDATE_TRANSFORM;
                this.dispatchEvent(f);
                c.__use_new_draw ? this._draw(e) : a._draw(e);
                f._type = d.Event.FINISH_RENDER;
                this.dispatchEvent(f);
                this._profileInstance._isRunning && this._profileInstance._drawProfiler(e);
                e.onRenderFinish()
            };
        b._draw = function (a) {
            for (var e = c.__DRAW_COMMAND_LIST, h = e.length, b = 0; b < h; b++) {
                var d = e[b];
                d.call(a);
                d.dispose()
            }
        };
        b.broadcastEnterFrame =
            function (a) {
                a = this.reuseEvent;
                a._type = d.Event.ENTER_FRAME;
                this.dispatchEvent(a);
                for (var e = d.DisplayObject._enterFrameCallBackList.concat(), h = e.length, b = 0; b < h; b++) {
                    var c = e[b];
                    a._target = c.display;
                    a._currentTarget = c.display;
                    c.listener.call(c.thisObject, a)
                }
                e = d.Recycler._callBackList;
                for (b = e.length - 1; 0 <= b; b--)e[b]._checkFrame()
            };
        b.broadcastRender = function () {
            var a = this.reuseEvent;
            a._type = d.Event.RENDER;
            for (var e = d.DisplayObject._renderCallBackList.concat(), h = e.length, b = 0; b < h; b++) {
                var c = e[b], f = c.display;
                a._target = f;
                a._currentTarget = f;
                c.listener.call(c.thisObject, a)
            }
        };
        b.doCallLaterList = function (a, e, h) {
            for (var b = a.length, c = 0; c < b; c++) {
                var d = a[c];
                null != d && d.apply(e[c], h[c])
            }
        };
        b.doCallAsyncList = function () {
            var a = d.__callAsyncFunctionList.concat(), e = d.__callAsyncThisList.concat(), h = d.__callAsyncArgsList.concat();
            d.__callAsyncFunctionList.length = 0;
            d.__callAsyncThisList.length = 0;
            for (var b = d.__callAsyncArgsList.length = 0; b < a.length; b++) {
                var c = a[b];
                null != c && c.apply(e[b], h[b])
            }
        };
        c.deviceType = null;
        c.DEVICE_PC =
            "web";
        c.DEVICE_MOBILE = "native";
        c.RUNTIME_HTML5 = "runtimeHtml5";
        c.RUNTIME_NATIVE = "runtimeNative";
        c.__DRAW_COMMAND_LIST = [];
        c.__use_new_draw = !0;
        c.cachedEvent = new d.Event("");
        return c
    }(d.EventDispatcher);
    d.MainContext = g;
    g.prototype.__class__ = "egret.MainContext"
})(egret || (egret = {}));
var testDeviceType = function () {
    if (!this.navigator)return !0;
    var d = navigator.userAgent.toLowerCase();
    return -1 != d.indexOf("mobile") || -1 != d.indexOf("android")
}, testRuntimeType = function () {
    return this.navigator ? !0 : !1
};
egret.MainContext.instance = new egret.MainContext;
egret.MainContext.deviceType = testDeviceType() ? egret.MainContext.DEVICE_MOBILE : egret.MainContext.DEVICE_PC;
egret.MainContext.runtimeType = testRuntimeType() ? egret.MainContext.RUNTIME_HTML5 : egret.MainContext.RUNTIME_NATIVE;
delete testDeviceType;
delete testRuntimeType;
(function (d) {
    var g = function () {
        function f() {
            this._preDrawCount = this._updateTransformPerformanceCost = this._renderPerformanceCost = this._logicPerformanceCost = this._lastTime = 0;
            this._calculatePreDrawCount = !0;
            this._txt = null;
            this._tick = 0;
            this._maxDeltaTime = 500;
            this._totalDeltaTime = 0;
            this._isRunning = !1
        }

        var c = f.prototype;
        f.getInstance = function () {
            null == f.instance && (f.instance = new f);
            return f.instance
        };
        c.stop = function () {
            if (this._isRunning) {
                this._isRunning = !1;
                d.Ticker.getInstance().unregister(this.update, this);
                var b = d.MainContext.instance;
                b.removeEventListener(d.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.removeEventListener(d.Event.RENDER, this.onStartRender, this);
                b.removeEventListener(d.Event.FINISH_RENDER, this.onFinishRender, this);
                b.removeEventListener(d.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        c.run = function () {
            null == this._txt && (this._txt = new d.TextField, this._txt.size = 28, this._txt.multiline = !0, this._txt._DO_Props_._parent = new d.DisplayObjectContainer);
            if (!this._isRunning) {
                this._isRunning = !0;
                d.Ticker.getInstance().register(this.update, this);
                var b = d.MainContext.instance;
                b.addEventListener(d.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.addEventListener(d.Event.RENDER, this.onStartRender, this);
                b.addEventListener(d.Event.FINISH_RENDER, this.onFinishRender, this);
                b.addEventListener(d.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        c._drawProfiler = function (b) {
            "_drawWebGL"in b && b._drawWebGL();
            this._calculatePreDrawCount = !1;
            this._txt._updateTransform();
            this._txt._draw(b)
        };
        c._setTxtFontSize =
            function (b) {
                this._txt.size = b
            };
        c.onEnterFrame = function (b) {
            this._lastTime = d.getTimer()
        };
        c.onStartRender = function (b) {
            b = d.getTimer();
            this._logicPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        c.onFinishUpdateTransform = function (b) {
            b = d.getTimer();
            this._updateTransformPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        c.onFinishRender = function (b) {
            b = d.getTimer();
            this._renderPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        c.update = function (b) {
            this._tick++;
            this._totalDeltaTime += b;
            if (this._totalDeltaTime >=
                this._maxDeltaTime) {
                b = this._preDrawCount.toString();
                var a = Math.ceil(this._logicPerformanceCost).toString() + "," + Math.ceil(this._updateTransformPerformanceCost).toString() + "," + Math.ceil(this._renderPerformanceCost).toString() + "," + Math.ceil(d.MainContext.instance.rendererContext.renderCost).toString();
                this._txt.text = "draw:" + b + "\ncost:" + a + "\nFPS:" + Math.floor(1E3 * this._tick / this._totalDeltaTime).toString();
                this._tick = this._totalDeltaTime = 0
            }
            this._preDrawCount = 0;
            this._calculatePreDrawCount = !0
        };
        c.onDrawImage =
            function () {
                this._calculatePreDrawCount && this._preDrawCount++
            };
        return f
    }();
    d.Profiler = g;
    g.prototype.__class__ = "egret.Profiler"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._timeScale = 1;
            this._paused = !1;
            this._callIndex = -1;
            this.callBackList = [];
            null != c.instance && d.$error(1002)
        }

        __extends(c, f);
        var b = c.prototype;
        b.run = function () {
            d.__START_TIME = (new Date).getTime();
            d.MainContext.instance.deviceContext.executeMainLoop(this.update, this)
        };
        b.update = function (a) {
            if (!this._paused) {
                a *= this._timeScale;
                this._callList = this.callBackList.concat();
                for (this._callIndex = 0; this._callIndex < this._callList.length; this._callIndex++) {
                    var e =
                        this._callList[this._callIndex];
                    e.listener.call(e.thisObject, a)
                }
                this._callIndex = -1;
                this._callList = null
            }
        };
        b.register = function (a, e, h) {
            void 0 === h && (h = 0);
            this._insertEventBin(this.callBackList, a, e, h)
        };
        b.unregister = function (a, e) {
            this._removeEventBin(this.callBackList, a, e);
            this._callList && -1 < this._callIndex && this._removeEventBin(this._callList, a, e, null, this._callIndex + 1)
        };
        b.setTimeout = function (a, e, h) {
            for (var b = [], c = 3; c < arguments.length; c++)b[c - 3] = arguments[c];
            d.$warn(1003);
            d.setTimeout.apply(null, [a, e,
                h].concat(b))
        };
        b.setTimeScale = function (a) {
            this._timeScale = a
        };
        b.getTimeScale = function () {
            return this._timeScale
        };
        b.pause = function () {
            this._paused = !0
        };
        b.resume = function () {
            this._paused = !1
        };
        c.getInstance = function () {
            null == c.instance && (c.instance = new c);
            return c.instance
        };
        return c
    }(d.EventDispatcher);
    d.Ticker = g;
    g.prototype.__class__ = "egret.Ticker"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.LEFT = "left";
        d.RIGHT = "right";
        d.CENTER = "center";
        d.JUSTIFY = "justify";
        d.CONTENT_JUSTIFY = "contentJustify";
        return d
    }();
    d.HorizontalAlign = g;
    g.prototype.__class__ = "egret.HorizontalAlign"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.TOP = "top";
        d.BOTTOM = "bottom";
        d.MIDDLE = "middle";
        d.JUSTIFY = "justify";
        d.CONTENT_JUSTIFY = "contentJustify";
        return d
    }();
    d.VerticalAlign = g;
    g.prototype.__class__ = "egret.VerticalAlign"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e) {
            void 0 === e && (e = 0);
            f.call(this);
            this._currentCount = 0;
            this._running = !1;
            this.lastTime = 0;
            this.delay = a;
            this.repeatCount = e
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "currentCount", {
            get: function () {
                return this._currentCount
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "running", {
            get: function () {
                return this._running
            }, enumerable: !0, configurable: !0
        });
        b.reset = function () {
            this.stop();
            this._currentCount = 0
        };
        b.start = function () {
            this._running ||
            (this.lastTime = d.getTimer(), d.Ticker.getInstance().register(this.onEnterFrame, this), this._running = !0)
        };
        b.stop = function () {
            this._running && (d.Ticker.getInstance().unregister(this.onEnterFrame, this), this._running = !1)
        };
        b.onEnterFrame = function (a) {
            a = d.getTimer();
            a - this.lastTime > this.delay && (this.lastTime = a, this._currentCount++, d.TimerEvent.dispatchTimerEvent(this, d.TimerEvent.TIMER), 0 < this.repeatCount && this._currentCount >= this.repeatCount && (this.stop(), d.TimerEvent.dispatchTimerEvent(this, d.TimerEvent.TIMER_COMPLETE)))
        };
        return c
    }(d.EventDispatcher);
    d.Timer = g;
    g.prototype.__class__ = "egret.Timer"
})(egret || (egret = {}));
(function (d) {
    function g(d) {
        d = d.prototype ? d.prototype : Object.getPrototypeOf(d);
        if (d.hasOwnProperty("__class__"))return d.__class__;
        var c = d.constructor.toString(), b = c.indexOf("("), c = c.substring(9, b);
        Object.defineProperty(d, "__class__", {value: c, enumerable: !1, writable: !0});
        return c
    }

    d.getQualifiedClassName = g;
    d.getQualifiedSuperclassName = function (d) {
        d = d.prototype ? d.prototype : Object.getPrototypeOf(d);
        if (d.hasOwnProperty("__superclass__"))return d.__superclass__;
        var c = Object.getPrototypeOf(d);
        if (null == c)return null;
        c = g(c.constructor);
        if (!c)return null;
        Object.defineProperty(d, "__superclass__", {value: c, enumerable: !1, writable: !0});
        return c
    }
})(egret || (egret = {}));
(function (d) {
    var g = {};
    d.getDefinitionByName = function (d) {
        if (!d)return null;
        var c = g[d];
        if (c)return c;
        for (var b = d.split("."), a = b.length, c = __global, e = 0; e < a; e++)if (c = c[b[e]], !c)return null;
        return g[d] = c
    }
})(egret || (egret = {}));
var __global = __global || this;
(function (d) {
    function g(b) {
        for (var a in f) {
            var e = f[a];
            e.delay -= b;
            0 >= e.delay && (e.listener.apply(e.thisObject, e.params), delete f[a])
        }
    }

    var f = {}, c = 0;
    d.setTimeout = function (b, a, e) {
        for (var h = [], F = 3; F < arguments.length; F++)h[F - 3] = arguments[F];
        h = {listener: b, thisObject: a, delay: e, params: h};
        0 == c && d.Ticker.getInstance().register(g, null);
        c++;
        f[c] = h;
        return c
    };
    d.clearTimeout = function (b) {
        delete f[b]
    }
})(egret || (egret = {}));
(function (d) {
    function g(b) {
        for (var a in f) {
            var e = f[a];
            e.delay -= b;
            0 >= e.delay && (e.delay = e.originDelay, e.listener.apply(e.thisObject, e.params))
        }
    }

    var f = {}, c = 0;
    d.setInterval = function (b, a, e) {
        for (var h = [], F = 3; F < arguments.length; F++)h[F - 3] = arguments[F];
        h = {listener: b, thisObject: a, delay: e, originDelay: e, params: h};
        0 == c && d.Ticker.getInstance().register(g, null);
        c++;
        f[c] = h;
        return c
    };
    d.clearInterval = function (b) {
        delete f[b]
    }
})(egret || (egret = {}));
(function (d) {
    d.hasDefinition = function (g) {
        return d.getDefinitionByName(g) ? !0 : !1
    }
})(egret || (egret = {}));
(function (d) {
    d.toColorString = function (d) {
        if (isNaN(d) || 0 > d)d = 0;
        16777215 < d && (d = 16777215);
        for (d = d.toString(16).toUpperCase(); 6 > d.length;)d = "0" + d;
        return "#" + d
    }
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e, h, b, d, c) {
            void 0 === a && (a = 1);
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 1);
            void 0 === d && (d = 0);
            void 0 === c && (c = 0);
            f.call(this);
            this.a = a;
            this.b = e;
            this.c = h;
            this.d = b;
            this.tx = d;
            this.ty = c
        }

        __extends(c, f);
        var b = c.prototype;
        b.prepend = function (a, e, h, b, d, c) {
            var f = this.tx;
            if (1 != a || 0 != e || 0 != h || 1 != b) {
                var g = this.a, l = this.c;
                this.a = g * a + this.b * h;
                this.b = g * e + this.b * b;
                this.c = l * a + this.d * h;
                this.d = l * e + this.d * b
            }
            this.tx = f * a + this.ty * h + d;
            this.ty = f * e + this.ty * b + c;
            return this
        };
        b.append = function (a, e, h, b, d, c) {
            var f = this.a, g = this.b, l = this.c, m = this.d;
            if (1 != a || 0 != e || 0 != h || 1 != b)this.a = a * f + e * l, this.b = a * g + e * m, this.c = h * f + b * l, this.d = h * g + b * m;
            this.tx = d * f + c * l + this.tx;
            this.ty = d * g + c * m + this.ty;
            return this
        };
        b.prependTransform = function (a, e, h, b, c, f, g, k, l) {
            if (c % 360) {
                var m = d.NumberUtils.cos(c);
                c = d.NumberUtils.sin(c)
            } else m = 1, c = 0;
            if (k || l)this.tx -= k, this.ty -= l;
            f || g ? (this.prepend(m * h, c * h, -c * b, m * b, 0, 0), this.prepend(d.NumberUtils.cos(g), d.NumberUtils.sin(g), -d.NumberUtils.sin(f), d.NumberUtils.cos(f),
                a, e)) : this.prepend(m * h, c * h, -c * b, m * b, a, e);
            return this
        };
        b.appendTransform = function (a, e, h, b, c, f, g, k, l) {
            if (c % 360) {
                var m = d.NumberUtils.cos(c);
                c = d.NumberUtils.sin(c)
            } else m = 1, c = 0;
            f || g ? (this.append(d.NumberUtils.cos(g), d.NumberUtils.sin(g), -d.NumberUtils.sin(f), d.NumberUtils.cos(f), a, e), this.append(m * h, c * h, -c * b, m * b, 0, 0)) : this.append(m * h, c * h, -c * b, m * b, a, e);
            if (k || l)this.tx -= k * this.a + l * this.c, this.ty -= k * this.b + l * this.d;
            return this
        };
        b.rotate = function (a) {
            var e = Math.cos(a);
            a = Math.sin(a);
            var h = this.a, b = this.c, c =
                this.tx;
            this.a = h * e - this.b * a;
            this.b = h * a + this.b * e;
            this.c = b * e - this.d * a;
            this.d = b * a + this.d * e;
            this.tx = c * e - this.ty * a;
            this.ty = c * a + this.ty * e;
            return this
        };
        b.skew = function (a, e) {
            this.append(d.NumberUtils.cos(e), d.NumberUtils.sin(e), -d.NumberUtils.sin(a), d.NumberUtils.cos(a), 0, 0);
            return this
        };
        b.scale = function (a, e) {
            this.a *= a;
            this.d *= e;
            this.c *= a;
            this.b *= e;
            this.tx *= a;
            this.ty *= e;
            return this
        };
        b.translate = function (a, e) {
            this.tx += a;
            this.ty += e;
            return this
        };
        b.identity = function () {
            this.a = this.d = 1;
            this.b = this.c = this.tx = this.ty =
                0;
            return this
        };
        b.identityMatrix = function (a) {
            this.a = a.a;
            this.b = a.b;
            this.c = a.c;
            this.d = a.d;
            this.tx = a.tx;
            this.ty = a.ty;
            return this
        };
        b.invert = function () {
            var a = this.a, e = this.b, h = this.c, b = this.d, c = this.tx, d = a * b - e * h;
            this.a = b / d;
            this.b = -e / d;
            this.c = -h / d;
            this.d = a / d;
            this.tx = (h * this.ty - b * c) / d;
            this.ty = -(a * this.ty - e * c) / d;
            return this
        };
        c.transformCoords = function (a, e, h) {
            var b = d.Point.identity;
            b.x = a.a * e + a.c * h + a.tx;
            b.y = a.d * h + a.b * e + a.ty;
            return b
        };
        b.toArray = function (a) {
            this.array || (this.array = new Float32Array(9));
            a ? (this.array[0] =
                this.a, this.array[1] = this.b, this.array[2] = 0, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = 0, this.array[6] = this.tx, this.array[7] = this.ty) : (this.array[0] = this.a, this.array[1] = this.b, this.array[2] = this.tx, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = this.ty, this.array[6] = 0, this.array[7] = 0);
            this.array[8] = 1;
            return this.array
        };
        b.setTo = function (a, e, h, b, c, d) {
            this.a = a;
            this.b = e;
            this.c = h;
            this.d = b;
            this.tx = c;
            this.ty = d
        };
        b.copyFrom = function (a) {
            this.identityMatrix(a)
        };
        b.clone = function () {
            return new c(this.a,
                this.b, this.c, this.d, this.tx, this.ty)
        };
        b.concat = function (a) {
            var e = this.a, h = this.b, b = this.c, c = this.d, d = this.tx, f = this.ty, g = a.a, l = a.b, m = a.c, p = a.d, q = e * g, r = 0, x = 0, y = c * p, s = d * g + a.tx;
            a = f * p + a.ty;
            if (0 != h || 0 != b || 0 != l || 0 != m)q += h * m, y += b * l, r += e * l + h * p, x += b * g + c * m, s += f * m, a += d * l;
            this.a = q;
            this.b = r;
            this.c = x;
            this.d = y;
            this.tx = s;
            this.ty = a
        };
        b.deltaTransformPoint = function (a) {
            return new d.Point(this.a * a.x + this.c * a.y, this.b * a.x + this.d * a.y)
        };
        b.transformPoint = function (a) {
            return new d.Point(this.a * a.x + this.c * a.y + this.tx, this.b *
            a.x + this.d * a.y + this.ty)
        };
        b.toString = function () {
            return "(a=" + this.a + ", b=" + this.b + ", c=" + this.c + ", d=" + this.d + ", tx=" + this.tx + ", ty=" + this.ty + ")"
        };
        b.createBox = function (a, e, h, b, c) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            if (0 !== h) {
                h /= d.Matrix.DEG_TO_RAD;
                var f = d.NumberUtils.cos(h);
                h = d.NumberUtils.sin(h);
                this.a = f * a;
                this.b = h * e;
                this.c = -h * a;
                this.d = f * e
            } else this.a = a, this.c = this.b = 0, this.d = e;
            this.tx = b;
            this.ty = c
        };
        b.createGradientBox = function (a, e, h, b, c) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 ===
            c && (c = 0);
            this.createBox(a / 1638.4, e / 1638.4, h, b + a / 2, c + e / 2)
        };
        c.identity = new c;
        c.DEG_TO_RAD = Math.PI / 180;
        return c
    }(d.HashObject);
    d.Matrix = g;
    g.prototype.__class__ = "egret.Matrix"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            f.call(this);
            this.x = a;
            this.y = e
        }

        __extends(c, f);
        var b = c.prototype;
        b.clone = function () {
            return new c(this.x, this.y)
        };
        b.equals = function (a) {
            return this.x == a.x && this.y == a.y
        };
        c.distance = function (a, e) {
            return Math.sqrt((a.x - e.x) * (a.x - e.x) + (a.y - e.y) * (a.y - e.y))
        };
        b.setTo = function (a, e) {
            this.x = a;
            this.y = e
        };
        b.copyFrom = function (a) {
            this.x = a.x;
            this.y = a.y
        };
        Object.defineProperty(b, "length", {
            get: function () {
                return Math.sqrt(this.x * this.x + this.y *
                this.y)
            }, enumerable: !0, configurable: !0
        });
        b.add = function (a) {
            return new c(this.x + a.x, this.y + a.y)
        };
        c.interpolate = function (a, e, h) {
            var b = 1 - h;
            return new c(a.x * h + e.x * b, a.y * h + e.y * b)
        };
        b.normalize = function (a) {
            if (0 != this.x || 0 != this.y)a /= this.length, this.x *= a, this.y *= a
        };
        b.offset = function (a, e) {
            this.x += a;
            this.y += e
        };
        c.polar = function (a, e) {
            return new c(a * d.NumberUtils.cos(e / d.Matrix.DEG_TO_RAD), a * d.NumberUtils.sin(e / d.Matrix.DEG_TO_RAD))
        };
        b.subtract = function (a) {
            return new c(this.x - a.x, this.y - a.y)
        };
        b.toString = function () {
            return "(x=" +
                this.x + ", y=" + this.y + ")"
        };
        c.identity = new c(0, 0);
        return c
    }(d.HashObject);
    d.Point = g;
    g.prototype.__class__ = "egret.Point"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e, h, b) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            f.call(this);
            this.x = a;
            this.y = e;
            this.width = h;
            this.height = b
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "left", {
            get: function () {
                return this.x
            }, set: function (a) {
                this.width += this.x - a;
                this.x = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "right", {
            get: function () {
                return this.x + this.width
            }, set: function (a) {
                this.width = a - this.x
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b,
            "top", {
                get: function () {
                    return this.y
                }, set: function (a) {
                    this.height += this.y - a;
                    this.y = a
                }, enumerable: !0, configurable: !0
            });
        Object.defineProperty(b, "bottom", {
            get: function () {
                return this.y + this.height
            }, set: function (a) {
                this.height = a - this.y
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "topLeft", {
            get: function () {
                return new d.Point(this.left, this.top)
            }, set: function (a) {
                this.top = a.y;
                this.left = a.x
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "bottomRight", {
            get: function () {
                return new d.Point(this.right,
                    this.bottom)
            }, set: function (a) {
                this.bottom = a.y;
                this.right = a.x
            }, enumerable: !0, configurable: !0
        });
        b.initialize = function (a, e, h, b) {
            this.x = a;
            this.y = e;
            this.width = h;
            this.height = b;
            return this
        };
        b.contains = function (a, e) {
            return this.x <= a && this.x + this.width >= a && this.y <= e && this.y + this.height >= e
        };
        b.intersects = function (a) {
            return Math.max(this.x, a.x) <= Math.min(this.right, a.right) && Math.max(this.y, a.y) <= Math.min(this.bottom, a.bottom)
        };
        b.setEmpty = function () {
            this.height = this.width = this.y = this.x = 0
        };
        b.clone = function () {
            return new c(this.x,
                this.y, this.width, this.height)
        };
        b.containsPoint = function (a) {
            return this.x < a.x && this.x + this.width > a.x && this.y < a.y && this.y + this.height > a.y ? !0 : !1
        };
        b.setTo = function (a, e, h, b) {
            this.initialize(a, e, h, b)
        };
        b.copyFrom = function (a) {
            this.x = a.x;
            this.y = a.y;
            this.width = a.width;
            this.height = a.height
        };
        b.inflate = function (a, e) {
            this.x -= a;
            this.width += 2 * a;
            this.y -= e;
            this.height += 2 * e
        };
        b.isEmpty = function () {
            return 0 == this.width || 0 == this.height
        };
        b.containsRect = function (a) {
            var e = a.x + a.width, h = a.y + a.height, b = this.x + this.width, c =
                this.y + this.height;
            return a.x >= this.x && a.x < b && a.y >= this.y && a.y < c && e > this.x && e <= b && h > this.y && h <= c
        };
        b.equals = function (a) {
            return this === a ? !0 : this.x === a.x && this.y === a.y && this.width === a.width && this.height === a.height
        };
        b.inflatePoint = function (a) {
            this.inflate(a.x, a.y)
        };
        b.intersection = function (a) {
            var e = this.clone(), h = e.x, b = e.y, c = a.x, d = a.y, f = Math.max(h, c), h = Math.min(h + e.width, c + a.width);
            if (f <= h && (c = Math.max(b, d), a = Math.min(b + e.height, d + a.height), c <= a))return e.setTo(f, c, h - f, a - c), e;
            e.setEmpty();
            return e
        };
        b.offset =
            function (a, e) {
                this.x += a;
                this.y += e
            };
        b.offsetPoint = function (a) {
            this.offset(a.x, a.y)
        };
        b.toString = function () {
            return "(x=" + this.x + ", y=" + this.y + ", width=" + this.width + ", height=" + this.height + ")"
        };
        b.union = function (a) {
            var e = this.clone();
            if (a.isEmpty())return e;
            if (e.isEmpty())return e.copyFrom(a), e;
            var h = Math.min(e.x, a.x), b = Math.min(e.y, a.y);
            e.setTo(h, b, Math.max(e.right, a.right) - h, Math.max(e.bottom, a.bottom) - b);
            return e
        };
        c.identity = new c(0, 0, 0, 0);
        return c
    }(d.HashObject);
    d.Rectangle = g;
    g.prototype.__class__ =
        "egret.Rectangle"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(a, e, h, b, c, g, n, k) {
            void 0 === a && (a = 1);
            void 0 === e && (e = 1);
            void 0 === h && (h = 1);
            void 0 === b && (b = 1);
            void 0 === c && (c = 0);
            void 0 === g && (g = 0);
            void 0 === n && (n = 0);
            void 0 === k && (k = 0);
            d.call(this);
            this._redMultiplier = a;
            this._greenMultiplier = e;
            this._blueMultiplier = h;
            this._alphaMultiplier = b;
            this._redOffset = c;
            this._greenOffset = g;
            this._blueOffset = n;
            this._alphaOffset = k
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "alphaMultiplier", {
            get: function () {
                return this._alphaMultiplier
            }, set: function (a) {
                this._alphaMultiplier =
                    a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "alphaOffset", {
            get: function () {
                return this._alphaOffset
            }, set: function (a) {
                this._alphaOffset = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "blueMultiplier", {
            get: function () {
                return this._blueMultiplier
            }, set: function (a) {
                this._blueMultiplier = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "blueOffset", {
            get: function () {
                return this._blueOffset
            }, set: function (a) {
                this._blueOffset = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b,
            "greenMultiplier", {
                get: function () {
                    return this._greenMultiplier
                }, set: function (a) {
                    this._greenMultiplier = a
                }, enumerable: !0, configurable: !0
            });
        Object.defineProperty(b, "greenOffset", {
            get: function () {
                return this._greenOffset
            }, set: function (a) {
                this._greenOffset = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "redMultiplier", {
            get: function () {
                return this._redMultiplier
            }, set: function (a) {
                this._redMultiplier = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "redOffset", {
            get: function () {
                return this._redOffset
            },
            set: function (a) {
                this._redOffset = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "color", {
            get: function () {
                return this._redOffset << 16 + this._greenOffset << 8 + this._blueOffset
            }, enumerable: !0, configurable: !0
        });
        b.identityColorTransform = function (a) {
            this._alphaMultiplier = a._alphaMultiplier;
            this._alphaOffset = a._alphaOffset;
            this._redMultiplier = a._redMultiplier;
            this._redOffset = a._redOffset;
            this._greenMultiplier = a._greenMultiplier;
            this._greenOffset = a._greenOffset;
            this._blueMultiplier = a._blueMultiplier;
            this._blueOffset = a._blueOffset
        };
        b.concat = function (a) {
            this._redMultiplier *= a._redMultiplier;
            this._greenMultiplier *= a._greenMultiplier;
            this._blueMultiplier *= a._blueMultiplier;
            this._alphaMultiplier *= a._alphaMultiplier;
            this._redOffset += a._redOffset;
            this._greenOffset += a._greenOffset;
            this._blueOffset += a._blueOffset;
            this._alphaOffset += a._alphaOffset
        };
        b.toString = function () {
            return "(redMultiplier=" + this._redMultiplier + ", greenMultiplier=" + this._greenMultiplier + ", blueMultiplier=" + this._blueMultiplier + ", alphaMultiplier=" +
                this._alphaMultiplier + ", redOffset=" + this._redOffset + ", greenOffset=" + this._greenOffset + ", blueOffset=" + this._blueOffset + ", alphaOffset=" + this._alphaOffset + ")"
        };
        return c
    }(d.HashObject);
    d.ColorTransform = g;
    g.prototype.__class__ = "egret.ColorTransform"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this);
            this._matrix = new d.Matrix;
            this._matrix2 = new d.Matrix;
            this._colorTransform = new d.ColorTransform;
            this._colorTransform2 = new d.ColorTransform;
            this._display = a
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "matrix", {
            get: function () {
                this._matrix2.identityMatrix(this._matrix);
                return this._matrix2
            }, set: function (a) {
                this._setMatrix(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMatrix = function (a) {
            this._display.__hack_local_matrix || (this._display.__hack_local_matrix =
                new d.Matrix);
            this._display.__hack_local_matrix.identityMatrix(a);
            this._matrix.identityMatrix(a)
        };
        Object.defineProperty(b, "colorTransform", {
            get: function () {
                this._colorTransform2.identityColorTransform(this._colorTransform);
                return this._colorTransform2
            }, set: function (a) {
                this._setColorTransform(a)
            }, enumerable: !0, configurable: !0
        });
        b._setColorTransform = function (a) {
            this._colorTransform.identityColorTransform(a)
        };
        return c
    }(d.HashObject);
    d.Transform = g;
    g.prototype.__class__ = "egret.Transform"
})(egret || (egret =
{}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._isSupportDOMParser = this._xmlDict = this._parser = null;
            this._xmlDict = {};
            window.DOMParser ? (this._isSupportDOMParser = !0, this._parser = new DOMParser) : this._isSupportDOMParser = !1
        }

        __extends(c, f);
        var b = c.prototype;
        c.getInstance = function () {
            c._instance || (c._instance = new c);
            return c._instance
        };
        b.parserXML = function (a) {
            for (var e = 0; "\n" == a.charAt(e) || "\t" == a.charAt(e) || "\r" == a.charAt(e) || " " == a.charAt(e);)e++;
            0 != e && (a = a.substring(e, a.length));
            this._isSupportDOMParser ? e =
                this._parser.parseFromString(a, "text/xml") : (e = new ActiveXObject("Microsoft.XMLDOM"), e.async = "false", e.loadXML(a));
            null == e && d.$warn(1015);
            return e
        };
        c._instance = null;
        return c
    }(d.HashObject);
    d.SAXParser = g;
    g.prototype.__class__ = "egret.SAXParser"
})(egret || (egret = {}));
(function (d) {
    var g = function (a) {
        function h() {
            a.call(this);
            this._designHeight = this._designWidth = 0;
            this._scaleY = this._scaleX = 1;
            this._stageHeight = this._stageWidth = this._offSetY = 0
        }

        __extends(h, a);
        var b = h.prototype;
        h.getInstance = function () {
            null == h.instance && (c.initialize(), h.instance = new h);
            return h.instance
        };
        b.setDesignSize = function (a, e, h) {
            this._designWidth = a;
            this._designHeight = e;
            h && (d.$warn(1001), this._setResolutionPolicy(h))
        };
        b._setResolutionPolicy = function (a) {
            this._resolutionPolicy = a;
            a.init(this);
            a._apply(this,
                this._designWidth, this._designHeight)
        };
        b.getScaleX = function () {
            return this._scaleX
        };
        b.getScaleY = function () {
            return this._scaleY
        };
        b.getOffSetY = function () {
            return this._offSetY
        };
        h.canvas_name = "egretCanvas";
        h.egret_root_div = "gameDiv";
        h.canvas_div_name = "canvasDiv";
        return h
    }(d.HashObject);
    d.StageDelegate = g;
    g.prototype.__class__ = "egret.StageDelegate";
    var f = function () {
        function a(e, h) {
            this._containerStrategy = e;
            this._contentStrategy = h
        }

        var h = a.prototype;
        h.init = function (a) {
            this._containerStrategy.init(a);
            this._contentStrategy.init(a)
        };
        h._apply = function (a, e, h) {
            this._containerStrategy._apply(a, e, h);
            this._contentStrategy._apply(a, e, h)
        };
        return a
    }();
    d.ResolutionPolicy = f;
    f.prototype.__class__ = "egret.ResolutionPolicy";
    var c = function () {
        function a() {
        }

        var h = a.prototype;
        a.initialize = function () {
            a.EQUAL_TO_FRAME = new b
        };
        h.init = function (a) {
        };
        h._apply = function (a, e, h) {
        };
        h._setupContainer = function () {
            var a = document.body, e;
            a && (e = a.style) && (e.paddingTop = e.paddingTop || "0px", e.paddingRight = e.paddingRight || "0px", e.paddingBottom = e.paddingBottom || "0px",
                e.paddingLeft = e.paddingLeft || "0px", e.borderTop = e.borderTop || "0px", e.borderRight = e.borderRight || "0px", e.borderBottom = e.borderBottom || "0px", e.borderLeft = e.borderLeft || "0px", e.marginTop = e.marginTop || "0px", e.marginRight = e.marginRight || "0px", e.marginBottom = e.marginBottom || "0px", e.marginLeft = e.marginLeft || "0px")
        };
        return a
    }();
    d.ContainerStrategy = c;
    c.prototype.__class__ = "egret.ContainerStrategy";
    var b = function (a) {
        function h() {
            a.apply(this, arguments)
        }

        __extends(h, a);
        h.prototype._apply = function (a) {
            this._setupContainer()
        };
        return h
    }(c);
    d.EqualToFrame = b;
    b.prototype.__class__ = "egret.EqualToFrame";
    f = function () {
        function a() {
        }

        var h = a.prototype;
        h.init = function (a) {
        };
        h._apply = function (a, e, h) {
        };
        h.setEgretSize = function (a, e, h, b, c, f) {
            void 0 === f && (f = 0);
            d.StageDelegate.getInstance()._stageWidth = Math.round(a);
            d.StageDelegate.getInstance()._stageHeight = Math.round(e);
            a = document.getElementById(g.canvas_div_name);
            e = document.getElementById(g.egret_root_div);
            a || (a = d.Browser.getInstance().$new("div"), a.id = g.canvas_div_name, e.appendChild(a));
            a.style.width = h + "px";
            a.style.height = b + "px";
            e.style.width = h + "px";
            e.style.height = b + "px";
            e.style.top = f + "px"
        };
        h._getClientWidth = function () {
            return document.documentElement.clientWidth
        };
        h._getClientHeight = function () {
            return document.documentElement.clientHeight
        };
        return a
    }();
    d.ContentStrategy = f;
    f.prototype.__class__ = "egret.ContentStrategy";
    var a = function (a) {
        function h(h) {
            void 0 === h && (h = 0);
            a.call(this);
            this.minWidth = NaN;
            this.minWidth = h
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            e = this._getClientWidth();
            var b = this._getClientHeight(), c = b / h, d = e / c, f = 1;
            0 != this.minWidth && (f = Math.min(1, d / this.minWidth));
            this.setEgretSize(d / f, h, e, b * f);
            a._scaleX = c * f;
            a._scaleY = c * f
        };
        return h
    }(f);
    d.FixedHeight = a;
    a.prototype.__class__ = "egret.FixedHeight";
    a = function (a) {
        function h(h) {
            void 0 === h && (h = 0);
            a.call(this);
            this.minHeight = NaN;
            this.minHeight = h
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            h = this._getClientWidth();
            var b = this._getClientHeight(), c = h / e, d = b / c, f = 1;
            0 != this.minHeight && (f = Math.min(1, d / this.minHeight));
            this.setEgretSize(e,
                d / f, h * f, b, h * (1 - f) / 2);
            a._scaleX = c * f;
            a._scaleY = c * f
        };
        return h
    }(f);
    d.FixedWidth = a;
    a.prototype.__class__ = "egret.FixedWidth";
    a = function (a) {
        function h(h, b) {
            a.call(this);
            this.width = h;
            this.height = b
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            h = this.width;
            var b = this.height, c = h / e;
            this.setEgretSize(e, b / c, h, b);
            a._scaleX = c;
            a._scaleY = c
        };
        return h
    }(f);
    d.FixedSize = a;
    a.prototype.__class__ = "egret.FixedSize";
    a = function (a) {
        function h() {
            a.call(this)
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            this.setEgretSize(e,
                h, e, h, Math.floor((e - e) / 2));
            a._scaleX = 1;
            a._scaleY = 1
        };
        return h
    }(f);
    d.NoScale = a;
    a.prototype.__class__ = "egret.NoScale";
    a = function (a) {
        function h() {
            a.call(this)
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            var b = this._getClientWidth(), c = this._getClientHeight(), d = b, f = c, g = d / e < f / h ? d / e : f / h, d = e * g, f = h * g, b = Math.floor((b - d) / 2);
            a._offSetY = Math.floor((c - f) / 2);
            this.setEgretSize(e, h / 1, 1 * d, f, b, a._offSetY);
            a._scaleX = 1 * g;
            a._scaleY = 1 * g
        };
        return h
    }(f);
    d.ShowAll = a;
    a.prototype.__class__ = "egret.ShowAll";
    f = function (a) {
        function h() {
            a.call(this)
        }

        __extends(h, a);
        h.prototype._apply = function (a, e, h) {
            var b = this._getClientWidth(), c = this._getClientHeight(), b = b / e, c = c / h;
            this.setEgretSize(e, h, e * b, h * c);
            a._scaleX = b;
            a._scaleY = c
        };
        return h
    }(f);
    d.FullScreen = f;
    f.prototype.__class__ = "egret.FullScreen"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._originalData = {};
            this._drawAreaList = []
        }

        __extends(c, f);
        var b = c.prototype;
        c.getInstance = function () {
            null == c.instance && (c.instance = new c);
            return c.instance
        };
        b.addDrawArea = function (a) {
            this._drawAreaList.push(a)
        };
        b.clearDrawArea = function () {
            this._drawAreaList = []
        };
        b.drawImage = function (a, e, h, b, f, g, n, k, l, m, p) {
            void 0 === p && (p = void 0);
            n = n || 0;
            k = k || 0;
            var q = e._texture_to_render;
            if (null != q && 0 != g && 0 != f && 0 != l && 0 != m) {
                var r = d.MainContext.instance.rendererContext._texture_scale_factor;
                f /= r;
                g /= r;
                if (0 != this._drawAreaList.length && d.MainContext.instance.rendererContext._cacheCanvasContext) {
                    r = d.DisplayObject.getTransformBounds(e._getSize(c.identityRectangle), e._worldTransform);
                    e._worldBounds.initialize(r.x, r.y, r.width, r.height);
                    r = this._originalData;
                    r.sourceX = h;
                    r.sourceY = b;
                    r.sourceWidth = f;
                    r.sourceHeight = g;
                    r.destX = n;
                    r.destY = k;
                    r.destWidth = l;
                    r.destHeight = m;
                    for (var x = this.getDrawAreaList(), y = 0; y < x.length; y++)if (!this.ignoreRender(e, x[y], r.destX, r.destY)) {
                        a.drawImage(q, h, b, f, g, n, k, l, m, p);
                        break
                    }
                } else a.drawImage(q, h, b, f, g, n, k, l, m, p)
            }
        };
        b.ignoreRender = function (a, e, h, b) {
            var c = a._worldBounds;
            h *= a._worldTransform.a;
            b *= a._worldTransform.d;
            return c.x + c.width + h <= e.x || c.x + h >= e.x + e.width || c.y + c.height + b <= e.y || c.y + b >= e.y + e.height ? !0 : !1
        };
        b.getDrawAreaList = function () {
            var a;
            0 == this._drawAreaList.length ? (this._defaultDrawAreaList || (this._defaultDrawAreaList = [new d.Rectangle(0, 0, d.MainContext.instance.stage.stageWidth, d.MainContext.instance.stage.stageHeight)], d.MainContext.instance.stage.addEventListener(d.Event.RESIZE,
                this.onResize, this)), a = this._defaultDrawAreaList) : a = this._drawAreaList;
            return a
        };
        b.onResize = function () {
            d.MainContext.instance.stage.removeEventListener(d.Event.RESIZE, this.onResize, this);
            this._defaultDrawAreaList = null
        };
        c.identityRectangle = new d.Rectangle;
        return c
    }(d.HashObject);
    d.RenderFilter = g;
    g.prototype.__class__ = "egret.RenderFilter"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        f.mapClass = function (c, b, a) {
            void 0 === a && (a = "");
            c = this.getKey(c) + "#" + a;
            this.mapClassDic[c] = b
        };
        f.getKey = function (c) {
            return "string" == typeof c ? c : d.getQualifiedClassName(c)
        };
        f.mapValue = function (c, b, a) {
            void 0 === a && (a = "");
            c = this.getKey(c) + "#" + a;
            this.mapValueDic[c] = b
        };
        f.hasMapRule = function (c, b) {
            void 0 === b && (b = "");
            var a = this.getKey(c) + "#" + b;
            return this.mapValueDic[a] || this.mapClassDic[a] ? !0 : !1
        };
        f.getInstance = function (c, b) {
            void 0 === b && (b = "");
            var a = this.getKey(c) + "#" +
                b;
            if (this.mapValueDic[a])return this.mapValueDic[a];
            var e = this.mapClassDic[a];
            if (e)return e = new e, this.mapValueDic[a] = e, delete this.mapClassDic[a], e;
            d.$error(1028, a)
        };
        f.mapClassDic = {};
        f.mapValueDic = {};
        return f
    }();
    d.Injector = g;
    g.prototype.__class__ = "egret.Injector"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.apply(this, arguments);
            this.type = null
        }

        __extends(c, d);
        return c
    }(d.HashObject);
    d.Filter = g;
    g.prototype.__class__ = "egret.Filter"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a) {
            d.call(this);
            this.blurX = b;
            this.blurY = a;
            this.type = "blur"
        }

        __extends(c, d);
        return c
    }(d.Filter);
    d.BlurFilter = g;
    g.prototype.__class__ = "egret.BlurFilter"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(a) {
            void 0 === a && (a = null);
            d.call(this);
            this._matrix = [];
            this._matrix2 = [];
            this.type = "colorTransform";
            this._setMatrix(a)
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "matrix", {
            get: function () {
                for (var a = 0; 20 > a; a++)this._matrix2[a] = this._matrix[a];
                return this._matrix2
            }, set: function (a) {
                this._setMatrix(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMatrix = function (a) {
            for (var e = 0; 20 > e; e++)this._matrix[e] = a && a[e] || 0
        };
        return c
    }(d.Filter);
    d.ColorMatrixFilter = g;
    g.prototype.__class__ =
        "egret.ColorMatrixFilter"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a, e, h, c, g, v, n) {
            void 0 === b && (b = 16711680);
            void 0 === a && (a = 1);
            void 0 === e && (e = 6);
            void 0 === h && (h = 6);
            void 0 === c && (c = 2);
            void 0 === g && (g = 1);
            void 0 === v && (v = !1);
            void 0 === n && (n = !1);
            d.call(this);
            this.color = b;
            this.alpha = a;
            this.blurX = e;
            this.blurY = h;
            this.strength = c;
            this.quality = g;
            this.inner = v;
            this.knockout = n;
            this.type = "glow";
            this._blue = b & 255;
            this._green = (b & 65280) >> 8;
            this._red = b >> 16
        }

        __extends(c, d);
        return c
    }(d.Filter);
    d.GlowFilter = g;
    g.prototype.__class__ = "egret.GlowFilter"
})(egret ||
(egret = {}));
(function (d) {
    var g = function (d) {
        function c(b, a, e, h, c, g, v, n, k, l, m) {
            void 0 === b && (b = 4);
            void 0 === a && (a = 45);
            void 0 === e && (e = 0);
            void 0 === h && (h = 1);
            void 0 === c && (c = 4);
            void 0 === g && (g = 4);
            void 0 === v && (v = 1);
            void 0 === n && (n = 1);
            void 0 === k && (k = !1);
            void 0 === l && (l = !1);
            d.call(this, e, h, c, g, v, n, k, l);
            this.distance = b;
            this.angle = a
        }

        __extends(c, d);
        return c
    }(d.GlowFilter);
    d.DropShadowFilter = g;
    g.prototype.__class__ = "egret.DropShadowFilter"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.NORMAL = "normal";
        d.ADD = "add";
        d.ERASE = "erase";
        d.ERASE_REVERSE = "eraseReverse";
        return d
    }();
    d.BlendMode = g;
    g.prototype.__class__ = "egret.BlendMode"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
            this._name = null;
            this._explicitHeight = this._explicitWidth = NaN;
            this._y = this._x = 0;
            this._scaleY = this._scaleX = 1;
            this._rotation = this._anchorY = this._anchorX = this._anchorOffsetY = this._anchorOffsetX = 0;
            this._alpha = 1;
            this._skewY = this._skewX = 0;
            this._blendMode = null;
            this._touchEnabled = d.defaultTouchEnabled;
            this._visible = !0;
            this._worldAlpha = 1;
            this._scrollRect = null;
            this._cacheAsBitmap = !1;
            this._stage = this._parent = null;
            this._needDraw = !1;
            this._filters = null;
            this._hasHeightSet =
                this._hasWidthSet = !1;
            this._sizeDirty = this._normalDirty = !0;
            this._isContainer = !1
        }

        d.defaultTouchEnabled = !1;
        return d
    }();
    d.DisplayObjectProperties = g;
    g.prototype.__class__ = "egret.DisplayObjectProperties"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        return function () {
            this._hitTestPointTexture = null;
            this._rectH = this._rectW = 0;
            this._cacheDirty = !1
        }
    }();
    d.DisplayObjectPrivateProperties = g;
    g.prototype.__class__ = "egret.DisplayObjectPrivateProperties"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.renderTexture = this.mask = this._sizeChangeCallTarget = this._sizeChangeCallBack = this.__hack_local_matrix = this._worldBounds = this._texture_to_render = null;
            this._DO_Props_ = new d.DisplayObjectProperties;
            this._DO_Privs_ = new d.DisplayObjectPrivateProperties;
            this._worldTransform = new d.Matrix;
            this._worldBounds = new d.Rectangle(0, 0, 0, 0);
            this._DO_Privs_._cacheBounds = new d.Rectangle(0, 0, 0, 0)
        }

        __extends(c, f);
        var b = c.prototype;
        b._setDirty = function () {
            this._DO_Props_._normalDirty = !0
        };
        b.getDirty = function () {
            return this._DO_Props_._normalDirty || this._DO_Props_._sizeDirty
        };
        b._setParentSizeDirty = function () {
            var a = this._DO_Props_._parent;
            a && (a._DO_Props_._hasWidthSet || a._DO_Props_._hasHeightSet ? a._setCacheDirty() : a._setSizeDirty())
        };
        b._setSizeDirty = function () {
            var a = this._DO_Props_;
            a._sizeDirty || (a._sizeDirty = !0, this._setDirty(), this._setCacheDirty(), this._setParentSizeDirty(), null != this._sizeChangeCallBack && (this._sizeChangeCallTarget == a._parent ? this._sizeChangeCallBack.call(this._sizeChangeCallTarget) :
                this._sizeChangeCallTarget = this._sizeChangeCallBack = null))
        };
        b._clearDirty = function () {
            this._DO_Props_._normalDirty = !1
        };
        b._clearSizeDirty = function () {
            this._DO_Props_._sizeDirty = !1
        };
        Object.defineProperty(b, "name", {
            get: function () {
                return this._DO_Props_._name
            }, set: function (a) {
                this._DO_Props_._name = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "parent", {
            get: function () {
                return this._DO_Props_._parent
            }, enumerable: !0, configurable: !0
        });
        b._parentChanged = function (a) {
            this._DO_Props_._parent = a
        };
        Object.defineProperty(b,
            "x", {
                get: function () {
                    return this._DO_Props_._x
                }, set: function (a) {
                    this._setX(a)
                }, enumerable: !0, configurable: !0
            });
        b._setX = function (a) {
            d.NumberUtils.isNumber(a) && this._DO_Props_._x != a && (this._DO_Props_._x = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "y", {
            get: function () {
                return this._DO_Props_._y
            }, set: function (a) {
                this._setY(a)
            }, enumerable: !0, configurable: !0
        });
        b._setY = function (a) {
            d.NumberUtils.isNumber(a) && this._DO_Props_._y != a && (this._DO_Props_._y = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "scaleX", {
            get: function () {
                return this._DO_Props_._scaleX
            }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._scaleX != a && (this._DO_Props_._scaleX = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "scaleY", {
            get: function () {
                return this._DO_Props_._scaleY
            }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._scaleY != a && (this._DO_Props_._scaleY = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetX", {
            get: function () {
                return this._DO_Props_._anchorOffsetX
            }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetX != a && (this._DO_Props_._anchorOffsetX = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetY", {
            get: function () {
                return this._DO_Props_._anchorOffsetY
            }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetY != a && (this._DO_Props_._anchorOffsetY = a, this._setDirty(),
                    this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "anchorX", {
            get: function () {
                return this._DO_Props_._anchorX
            }, set: function (a) {
                this._setAnchorX(a)
            }, enumerable: !0, configurable: !0
        });
        b._setAnchorX = function (a) {
            d.NumberUtils.isNumber(a) && this._DO_Props_._anchorX != a && (this._DO_Props_._anchorX = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "anchorY", {
            get: function () {
                return this._DO_Props_._anchorY
            }, set: function (a) {
                this._setAnchorY(a)
            }, enumerable: !0,
            configurable: !0
        });
        b._setAnchorY = function (a) {
            d.NumberUtils.isNumber(a) && this._DO_Props_._anchorY != a && (this._DO_Props_._anchorY = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "visible", {
            get: function () {
                return this._DO_Props_._visible
            }, set: function (a) {
                this._setVisible(a)
            }, enumerable: !0, configurable: !0
        });
        b._setVisible = function (a) {
            this._DO_Props_._visible != a && (this._DO_Props_._visible = a, this._setSizeDirty())
        };
        Object.defineProperty(b, "rotation", {
            get: function () {
                return this._DO_Props_._rotation
            },
            set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._rotation != a && (this._DO_Props_._rotation = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "alpha", {
            get: function () {
                return this._DO_Props_._alpha
            }, set: function (a) {
                this._setAlpha(a)
            }, enumerable: !0, configurable: !0
        });
        b._setAlpha = function (a) {
            d.NumberUtils.isNumber(a) && this._DO_Props_._alpha != a && (this._DO_Props_._alpha = a, this._setDirty(), this._setCacheDirty())
        };
        Object.defineProperty(b, "skewX",
            {
                get: function () {
                    return this._DO_Props_._skewX
                }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._skewX != a && (this._DO_Props_._skewX = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
            });
        Object.defineProperty(b, "skewY", {
            get: function () {
                return this._DO_Props_._skewY
            }, set: function (a) {
                d.NumberUtils.isNumber(a) && this._DO_Props_._skewY != a && (this._DO_Props_._skewY = a, this._setDirty(), this._setParentSizeDirty())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "touchEnabled",
            {
                get: function () {
                    return this._DO_Props_._touchEnabled
                }, set: function (a) {
                this._setTouchEnabled(a)
            }, enumerable: !0, configurable: !0
            });
        b._setTouchEnabled = function (a) {
            this._DO_Props_._touchEnabled = a
        };
        Object.defineProperty(b, "blendMode", {
            get: function () {
                return this._DO_Props_._blendMode
            }, set: function (a) {
                this._DO_Props_._blendMode = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "scrollRect", {
            get: function () {
                return this._DO_Props_._scrollRect
            }, set: function (a) {
                this._setScrollRect(a)
            }, enumerable: !0, configurable: !0
        });
        b._setScrollRect = function (a) {
            this._DO_Props_._scrollRect = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "measuredWidth", {
            get: function () {
                return this._measureBounds().width
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "measuredHeight", {
            get: function () {
                return this._measureBounds().height
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "explicitWidth", {
            get: function () {
                return this._DO_Props_._explicitWidth
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "explicitHeight", {
            get: function () {
                return this._DO_Props_._explicitHeight
            },
            enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "width", {
            get: function () {
                return this._getWidth()
            }, set: function (a) {
                this._setWidth(a)
            }, enumerable: !0, configurable: !0
        });
        b._getWidth = function () {
            return this._getSize(d.Rectangle.identity).width
        };
        Object.defineProperty(b, "height", {
            get: function () {
                return this._getHeight()
            }, set: function (a) {
                this._setHeight(a)
            }, enumerable: !0, configurable: !0
        });
        b._getHeight = function () {
            return this._getSize(d.Rectangle.identity).height
        };
        b._setWidth = function (a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitWidth = a;
            this._DO_Props_._hasWidthSet = d.NumberUtils.isNumber(a)
        };
        b._setHeight = function (a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitHeight = a;
            this._DO_Props_._hasHeightSet = d.NumberUtils.isNumber(a)
        };
        Object.defineProperty(b, "worldAlpha", {
            get: function () {
                return this._DO_Props_._worldAlpha
            }, set: function (a) {
                this._DO_Props_._worldAlpha = a
            }, enumerable: !0, configurable: !0
        });
        b._draw = function (a) {
            if (this._DO_Props_._visible && !this.drawCacheTexture(a)) {
                var e =
                    d.MainContext.__use_new_draw && this._DO_Props_._isContainer;
                this._hasFilters() && !e && this._setGlobalFilters(a);
                a.setAlpha(this.worldAlpha, this.blendMode);
                a.setTransform(this._worldTransform);
                var h = this.mask || this._DO_Props_._scrollRect;
                h && !e && a.pushMask(h);
                this._render(a);
                h && !e && a.popMask();
                this._hasFilters() && !e && this._removeGlobalFilters(a)
            }
            this.destroyCacheBounds()
        };
        b._setGlobalFilters = function (a) {
            var e;
            e = this._DO_Props_._filters ? this._DO_Props_._filters.concat() : [];
            if (this._transform) {
                var h = this._transform._colorTransform,
                    b = c.color;
                b[0] = h._redMultiplier;
                b[4] = h._redOffset;
                b[6] = h._greenMultiplier;
                b[9] = h._greenOffset;
                b[12] = h._blueMultiplier;
                b[14] = h._blueOffset;
                b[18] = h._alphaMultiplier;
                b[19] = h._alphaOffset;
                c.colorMatrixFilter._matrix = b;
                e.push(c.colorMatrixFilter)
            }
            a.setGlobalFilters(e)
        };
        b._removeGlobalFilters = function (a) {
            a.setGlobalFilters(null)
        };
        b._hasFilters = function () {
            var a = this._DO_Props_._filters && 0 < this._DO_Props_._filters.length;
            if (this._transform) {
                var e = this._transform._colorTransform;
                if (1 != e._redMultiplier || 0 !=
                    e._redOffset || 1 != e._greenMultiplier || 0 != e._greenOffset || 1 != e._blueMultiplier || 0 != e._blueOffset || 1 != e._alphaMultiplier || 0 != e._alphaOffset)a = !0
            }
            return a
        };
        b._pushMask = function (a) {
            a.setTransform(this._worldTransform);
            var e = this.mask || this._DO_Props_._scrollRect;
            e && a.pushMask(e)
        };
        b._popMask = function (a) {
            a.popMask()
        };
        b.drawCacheTexture = function (a) {
            if (!1 == this._DO_Props_._cacheAsBitmap)return !1;
            var e = this.getBounds(d.Rectangle.identity);
            if (this._DO_Privs_._cacheDirty || null == this._texture_to_render || 1 <= Math.round(e.width) -
                this._texture_to_render._textureWidth || 1 <= Math.round(e.height) - this._texture_to_render._textureHeight)e = this._makeBitmapCache(), this._DO_Privs_._cacheDirty = !e;
            if (null == this._texture_to_render)return !1;
            var h = this._texture_to_render, e = h._offsetX, b = h._offsetY, c = h._textureWidth, h = h._textureHeight;
            this._updateTransform();
            a.setAlpha(this.worldAlpha, this.blendMode);
            a.setTransform(this._worldTransform);
            d.RenderFilter.getInstance().drawImage(a, this, 0, 0, c, h, e, b, c, h);
            return !0
        };
        Object.defineProperty(b, "needDraw",
            {
                get: function () {
                    return this._DO_Props_._needDraw
                }, set: function (a) {
                this._DO_Props_._needDraw = a
            }, enumerable: !0, configurable: !0
            });
        b._updateTransform = function () {
            var a = this._DO_Props_;
            a._visible && (this._calculateWorldTransform(), "updateTransform" == d.MainContext._renderLoopPhase && (this.needDraw || this._texture_to_render || a._cacheAsBitmap) && d.RenderCommand.push(this._draw, this))
        };
        b._calculateWorldTransform = function () {
            var a = this._DO_Props_, e = this._worldTransform, h = a._parent;
            e.identityMatrix(h._worldTransform);
            this._getMatrix(e);
            var b = a._scrollRect;
            b && e.append(1, 0, 0, 1, -b.x, -b.y);
            this.worldAlpha = h.worldAlpha * a._alpha
        };
        b._render = function (a) {
        };
        b.getBounds = function (a, e) {
            void 0 === e && (e = !0);
            var h = this._DO_Props_, b = this._DO_Privs_, c = this._measureBounds(), f = h._hasWidthSet ? h._explicitWidth : c.width, g = h._hasHeightSet ? h._explicitHeight : c.height;
            b._rectW = c.width;
            b._rectH = c.height;
            this._clearSizeDirty();
            var k = c.x, c = c.y, l = 0, m = 0;
            e && (0 != h._anchorX || 0 != h._anchorY ? (l = f * h._anchorX, m = g * h._anchorY) : (l = h._anchorOffsetX, m = h._anchorOffsetY));
            b._cacheBounds.initialize(k - l, c - m, f, g);
            h = b._cacheBounds;
            a || (a = new d.Rectangle);
            return a.initialize(h.x, h.y, h.width, h.height)
        };
        b.destroyCacheBounds = function () {
            var a = this._DO_Privs_;
            a._cacheBounds.x = 0;
            a._cacheBounds.y = 0;
            a._cacheBounds.width = 0;
            a._cacheBounds.height = 0
        };
        b._getConcatenatedMatrix = function () {
            for (var a = c.identityMatrixForGetConcatenated.identity(), e = this; null != e;) {
                var h = e._DO_Props_;
                0 != h._anchorX || 0 != h._anchorY ? (e = e._getSize(d.Rectangle.identity), a.prependTransform(h._x, h._y, h._scaleX, h._scaleY,
                    h._rotation, h._skewX, h._skewY, e.width * h._anchorX, e.height * h._anchorY)) : a.prependTransform(h._x, h._y, h._scaleX, h._scaleY, h._rotation, h._skewX, h._skewY, h._anchorOffsetX, h._anchorOffsetY);
                h._scrollRect && a.prepend(1, 0, 0, 1, -h._scrollRect.x, -h._scrollRect.y);
                e = h._parent
            }
            return a
        };
        b.localToGlobal = function (a, e, h) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            var b = this._getConcatenatedMatrix();
            b.append(1, 0, 0, 1, a, e);
            h || (h = new d.Point);
            h.x = b.tx;
            h.y = b.ty;
            return h
        };
        b.globalToLocal = function (a, e, h) {
            void 0 === a && (a = 0);
            void 0 ===
            e && (e = 0);
            var b = this._getConcatenatedMatrix();
            b.invert();
            b.append(1, 0, 0, 1, a, e);
            h || (h = new d.Point);
            h.x = b.tx;
            h.y = b.ty;
            return h
        };
        b.hitTest = function (a, e, h) {
            void 0 === h && (h = !1);
            var b = this._DO_Props_;
            if (!b._visible || !h && !b._touchEnabled)return null;
            h = this.getBounds(d.Rectangle.identity, !1);
            a -= h.x;
            e -= h.y;
            return 0 <= a && a < h.width && 0 <= e && e < h.height ? this.mask || b._scrollRect ? b._scrollRect && a > b._scrollRect.x && e > b._scrollRect.y && a < b._scrollRect.x + b._scrollRect.width && e < b._scrollRect.y + b._scrollRect.height || this.mask &&
            this.mask.x <= a && a < this.mask.x + this.mask.width && this.mask.y <= e && e < this.mask.y + this.mask.height ? this : null : this : null
        };
        b.hitTestPoint = function (a, e, h) {
            var b = this._DO_Privs_;
            a = this.globalToLocal(a, e);
            return h ? (b._hitTestPointTexture || (b._hitTestPointTexture = new d.RenderTexture), h = b._hitTestPointTexture, h.drawToTexture(this), 0 != h.getPixel32(a.x - b._hitTestPointTexture._offsetX, a.y - b._hitTestPointTexture._offsetY)[3] ? !0 : !1) : !!this.hitTest(a.x, a.y, !0)
        };
        b._getMatrix = function (a) {
            a || (a = d.Matrix.identity.identity());
            var e = this._DO_Props_, h, b;
            b = this._getOffsetPoint();
            h = b.x;
            b = b.y;
            var c = this.__hack_local_matrix;
            c ? (a.append(c.a, c.b, c.c, c.d, c.tx, c.ty), a.append(1, 0, 0, 1, -h, -b)) : a.appendTransform(e._x, e._y, e._scaleX, e._scaleY, e._rotation, e._skewX, e._skewY, h, b);
            return a
        };
        b._getSize = function (a) {
            var e = this._DO_Props_;
            if (e._hasHeightSet && e._hasWidthSet)return this._clearSizeDirty(), a.initialize(0, 0, e._explicitWidth, e._explicitHeight);
            this._measureSize(a);
            e._hasWidthSet && (a.width = e._explicitWidth);
            e._hasHeightSet && (a.height =
                e._explicitHeight);
            return a
        };
        b._measureSize = function (a) {
            var e = this._DO_Privs_;
            this._DO_Props_._sizeDirty ? (a = this._measureBounds(), e._rectW = a.width, e._rectH = a.height, this._clearSizeDirty()) : (a.width = e._rectW, a.height = e._rectH);
            a.x = 0;
            a.y = 0;
            return a
        };
        b._measureBounds = function () {
            return d.Rectangle.identity.initialize(0, 0, 0, 0)
        };
        b._getOffsetPoint = function () {
            var a = this._DO_Props_, e = a._anchorOffsetX, h = a._anchorOffsetY;
            if (0 != a._anchorX || 0 != a._anchorY)h = this._getSize(d.Rectangle.identity), e = a._anchorX * h.width,
                h = a._anchorY * h.height;
            a = d.Point.identity;
            a.x = e;
            a.y = h;
            return a
        };
        b._onAddToStage = function () {
            this._DO_Props_._stage = d.MainContext.instance.stage;
            d.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)
        };
        b._onRemoveFromStage = function () {
            d.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)
        };
        Object.defineProperty(b, "stage", {
            get: function () {
                return this._DO_Props_._stage
            }, enumerable: !0, configurable: !0
        });
        b.addEventListener = function (a, e, h, b, g) {
            void 0 === b && (b = !1);
            void 0 === g && (g = 0);
            f.prototype.addEventListener.call(this,
                a, e, h, b, g);
            ((b = a == d.Event.ENTER_FRAME) || a == d.Event.RENDER) && this._insertEventBin(b ? c._enterFrameCallBackList : c._renderCallBackList, e, h, g, this)
        };
        b.removeEventListener = function (a, e, h, b) {
            void 0 === b && (b = !1);
            f.prototype.removeEventListener.call(this, a, e, h, b);
            ((b = a == d.Event.ENTER_FRAME) || a == d.Event.RENDER) && this._removeEventBin(b ? c._enterFrameCallBackList : c._renderCallBackList, e, h, this)
        };
        b.dispatchEvent = function (a) {
            if (!a._bubbles)return f.prototype.dispatchEvent.call(this, a);
            for (var e = [], h = this; h;)e.push(h),
                h = h._DO_Props_._parent;
            a._reset();
            this._dispatchPropagationEvent(a, e);
            return !a._isDefaultPrevented
        };
        b._dispatchPropagationEvent = function (a, e, h) {
            h = e.length;
            for (var b = 1, c = h - 1; 0 <= c; c--) {
                var d = e[c];
                a._currentTarget = d;
                a._target = this;
                a._eventPhase = b;
                d._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped)return
            }
            d = e[0];
            a._currentTarget = d;
            a._target = this;
            a._eventPhase = 2;
            d._notifyListener(a);
            if (!a._isPropagationStopped && !a._isPropagationImmediateStopped)for (b = 3, c = 1; c < h && (d = e[c], a._currentTarget =
                d, a._target = this, a._eventPhase = b, d._notifyListener(a), !a._isPropagationStopped && !a._isPropagationImmediateStopped); c++);
        };
        b.willTrigger = function (a) {
            for (var e = this; e;) {
                if (e.hasEventListener(a))return !0;
                e = e._DO_Props_._parent
            }
            return !1
        };
        Object.defineProperty(b, "cacheAsBitmap", {
            get: function () {
                return this._DO_Props_._cacheAsBitmap
            }, set: function (a) {
                (this._DO_Props_._cacheAsBitmap = a) ? d.callLater(this._makeBitmapCache, this) : this._texture_to_render = null
            }, enumerable: !0, configurable: !0
        });
        b._makeBitmapCache =
            function () {
                this.renderTexture || (this.renderTexture = new d.RenderTexture);
                var a = this.renderTexture.drawToTexture(this);
                this._texture_to_render = a ? this.renderTexture : null;
                return a
            };
        b._setCacheDirty = function (a) {
            void 0 === a && (a = !0);
            this._DO_Privs_._cacheDirty = a
        };
        c.getTransformBounds = function (a, e) {
            var h = a.x, b = a.y, c = a.width, d = a.height;
            (h || b) && e.appendTransform(0, 0, 1, 1, 0, 0, 0, -h, -b);
            var f = c * e.a, c = c * e.b, g = d * e.c, d = d * e.d, l = e.tx, m = e.ty, p = l, q = l, r = m, x = m;
            (h = f + l) < p ? p = h : h > q && (q = h);
            (h = f + g + l) < p ? p = h : h > q && (q = h);
            (h = g + l) <
            p ? p = h : h > q && (q = h);
            (b = c + m) < r ? r = b : b > x && (x = b);
            (b = c + d + m) < r ? r = b : b > x && (x = b);
            (b = d + m) < r ? r = b : b > x && (x = b);
            return a.initialize(p, r, q - p, x - r)
        };
        Object.defineProperty(b, "filters", {
            get: function () {
                return this._DO_Props_._filters
            }, set: function (a) {
                this._DO_Props_._filters = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "transform", {
            get: function () {
                this._transform || (this._transform = new d.Transform(this));
                return this._transform
            }, enumerable: !0, configurable: !0
        });
        c.color = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
        c.colorMatrixFilter = new d.ColorMatrixFilter;
        c.identityMatrixForGetConcatenated = new d.Matrix;
        c._enterFrameCallBackList = [];
        c._renderCallBackList = [];
        return c
    }(d.EventDispatcher);
    d.DisplayObject = g;
    g.prototype.__class__ = "egret.DisplayObject"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._touchChildren = !0;
            this._children = [];
            this._DO_Props_._isContainer = !0
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "touchChildren", {
            get: function () {
                return this._touchChildren
            }, set: function (a) {
                this._touchChildren = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "numChildren", {
            get: function () {
                return this._children.length
            }, enumerable: !0, configurable: !0
        });
        b.setChildIndex = function (a, e) {
            this.doSetChildIndex(a, e)
        };
        b.doSetChildIndex =
            function (a, e) {
                var h = this._children.indexOf(a);
                0 > h && d.$error(1006);
                this._children.splice(h, 1);
                0 > e || this._children.length <= e ? this._children.push(a) : this._children.splice(e, 0, a)
            };
        b.addChild = function (a) {
            var e = this._children.length;
            a.parent == this && e--;
            return this._doAddChild(a, e)
        };
        b.addChildAt = function (a, e) {
            return this._doAddChild(a, e)
        };
        b._doAddChild = function (a, e, h) {
            void 0 === h && (h = !0);
            if (a == this)return a;
            if (0 > e || e > this._children.length)return d.$error(1007), a;
            var b = a.parent;
            if (b == this)return this.doSetChildIndex(a,
                e), a;
            if (b) {
                var f = b._children.indexOf(a);
                0 <= f && b._doRemoveChild(f)
            }
            this._children.splice(e, 0, a);
            a._parentChanged(this);
            h && a.dispatchEventWith(d.Event.ADDED, !0);
            if (this._DO_Props_._stage)for (a._onAddToStage(), e = c.__EVENT__ADD_TO_STAGE_LIST; 0 < e.length;)b = e.shift(), h && b.dispatchEventWith(d.Event.ADDED_TO_STAGE);
            a._setDirty();
            this._setSizeDirty();
            return a
        };
        b.removeChild = function (a) {
            a = this._children.indexOf(a);
            if (0 <= a)return this._doRemoveChild(a);
            d.$error(1008);
            return null
        };
        b.removeChildAt = function (a) {
            if (0 <=
                a && a < this._children.length)return this._doRemoveChild(a);
            d.$error(1007);
            return null
        };
        b._doRemoveChild = function (a, e) {
            void 0 === e && (e = !0);
            var h = this._children, b = h[a];
            e && b.dispatchEventWith(d.Event.REMOVED, !0);
            if (this._DO_Props_._stage) {
                b._onRemoveFromStage();
                for (var f = c.__EVENT__REMOVE_FROM_STAGE_LIST; 0 < f.length;) {
                    var g = f.shift();
                    e && g.dispatchEventWith(d.Event.REMOVED_FROM_STAGE);
                    g._DO_Props_._stage = null
                }
            }
            b._parentChanged(null);
            h.splice(a, 1);
            this._setSizeDirty();
            return b
        };
        b.getChildAt = function (a) {
            if (0 <=
                a && a < this._children.length)return this._children[a];
            d.$error(1007);
            return null
        };
        b.contains = function (a) {
            for (; a;) {
                if (a == this)return !0;
                a = a.parent
            }
            return !1
        };
        b.swapChildrenAt = function (a, e) {
            0 <= a && a < this._children.length && 0 <= e && e < this._children.length ? this._swapChildrenAt(a, e) : d.$error(1007)
        };
        b.swapChildren = function (a, e) {
            var h = this._children.indexOf(a), b = this._children.indexOf(e);
            -1 == h || -1 == b ? d.$error(1008) : this._swapChildrenAt(h, b)
        };
        b._swapChildrenAt = function (a, e) {
            if (a != e) {
                var h = this._children, b = h[a];
                h[a] =
                    h[e];
                h[e] = b
            }
        };
        b.getChildIndex = function (a) {
            return this._children.indexOf(a)
        };
        b.removeChildren = function () {
            for (var a = this._children.length - 1; 0 <= a; a--)this._doRemoveChild(a)
        };
        b._updateTransform = function () {
            if (this._DO_Props_._visible) {
                this._hasFilters() && d.RenderCommand.push(this._setGlobalFilters, this);
                var a = this.mask || this._DO_Props_._scrollRect;
                a && d.RenderCommand.push(this._pushMask, this);
                f.prototype._updateTransform.call(this);
                if (!this._DO_Props_._cacheAsBitmap || !this._texture_to_render)for (var e =
                    0, h = this._children, b = h.length; e < b; e++)h[e]._updateTransform();
                a && d.RenderCommand.push(this._popMask, this);
                this._hasFilters() && d.RenderCommand.push(this._removeGlobalFilters, this)
            }
        };
        b._render = function (a) {
            if (!d.MainContext.__use_new_draw)for (var e = 0, h = this._children, b = h.length; e < b; e++)h[e]._draw(a)
        };
        b._measureBounds = function () {
            for (var a = 0, e = 0, h = 0, b = 0, c = this._children, f = c.length, g = 0; g < f; g++) {
                var k = c[g];
                if (k.visible) {
                    var l = k.getBounds(d.Rectangle.identity, !1), m = l.x, p = l.y, q = l.width, l = l.height, k = k._getMatrix(),
                        k = d.DisplayObject.getTransformBounds(d.Rectangle.identity.initialize(m, p, q, l), k), m = k.x, p = k.y, q = k.width + k.x, k = k.height + k.y;
                    if (m < a || 0 == g)a = m;
                    if (q > e || 0 == g)e = q;
                    if (p < h || 0 == g)h = p;
                    if (k > b || 0 == g)b = k
                }
            }
            return d.Rectangle.identity.initialize(a, h, e - a, b - h)
        };
        b.hitTest = function (a, e, h) {
            void 0 === h && (h = !1);
            var b;
            if (!this._DO_Props_._visible)return null;
            if (this._DO_Props_._scrollRect) {
                if (a < this._DO_Props_._scrollRect.x || e < this._DO_Props_._scrollRect.y || a > this._DO_Props_._scrollRect.x + this._DO_Props_._scrollRect.width ||
                    e > this._DO_Props_._scrollRect.y + this._DO_Props_._scrollRect.height)return null
            } else if (this.mask && (this.mask.x > a || a > this.mask.x + this.mask.width || this.mask.y > e || e > this.mask.y + this.mask.height))return null;
            for (var c = this._children, g = this._touchChildren, n = c.length - 1; 0 <= n; n--) {
                var k = c[n], l = k._getMatrix(), m = k.scrollRect;
                m && l.append(1, 0, 0, 1, -m.x, -m.y);
                l.invert();
                l = d.Matrix.transformCoords(l, a, e);
                if (k = k.hitTest(l.x, l.y, !0)) {
                    if (!g)return this;
                    if (k._DO_Props_._touchEnabled && g)return k;
                    b = this
                }
            }
            return b ? b : this._texture_to_render ?
                f.prototype.hitTest.call(this, a, e, h) : null
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            for (var a = this._children.length, e = 0; e < a; e++)this._children[e]._onAddToStage()
        };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            for (var a = this._children, e = a.length, h = 0; h < e; h++)a[h]._onRemoveFromStage()
        };
        b.getChildByName = function (a) {
            for (var e = this._children, h = e.length, b, c = 0; c < h; c++)if (b = e[c], b.name == a)return b;
            return null
        };
        c.__EVENT__ADD_TO_STAGE_LIST = [];
        c.__EVENT__REMOVE_FROM_STAGE_LIST =
            [];
        return c
    }(d.DisplayObject);
    d.DisplayObjectContainer = g;
    g.prototype.__class__ = "egret.DisplayObjectContainer"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.NO_BORDER = "noBorder";
        d.NO_SCALE = "noScale";
        d.SHOW_ALL = "showAll";
        d.EXACT_FIT = "exactFit";
        return d
    }();
    d.StageScaleMode = g;
    g.prototype.__class__ = "egret.StageScaleMode"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e) {
            void 0 === a && (a = 480);
            void 0 === e && (e = 800);
            f.call(this);
            this._changeSizeDispatchFlag = !0;
            this._scaleMode = "";
            this._stageHeight = this._stageWidth = NaN;
            this._frameRate = 60;
            this.touchEnabled = !0;
            this._DO_Props_._stage = this;
            this._stageWidth = a;
            this._stageHeight = e
        }

        __extends(c, f);
        var b = c.prototype;
        b.invalidate = function () {
            c._invalidateRenderFlag = !0
        };
        Object.defineProperty(b, "scaleMode", {
            get: function () {
                return this._scaleMode
            }, set: function (a) {
                this._scaleMode != a && (this._scaleMode =
                    a, this.setResolutionPolicy())
            }, enumerable: !0, configurable: !0
        });
        b.changeSize = function () {
            this._changeSizeDispatchFlag && (this.setResolutionPolicy(), this.dispatchEventWith(d.Event.RESIZE))
        };
        b.setResolutionPolicy = function () {
            var a = c.SCALE_MODE_ENUM[this._scaleMode];
            a || d.$error(1024);
            var e = new d.EqualToFrame, a = new d.ResolutionPolicy(e, a);
            d.StageDelegate.getInstance()._setResolutionPolicy(a);
            this._stageWidth = d.StageDelegate.getInstance()._stageWidth;
            this._stageHeight = d.StageDelegate.getInstance()._stageHeight
        };
        Object.defineProperty(b, "stageWidth", {
            get: function () {
                return this._stageWidth
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "stageHeight", {
            get: function () {
                return this._stageHeight
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "frameRate", {
            get: function () {
                return this._frameRate
            }, set: function (a) {
                this._frameRate = a;
                d.MainContext.instance.deviceContext.setFrameRate(a)
            }, enumerable: !0, configurable: !0
        });
        b.hitTest = function (a, e, h) {
            if (!this._DO_Props_._touchEnabled)return null;
            var b;
            if (!this._touchChildren)return this;
            h = this._children;
            for (var c = h.length - 1; 0 <= c; c--) {
                b = h[c];
                var f = b._getMatrix(), g = b.scrollRect;
                g && f.append(1, 0, 0, 1, -g.x, -g.y);
                f.invert();
                f = d.Matrix.transformCoords(f, a, e);
                if ((b = b.hitTest(f.x, f.y, !0)) && b.touchEnabled)return b
            }
            return this
        };
        b.getBounds = function (a) {
            a || (a = new d.Rectangle);
            return a.initialize(0, 0, this._stageWidth, this._stageHeight)
        };
        b._updateTransform = function () {
            for (var a = 0, e = this._children.length; a < e; a++)this._children[a]._updateTransform()
        };
        Object.defineProperty(b, "focus", {
            get: function () {
                return null
            },
            enumerable: !0, configurable: !0
        });
        c.registerScaleMode = function (a, e, h) {
            c.SCALE_MODE_ENUM[a] && !h ? d.$warn(1009, a) : c.SCALE_MODE_ENUM[a] = e
        };
        c._invalidateRenderFlag = !1;
        c.SCALE_MODE_ENUM = {};
        return c
    }(d.DisplayObjectContainer);
    d.Stage = g;
    g.prototype.__class__ = "egret.Stage"
})(egret || (egret = {}));
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_SCALE] = new egret.NoScale;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.SHOW_ALL] = new egret.ShowAll;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_BORDER] = new egret.FixedWidth;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.EXACT_FIT] = new egret.FullScreen;
(function (d) {
    var g = function () {
        return function () {
            this._horizontalScrollPolicy = this._verticalScrollPolicy = "auto";
            this._scrollTop = this._scrollLeft = 0;
            this._vCanScroll = this._hCanScroll = !1;
            this._lastTouchPosition = new d.Point(0, 0);
            this._touchStartPosition = new d.Point(0, 0);
            this._scrollStarted = !1;
            this._lastTouchTime = 0;
            this._lastTouchEvent = null;
            this._velocitys = [];
            this._isVTweenPlaying = this._isHTweenPlaying = !1;
            this._vScrollTween = this._hScrollTween = null
        }
    }();
    d.ScrollViewProperties = g;
    g.prototype.__class__ = "egret.ScrollViewProperties"
})(egret ||
(egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.scrollBeginThreshold = 10;
            this.scrollSpeed = 1;
            this.touchBeginTimer = this.delayTouchBeginEvent = this._content = null;
            this.touchEnabled = !0;
            this._ScrV_Props_ = new d.ScrollViewProperties;
            a && this.setContent(a)
        }

        __extends(c, f);
        var b = c.prototype;
        b.setContent = function (a) {
            this._content !== a && (this.removeContent(), a && (this._content = a, f.prototype.addChild.call(this, a), this._addEvents()))
        };
        b.removeContent = function () {
            this._content && (this._removeEvents(),
                f.prototype.removeChildAt.call(this, 0));
            this._content = null
        };
        Object.defineProperty(b, "verticalScrollPolicy", {
            get: function () {
                return this._ScrV_Props_._verticalScrollPolicy
            }, set: function (a) {
                a != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = a)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "horizontalScrollPolicy", {
            get: function () {
                return this._ScrV_Props_._horizontalScrollPolicy
            }, set: function (a) {
                a != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy =
                    a)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "scrollLeft", {
            get: function () {
                return this._ScrV_Props_._scrollLeft
            }, set: function (a) {
                a != this._ScrV_Props_._scrollLeft && (this._ScrV_Props_._scrollLeft = a, this._validatePosition(!1, !0), this._updateContentPosition())
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "scrollTop", {
            get: function () {
                return this._ScrV_Props_._scrollTop
            }, set: function (a) {
                a != this._ScrV_Props_._scrollTop && (this._ScrV_Props_._scrollTop = a, this._validatePosition(!0, !1),
                    this._updateContentPosition())
            }, enumerable: !0, configurable: !0
        });
        b.setScrollPosition = function (a, e, h) {
            void 0 === h && (h = !1);
            if (!h || 0 != a || 0 != e)if (h || this._ScrV_Props_._scrollTop != a || this._ScrV_Props_._scrollLeft != e) {
                if (h) {
                    h = this._isOnTheEdge(!0);
                    var b = this._isOnTheEdge(!1);
                    this._ScrV_Props_._scrollTop += h ? a / 2 : a;
                    this._ScrV_Props_._scrollLeft += b ? e / 2 : e
                } else this._ScrV_Props_._scrollTop = a, this._ScrV_Props_._scrollLeft = e;
                this._validatePosition(!0, !0);
                this._updateContentPosition()
            }
        };
        b._isOnTheEdge = function (a) {
            void 0 ===
            a && (a = !0);
            var e = this._ScrV_Props_._scrollTop, h = this._ScrV_Props_._scrollLeft;
            return a ? 0 > e || e > this.getMaxScrollTop() : 0 > h || h > this.getMaxScrollLeft()
        };
        b._validatePosition = function (a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            if (a) {
                var h = this.height, b = this._getContentHeight();
                this._ScrV_Props_._scrollTop = Math.max(this._ScrV_Props_._scrollTop, (0 - h) / 2);
                this._ScrV_Props_._scrollTop = Math.min(this._ScrV_Props_._scrollTop, b > h ? b - h / 2 : h / 2)
            }
            e && (h = this.width, b = this._getContentWidth(), this._ScrV_Props_._scrollLeft =
                Math.max(this._ScrV_Props_._scrollLeft, (0 - h) / 2), this._ScrV_Props_._scrollLeft = Math.min(this._ScrV_Props_._scrollLeft, b > h ? b - h / 2 : h / 2))
        };
        b._setWidth = function (a) {
            this._DO_Props_._explicitWidth != a && (f.prototype._setWidth.call(this, a), this._updateContentPosition())
        };
        b._setHeight = function (a) {
            this._DO_Props_._explicitHeight != a && (f.prototype._setHeight.call(this, a), this._updateContentPosition())
        };
        b._updateContentPosition = function () {
            var a = this.getBounds(d.Rectangle.identity), e = a.height, a = a.width;
            this.scrollRect =
                new d.Rectangle(Math.round(this._ScrV_Props_._scrollLeft), Math.round(this._ScrV_Props_._scrollTop), a, e);
            this.dispatchEvent(new d.Event(d.Event.CHANGE))
        };
        b._checkScrollPolicy = function () {
            var a = this.__checkScrollPolicy(this._ScrV_Props_._horizontalScrollPolicy, this._getContentWidth(), this.width);
            this._ScrV_Props_._hCanScroll = a;
            var e = this.__checkScrollPolicy(this._ScrV_Props_._verticalScrollPolicy, this._getContentHeight(), this.height);
            this._ScrV_Props_._vCanScroll = e;
            return a || e
        };
        b.__checkScrollPolicy =
            function (a, e, h) {
                return "on" == a ? !0 : "off" == a ? !1 : e > h
            };
        b._addEvents = function () {
            this.addEventListener(d.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
            this.addEventListener(d.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
            this.addEventListener(d.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
        };
        b._removeEvents = function () {
            this.removeEventListener(d.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
            this.removeEventListener(d.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
            this.removeEventListener(d.TouchEvent.TOUCH_END,
                this._onTouchEndCapture, this, !0)
        };
        b._onTouchBegin = function (a) {
            !a._isDefaultPrevented && this._checkScrollPolicy() && (this._ScrV_Props_._touchStartPosition.x = a.stageX, this._ScrV_Props_._touchStartPosition.y = a.stageY, (this._ScrV_Props_._isHTweenPlaying || this._ScrV_Props_._isVTweenPlaying) && this._onScrollFinished(), this.stage.addEventListener(d.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this.stage.addEventListener(d.TouchEvent.TOUCH_END, this._onTouchEnd, this), this.stage.addEventListener(d.TouchEvent.LEAVE_STAGE,
                this._onTouchEnd, this), this.addEventListener(d.Event.ENTER_FRAME, this._onEnterFrame, this), this._logTouchEvent(a), a.preventDefault())
        };
        b._onTouchBeginCapture = function (a) {
            var e = this._checkScrollPolicy();
            if (e) {
                for (var h = a.target; h != this;) {
                    if ("_checkScrollPolicy"in h && (e = h._checkScrollPolicy()))return;
                    h = h.parent
                }
                a.stopPropagation();
                this.delayTouchBeginEvent = this.cloneTouchEvent(a);
                this.touchBeginTimer || (this.touchBeginTimer = new d.Timer(100, 1), this.touchBeginTimer.addEventListener(d.TimerEvent.TIMER_COMPLETE,
                    this._onTouchBeginTimer, this));
                this.touchBeginTimer.start();
                this._onTouchBegin(a)
            }
        };
        b._onTouchEndCapture = function (a) {
            this.delayTouchBeginEvent && this._onTouchBeginTimer()
        };
        b._onTouchBeginTimer = function () {
            this.touchBeginTimer.stop();
            var a = this.delayTouchBeginEvent;
            this.delayTouchBeginEvent = null;
            this.stage && this.dispatchPropagationEvent(a)
        };
        b.dispatchPropagationEvent = function (a) {
            for (var e = [], h = a._target, b = 0; h;)h == this && (b = e.length), e.push(h), h = h.parent;
            h = e.slice(0, b);
            h = h.reverse();
            e = h.concat(e);
            this._dispatchPropagationEvent(a,
                e, b)
        };
        b._dispatchPropagationEvent = function (a, e, h) {
            for (var b = e.length, c = 0; c < b; c++) {
                var d = e[c];
                a._currentTarget = d;
                a._eventPhase = c < h ? 1 : c == h ? 2 : 3;
                d._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped)break
            }
        };
        b._onTouchMove = function (a) {
            if (this._ScrV_Props_._lastTouchPosition.x != a.stageX || this._ScrV_Props_._lastTouchPosition.y != a.stageY) {
                if (!this._ScrV_Props_._scrollStarted) {
                    var e = a.stageX - this._ScrV_Props_._touchStartPosition.x, h = a.stageY - this._ScrV_Props_._touchStartPosition.y;
                    if (Math.sqrt(e * e + h * h) < this.scrollBeginThreshold) {
                        this._logTouchEvent(a);
                        return
                    }
                }
                this._ScrV_Props_._scrollStarted = !0;
                this.delayTouchBeginEvent && (this.delayTouchBeginEvent = null, this.touchBeginTimer.stop());
                this.touchChildren = !1;
                e = this._getPointChange(a);
                this.setScrollPosition(e.y, e.x, !0);
                this._calcVelocitys(a);
                this._logTouchEvent(a)
            }
        };
        b._onTouchEnd = function (a) {
            this.touchChildren = !0;
            this._ScrV_Props_._scrollStarted = !1;
            d.MainContext.instance.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE, this._onTouchMove,
                this);
            d.MainContext.instance.stage.removeEventListener(d.TouchEvent.TOUCH_END, this._onTouchEnd, this);
            d.MainContext.instance.stage.removeEventListener(d.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this);
            this.removeEventListener(d.Event.ENTER_FRAME, this._onEnterFrame, this);
            this._moveAfterTouchEnd()
        };
        b._onEnterFrame = function (a) {
            a = d.getTimer();
            100 < a - this._ScrV_Props_._lastTouchTime && 300 > a - this._ScrV_Props_._lastTouchTime && this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)
        };
        b._logTouchEvent = function (a) {
            this._ScrV_Props_._lastTouchPosition.x =
                a.stageX;
            this._ScrV_Props_._lastTouchPosition.y = a.stageY;
            this._ScrV_Props_._lastTouchEvent = this.cloneTouchEvent(a);
            this._ScrV_Props_._lastTouchTime = d.getTimer()
        };
        b._getPointChange = function (a) {
            return {
                x: !1 === this._ScrV_Props_._hCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.x - a.stageX,
                y: !1 === this._ScrV_Props_._vCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.y - a.stageY
            }
        };
        b._calcVelocitys = function (a) {
            var e = d.getTimer();
            if (0 == this._ScrV_Props_._lastTouchTime)this._ScrV_Props_._lastTouchTime = e; else {
                var h =
                    this._getPointChange(a), e = e - this._ScrV_Props_._lastTouchTime;
                h.x /= e;
                h.y /= e;
                this._ScrV_Props_._velocitys.push(h);
                5 < this._ScrV_Props_._velocitys.length && this._ScrV_Props_._velocitys.shift();
                this._ScrV_Props_._lastTouchPosition.x = a.stageX;
                this._ScrV_Props_._lastTouchPosition.y = a.stageY
            }
        };
        b._getContentWidth = function () {
            return this._content.explicitWidth || this._content.width
        };
        b._getContentHeight = function () {
            return this._content.explicitHeight || this._content.height
        };
        b.getMaxScrollLeft = function () {
            var a = this._getContentWidth() -
                this.width;
            return Math.max(0, a)
        };
        b.getMaxScrollTop = function () {
            var a = this._getContentHeight() - this.height;
            return Math.max(0, a)
        };
        b._moveAfterTouchEnd = function () {
            if (0 != this._ScrV_Props_._velocitys.length) {
                for (var a = 0, e = 0, h = 0, b = 0; b < this._ScrV_Props_._velocitys.length; b++)var d = this._ScrV_Props_._velocitys[b], f = c.weight[b], a = a + d.x * f, e = e + d.y * f, h = h + f;
                this._ScrV_Props_._velocitys.length = 0;
                0 >= this.scrollSpeed && (this.scrollSpeed = 1);
                a = a / h * this.scrollSpeed;
                e = e / h * this.scrollSpeed;
                d = Math.abs(a);
                h = Math.abs(e);
                f =
                    this.getMaxScrollLeft();
                b = this.getMaxScrollTop();
                a = 0.02 < d ? this.getAnimationDatas(a, this._ScrV_Props_._scrollLeft, f) : {
                    position: this._ScrV_Props_._scrollLeft,
                    duration: 1
                };
                e = 0.02 < h ? this.getAnimationDatas(e, this._ScrV_Props_._scrollTop, b) : {
                    position: this._ScrV_Props_._scrollTop,
                    duration: 1
                };
                this.setScrollLeft(a.position, a.duration);
                this.setScrollTop(e.position, e.duration)
            }
        };
        b._onTweenFinished = function (a) {
            a == this._ScrV_Props_._vScrollTween && (this._ScrV_Props_._isVTweenPlaying = !1);
            a == this._ScrV_Props_._hScrollTween &&
            (this._ScrV_Props_._isHTweenPlaying = !1);
            !1 == this._ScrV_Props_._isHTweenPlaying && !1 == this._ScrV_Props_._isVTweenPlaying && this._onScrollFinished()
        };
        b._onScrollStarted = function () {
        };
        b._onScrollFinished = function () {
            d.Tween.removeTweens(this);
            this._ScrV_Props_._hScrollTween = null;
            this._ScrV_Props_._vScrollTween = null;
            this._ScrV_Props_._isHTweenPlaying = !1;
            this._ScrV_Props_._isVTweenPlaying = !1;
            this.dispatchEvent(new d.Event(d.Event.COMPLETE))
        };
        b.setScrollTop = function (a, e) {
            void 0 === e && (e = 0);
            var h = Math.min(this.getMaxScrollTop(),
                Math.max(a, 0));
            if (0 == e)return this.scrollTop = h, null;
            var b = d.Tween.get(this).to({scrollTop: a}, e, d.Ease.quartOut);
            h != a && b.to({scrollTop: h}, 300, d.Ease.quintOut);
            this._ScrV_Props_._isVTweenPlaying = !0;
            this._ScrV_Props_._vScrollTween = b;
            b.call(this._onTweenFinished, this, [b]);
            this._ScrV_Props_._isHTweenPlaying || this._onScrollStarted();
            return b
        };
        b.setScrollLeft = function (a, e) {
            void 0 === e && (e = 0);
            var h = Math.min(this.getMaxScrollLeft(), Math.max(a, 0));
            if (0 == e)return this.scrollLeft = h, null;
            var b = d.Tween.get(this).to({scrollLeft: a},
                e, d.Ease.quartOut);
            h != a && b.to({scrollLeft: h}, 300, d.Ease.quintOut);
            this._ScrV_Props_._isHTweenPlaying = !0;
            this._ScrV_Props_._hScrollTween = b;
            b.call(this._onTweenFinished, this, [b]);
            this._ScrV_Props_._isVTweenPlaying || this._onScrollStarted();
            return b
        };
        b.getAnimationDatas = function (a, e, h) {
            var b = Math.abs(a), c = 0, d = e + 500 * a;
            if (0 > d || d > h)for (d = e; Infinity != Math.abs(a) && 0.02 < Math.abs(a);)d += a, a = 0 > d || d > h ? 0.998 * a * 0.95 : 0.998 * a, c++; else c = 500 * -Math.log(0.02 / b);
            return {position: Math.min(h + 50, Math.max(d, -50)), duration: c}
        };
        b.cloneTouchEvent = function (a) {
            var e = new d.TouchEvent(a._type, a._bubbles, a.cancelable);
            e.touchPointID = a.touchPointID;
            e._stageX = a._stageX;
            e._stageY = a._stageY;
            e.ctrlKey = a.ctrlKey;
            e.altKey = a.altKey;
            e.shiftKey = a.shiftKey;
            e.touchDown = a.touchDown;
            e._isDefaultPrevented = !1;
            e._target = a._target;
            return e
        };
        b.throwNotSupportedError = function () {
            d.$error(1023)
        };
        b.addChild = function (a) {
            this.throwNotSupportedError();
            return null
        };
        b.addChildAt = function (a, e) {
            this.throwNotSupportedError();
            return null
        };
        b.removeChild = function (a) {
            this.throwNotSupportedError();
            return null
        };
        b.removeChildAt = function (a) {
            this.throwNotSupportedError();
            return null
        };
        b.setChildIndex = function (a, e) {
            this.throwNotSupportedError()
        };
        b.swapChildren = function (a, e) {
            this.throwNotSupportedError()
        };
        b.swapChildrenAt = function (a, e) {
            this.throwNotSupportedError()
        };
        b.hitTest = function (a, e, h) {
            void 0 === h && (h = !1);
            var b = f.prototype.hitTest.call(this, a, e, h);
            return b ? b : d.DisplayObject.prototype.hitTest.call(this, a, e, h)
        };
        c.weight = [1, 1.33, 1.66, 2, 2.33];
        return c
    }(d.DisplayObjectContainer);
    d.ScrollView = g;
    g.prototype.__class__ =
        "egret.ScrollView"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.REPEAT = "repeat";
        d.SCALE = "scale";
        return d
    }();
    d.BitmapFillMode = g;
    g.prototype.__class__ = "egret.BitmapFillMode"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this);
            this.scale9Grid = this._texture = null;
            this.fillMode = "scale";
            a && (this._texture = a, this._setSizeDirty());
            this.needDraw = !0
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "texture", {
            get: function () {
                return this._texture
            }, set: function (a) {
                a != this._texture && (this._setSizeDirty(), this._texture = a)
            }, enumerable: !0, configurable: !0
        });
        b._render = function (a) {
            var e = this._texture;
            e ? (this._texture_to_render = e, c._drawBitmap(a, this._DO_Props_._hasWidthSet ?
                this._DO_Props_._explicitWidth : e._textureWidth, this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight : e._textureHeight, this)) : this._texture_to_render = null
        };
        c._drawBitmap = function (a, e, h, b) {
            var d = b._texture_to_render;
            if (d) {
                var f = d._textureWidth, g = d._textureHeight;
                if ("scale" == b.fillMode) {
                    var k = b.scale9Grid || d.scale9Grid;
                    if (k && f - k.width < e && g - k.height < h)c.drawScale9GridImage(a, b, k, e, h); else {
                        var k = d._offsetX, l = d._offsetY, m = d._bitmapWidth || f, p = d._bitmapHeight || g;
                        e /= f;
                        k = Math.round(k * e);
                        e = Math.round(m *
                        e);
                        h /= g;
                        l = Math.round(l * h);
                        h = Math.round(p * h);
                        c.renderFilter.drawImage(a, b, d._bitmapX, d._bitmapY, m, p, k, l, e, h)
                    }
                } else c.drawRepeatImage(a, b, e, h, b.fillMode)
            }
        };
        c.drawRepeatImage = function (a, e, h, b, c) {
            var f = e._texture_to_render;
            if (f) {
                var g = f._textureWidth, k = f._textureHeight, l = f._bitmapX, m = f._bitmapY, g = f._bitmapWidth || g, k = f._bitmapHeight || k, p = f._offsetX, f = f._offsetY;
                d.RenderFilter.getInstance().drawImage(a, e, l, m, g, k, p, f, h, b, c)
            }
        };
        c.drawScale9GridImage = function (a, e, h, b, c) {
            var f = d.MainContext.instance.rendererContext._texture_scale_factor,
                g = e._texture_to_render;
            if (g && h) {
                var k = g._textureWidth, l = g._textureHeight, m = g._bitmapX, p = g._bitmapY, q = g._bitmapWidth || k, r = g._bitmapHeight || l;
                b -= k - q;
                c -= l - r;
                if (!a.drawImageScale9(g, m, p, q, r, g._offsetX, g._offsetY, b, c, h)) {
                    k = g._offsetX / f;
                    l = g._offsetY / f;
                    g = d.RenderFilter.getInstance();
                    h = d.Rectangle.identity.initialize(h.x - Math.round(k), h.y - Math.round(k), h.width, h.height);
                    k = Math.round(k);
                    l = Math.round(l);
                    h.y == h.bottom && (h.bottom < r ? h.bottom++ : h.y--);
                    h.x == h.right && (h.right < q ? h.right++ : h.x--);
                    var x = m + h.x / f, y = m +
                        h.right / f, s = q - h.right, w = p + h.y / f, f = p + h.bottom / f, t = r - h.bottom, z = k + h.x, u = l + h.y, r = c - (r - h.bottom), q = b - (q - h.right);
                    g.drawImage(a, e, m, p, h.x, h.y, k, l, h.x, h.y);
                    g.drawImage(a, e, x, p, h.width, h.y, z, l, q - h.x, h.y);
                    g.drawImage(a, e, y, p, s, h.y, k + q, l, b - q, h.y);
                    g.drawImage(a, e, m, w, h.x, h.height, k, u, h.x, r - h.y);
                    g.drawImage(a, e, x, w, h.width, h.height, z, u, q - h.x, r - h.y);
                    g.drawImage(a, e, y, w, s, h.height, k + q, u, b - q, r - h.y);
                    g.drawImage(a, e, m, f, h.x, t, k, l + r, h.x, c - r);
                    g.drawImage(a, e, x, f, h.width, t, z, l + r, q - h.x, c - r);
                    g.drawImage(a, e, y, f, s, t, k +
                    q, l + r, b - q, c - r)
                }
            }
        };
        b._measureBounds = function () {
            var a = this._texture;
            return a ? d.Rectangle.identity.initialize(0, 0, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        c.renderFilter = d.RenderFilter.getInstance();
        return c
    }(d.DisplayObject);
    d.Bitmap = g;
    g.prototype.__class__ = "egret.Bitmap"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._text = "";
            this._textChanged = !1;
            this._font = null;
            this._fontChanged = !1;
            this._textOffsetY = this._textOffsetX = this._textHeight = this._textWidth = this._lineSpacing = this._letterSpacing = 0;
            this.textLinesChange = !0;
            this._lineHeights = [];
            this.needDraw = this.cacheAsBitmap = !0
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "text", {
            get: function () {
                return this._text
            }, set: function (a) {
                this.$setText(a)
            }, enumerable: !0, configurable: !0
        });
        b.$setText = function (a) {
            this._text !=
            a && (this._textChanged = !0, this._text = a, this._setSizeDirty())
        };
        Object.defineProperty(b, "font", {
            get: function () {
                return this._font
            }, set: function (a) {
                this.$setFont(a)
            }, enumerable: !0, configurable: !0
        });
        b.$setFont = function (a) {
            this._font != a && (this._font = a, this._fontChanged = !0, this._setSizeDirty())
        };
        Object.defineProperty(b, "letterSpacing", {
            get: function () {
                return this._letterSpacing
            }, set: function (a) {
                this._setLetterSpacing(a)
            }, enumerable: !0, configurable: !0
        });
        b._setLetterSpacing = function (a) {
            this._letterSpacing = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "lineSpacing", {
            get: function () {
                return this._lineSpacing
            }, set: function (a) {
                this._setLineSpacing(a)
            }, enumerable: !0, configurable: !0
        });
        b._setLineSpacing = function (a) {
            this._lineSpacing = a
        };
        b._setSizeDirty = function () {
            f.prototype._setSizeDirty.call(this);
            this.textLinesChange = !0
        };
        b._render = function (a) {
            var e = this._getTextLines(), h = e.length;
            if (0 != h) {
                for (var b = this._font, f = b._getFirstCharHeight(), f = Math.ceil(f * c.EMPTY_FACTOR), g = 0, n = this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight :
                    Number.POSITIVE_INFINITY, k = this._lineHeights, l = 0; l < h; l++) {
                    var m = k[l];
                    if (0 < l && g + m > n)break;
                    for (var p = e[l], q = p.length, r = 0, x = 0; x < q; x++) {
                        var y = p.charAt(x), s = b.getTexture(y);
                        if (s) {
                            var y = s._bitmapWidth || s._textureWidth, w = s._bitmapHeight || s._textureHeight;
                            this._texture_to_render = s;
                            d.RenderFilter.getInstance().drawImage(a, this, s._bitmapX, s._bitmapY, y, w, r + s._offsetX, g + s._offsetY, y, w);
                            r += s._textureWidth + this._letterSpacing
                        } else" " == y ? r += f : d.$warn(1011, y)
                    }
                    g += m + this._lineSpacing
                }
                this._texture_to_render = null
            }
        };
        b._measureBounds = function () {
            var a = this._getTextLines();
            return 0 == a.length ? d.Rectangle.identity.initialize(0, 0, 0, 0) : d.Rectangle.identity.initialize(this._textOffsetX, this._textOffsetY, this._textWidth - this._textOffsetX, this._textHeight - this._textOffsetY + (a.length - 1) * this._lineSpacing)
        };
        b._getTextLines = function () {
            if (!this.textLinesChange)return this._textLines;
            var a = [];
            this._textLines = a;
            this.textLinesChange = !1;
            var e = [];
            this._lineHeights = e;
            if (!this._text || !this._font)return a;
            for (var h = 0, b = 0, f = 0, g = 0,
                     n = this._DO_Props_._hasWidthSet, k = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth : Number.POSITIVE_INFINITY, l = this._font, m = l._getFirstCharHeight(), p = Math.ceil(m * c.EMPTY_FACTOR), q = this._text.split(/(?:\r\n|\r|\n)/), r = q.length, x = !0, y = 0; y < r; y++) {
                for (var s = q[y], w = s.length, t = 0, z = 0, u = !0, D = 0; D < w; D++) {
                    u || (z += this._letterSpacing);
                    var A = s.charAt(D), E, B = 0, H = 0, G = l.getTexture(A);
                    if (G)A = G._textureWidth, E = G._textureHeight, B = G._offsetX, H = G._offsetY; else if (" " == A)A = p, E = m; else {
                        d.$warn(1011, A);
                        u && (u = !1);
                        continue
                    }
                    u && (u = !1, f = Math.min(B, f));
                    x && (g = Math.min(H, g));
                    n && 0 < D && z + A > k ? (a.push(s.substring(0, D)), e.push(t), b += t, h = Math.max(z, h), s = s.substring(D), w = s.length, D = 0, z = A, t = E) : (z += A, t = Math.max(E, t))
                }
                x && (x = !1);
                a.push(s);
                e.push(t);
                b += t;
                h = Math.max(z, h)
            }
            this._textWidth = h;
            this._textHeight = b;
            this._textOffsetX = f;
            this._textOffsetY = g;
            return a
        };
        c.EMPTY_FACTOR = 0.33;
        return c
    }(d.DisplayObject);
    d.BitmapText = g;
    g.prototype.__class__ = "egret.BitmapText"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.LINEAR = "linear";
        d.RADIAL = "radial";
        return d
    }();
    d.GradientType = g;
    g.prototype.__class__ = "egret.GradientType"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function c() {
            this.fillStyle = this.strokeStyle = this.commandQueue = this._renderContext = null;
            this._dirty = !1;
            this.lineY = this.lineX = 0;
            this._firstCheck = !0;
            this._lastY = this._lastX = this._maxY = this._maxX = this._minY = this._minX = 0;
            this.commandQueue = []
        }

        var b = c.prototype;
        b.beginFill = function (a, e) {
            void 0 === e && (e = 1);
            this.fillStyle = this._parseColor(a, e);
            this._pushCommand(new f(this._setStyle, this, [this.fillStyle]))
        };
        b._parseColor = function (a, e) {
            return "rgba(" + (a >> 16) + "," + ((a & 65280) >> 8) + "," +
                (a & 255) + "," + e + ")"
        };
        b._setStyle = function (a) {
            d.Graphics._currentFillStyle = a;
            this._renderContext.fillStyle = a;
            this._renderContext.beginPath()
        };
        b.beginGradientFill = function (a, e, h, b, c) {
            void 0 === c && (c = null);
            this.fillStyle = a = this.getGradient(a, e, h, b, c);
            this._pushCommand(new f(this._setStyle, this, [a]))
        };
        b.getGradient = function (a, e, h, b, c) {
            var f = d.MainContext.instance.rendererContext, g = new d.Matrix;
            c ? (g.a = 819.2 * c.a, g.b = 819.2 * c.b, g.c = 819.2 * c.c, g.d = 819.2 * c.d, g.tx = c.tx, g.ty = c.ty) : (g.a = 100, g.d = 100);
            a = a == d.GradientType.LINEAR ?
                f.createLinearGradient(-1, 0, 1, 0) : f.createRadialGradient(0, 0, 0, 0, 0, 1);
            c = e.length;
            for (f = 0; f < c; f++)a.addColorStop(b[f] / 255, this._parseColor(e[f], h[f]));
            a.matrix = g;
            return a
        };
        b.drawRect = function (a, e, h, b) {
            this._pushCommand(new f(function (a, e, h, b) {
                this._renderContext.beginPath();
                this._renderContext.rect(a, e, h, b);
                this._renderContext.closePath()
            }, this, [a, e, h, b]));
            this._checkRect(a, e, h, b)
        };
        b.drawCircle = function (a, e, h) {
            this._pushCommand(new f(function (a, e, h) {
                this._renderContext.beginPath();
                this._renderContext.arc(a,
                    e, h, 0, 2 * Math.PI);
                this._renderContext.closePath()
            }, this, [a, e, h]));
            this._checkRect(a - h, e - h, 2 * h, 2 * h)
        };
        b.drawRoundRect = function (a, e, h, b, c, d) {
            this._pushCommand(new f(function (a, e, h, b, c, d) {
                c /= 2;
                d = d ? d / 2 : c;
                h = a + h;
                b = e + b;
                var F = b - d;
                this._renderContext.beginPath();
                this._renderContext.moveTo(h, F);
                this._renderContext.quadraticCurveTo(h, b, h - c, b);
                this._renderContext.lineTo(a + c, b);
                this._renderContext.quadraticCurveTo(a, b, a, b - d);
                this._renderContext.lineTo(a, e + d);
                this._renderContext.quadraticCurveTo(a, e, a + c, e);
                this._renderContext.lineTo(h -
                c, e);
                this._renderContext.quadraticCurveTo(h, e, h, e + d);
                this._renderContext.lineTo(h, F);
                this._renderContext.closePath()
            }, this, [a, e, h, b, c, d]));
            this._checkRect(a, e, h, b)
        };
        b.drawEllipse = function (a, e, h, b) {
            this._pushCommand(new f(function (a, e, h, b) {
                a += h / 2;
                e += b / 2;
                var c = h > b ? h : b;
                h /= c;
                b /= c;
                c /= 2;
                this._renderContext.scale(h, b);
                this._renderContext.beginPath();
                this._renderContext.arc(a / h, e / b, c, 0, 2 * Math.PI);
                this._renderContext.closePath();
                this._renderContext.scale(1 / h, 1 / b)
            }, this, [a, e, h, b]));
            this._checkRect(a, e, h, b)
        };
        b.lineStyle = function (a, e, h, b, c, d, g, k) {
            void 0 === a && (a = NaN);
            void 0 === e && (e = 0);
            void 0 === h && (h = 1);
            void 0 === b && (b = !1);
            void 0 === c && (c = "normal");
            void 0 === d && (d = null);
            void 0 === g && (g = null);
            void 0 === k && (k = 3);
            this.strokeStyle && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand));
            this.strokeStyle = this._parseColor(e, h);
            this._pushCommand(new f(function (a, e) {
                this._renderContext.lineWidth = a;
                this._renderContext.strokeStyle = e;
                this._renderContext.beginPath()
            }, this, [a, this.strokeStyle]));
            this.moveTo(this.lineX,
                this.lineY)
        };
        b.lineTo = function (a, e) {
            this._pushCommand(new f(function (a, e) {
                this._renderContext.lineTo(a, e)
            }, this, [a, e]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = a;
            this.lineY = e;
            this._checkPoint(a, e)
        };
        b.curveTo = function (a, e, h, b) {
            this._pushCommand(new f(function (a, e, h, b) {
                this._renderContext.quadraticCurveTo(a, e, h, b)
            }, this, [a, e, h, b]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = h;
            this.lineY = b;
            this._checkPoint(a, e);
            this._checkPoint(h, b)
        };
        b.cubicCurveTo = function (a, e, h, b, c, d) {
            this._pushCommand(new f(function (a,
                                              e, h, b, c, d) {
                this._renderContext.bezierCurveTo(a, e, h, b, c, d)
            }, this, [a, e, h, b, c, d]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = c;
            this.lineY = d;
            this._checkPoint(a, e);
            this._checkPoint(h, b);
            this._checkPoint(c, d)
        };
        b.moveTo = function (a, e) {
            this._pushCommand(new f(function (a, e) {
                this._renderContext.moveTo(a, e)
            }, this, [a, e]));
            this.lineX = a;
            this.lineY = e
        };
        b.clear = function () {
            this.lineY = this.lineX = this.commandQueue.length = 0;
            this.fillStyle = this.strokeStyle = null;
            this._maxY = this._maxX = this._minY = this._minX = 0;
            this._dirty =
                this._firstCheck = !0
        };
        b.endFill = function () {
            null != this.fillStyle && (this._fill(), this.fillStyle = null)
        };
        b._beginDraw = function (a) {
        };
        b._endDraw = function (a) {
        };
        b._draw = function (a) {
            var e = this.commandQueue.length;
            if (0 != e) {
                this._beginDraw(a);
                for (var h = 0; h < e; h++) {
                    var b = this.commandQueue[h];
                    b.method.apply(b.thisObject, b.args)
                }
                this.fillStyle && (this._createEndFillCommand(), b = this._endFillCommand, b.method.apply(b.thisObject, b.args));
                this.strokeStyle && (this._createEndLineCommand(), b = this._endLineCommand, b.method.apply(b.thisObject,
                    b.args));
                this._endDraw(a);
                this._dirty = !1
            }
        };
        b._checkRect = function (a, e, h, b) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = e, this._maxX = a + h, this._maxY = e + b) : (this._minX = Math.min(this._minX, a), this._minY = Math.min(this._minY, e), this._maxX = Math.max(this._maxX, a + h), this._maxY = Math.max(this._maxY, e + b));
            this._dirty = !0
        };
        b._checkPoint = function (a, e) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = e, this._maxX = a, this._maxY = e) : (this._minX = Math.min(this._minX, a), this._minY = Math.min(this._minY,
                e), this._maxX = Math.max(this._maxX, a), this._maxY = Math.max(this._maxY, e));
            this._lastX = a;
            this._lastY = e;
            this._dirty = !0
        };
        b._measureBounds = function () {
            return d.Rectangle.identity.initialize(this._minX, this._minY, this._maxX - this._minX, this._maxY - this._minY)
        };
        b._createEndFillCommand = function () {
            this._endFillCommand || (this._endFillCommand = new f(function () {
                this._renderContext.fill();
                this._renderContext.closePath()
            }, this, null))
        };
        b._fill = function () {
            this.fillStyle && (this._createEndFillCommand(), this._pushCommand(this._endFillCommand));
            this.strokeStyle && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand))
        };
        b._createEndLineCommand = function () {
            this._endLineCommand || (this._endLineCommand = new f(function () {
                this._renderContext.stroke();
                this._renderContext.closePath()
            }, this, null))
        };
        b._pushCommand = function (a) {
            this.commandQueue.push(a);
            this._dirty = !0
        };
        return c
    }();
    d.Graphics = g;
    g.prototype.__class__ = "egret.Graphics";
    var f = function () {
        return function (c, b, a) {
            this.method = c;
            this.thisObject = b;
            this.args = a
        }
    }();
    f.prototype.__class__ =
        "egret.Command"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._graphics = null
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "graphics", {
            get: function () {
                this._graphics || (this._graphics = new d.Graphics, this.needDraw = !0);
                return this._graphics
            }, enumerable: !0, configurable: !0
        });
        b._draw = function (a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._graphics && this._graphics._draw(a)
        };
        b._measureBounds = function () {
            var a = this._graphics;
            return a ? a._measureBounds() : f.prototype._measureBounds.call(this)
        };
        return c
    }(d.DisplayObject);
    d.Shape = g;
    g.prototype.__class__ = "egret.Shape"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._graphics = null
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "graphics", {
            get: function () {
                this._graphics || (this._graphics = new d.Graphics, this.needDraw = !0);
                return this._graphics
            }, enumerable: !0, configurable: !0
        });
        b._draw = function (a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._graphics && this._graphics._draw(a);
            f.prototype._render.call(this, a)
        };
        b._measureBounds =
            function () {
                for (var a = 0, e = 0, h = 0, b = 0, c = this._children.length, f = 0; f < c; f++) {
                    var g = this._children[f];
                    if (g.visible) {
                        var k = g.getBounds(d.Rectangle.identity, !1), l = k.x, m = k.y, p = k.width, k = k.height, g = g._getMatrix(), g = d.DisplayObject.getTransformBounds(d.Rectangle.identity.initialize(l, m, p, k), g), l = g.x, m = g.y, p = g.width + g.x, g = g.height + g.y;
                        if (l < a || 0 == f)a = l;
                        if (p > e || 0 == f)e = p;
                        if (m < h || 0 == f)h = m;
                        if (g > b || 0 == f)b = g
                    }
                }
                if (this._graphics) {
                    c = this._graphics._measureBounds();
                    l = c.x;
                    m = c.y;
                    p = c.width + c.x;
                    g = c.height + c.y;
                    if (l < a || 0 == f)a =
                        l;
                    if (p > e || 0 == f)e = p;
                    if (m < h || 0 == f)h = m;
                    if (g > b || 0 == f)b = g
                }
                return d.Rectangle.identity.initialize(a, h, e - a, b - h)
            };
        b.hitTest = function (a, e, h) {
            void 0 === h && (h = !1);
            var b = f.prototype.hitTest.call(this, a, e, h);
            return b ? b : this._graphics ? d.DisplayObject.prototype.hitTest.call(this, a, e, h) : null
        };
        return c
    }(d.DisplayObjectContainer);
    d.Sprite = g;
    g.prototype.__class__ = "egret.Sprite"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        f._getStartLine = function (c) {
            var b = f._getTextHeight(c), a = 0;
            c._DO_Props_._hasHeightSet && (!(b < c._DO_Props_._explicitHeight) && b > c._DO_Props_._explicitHeight && (a = Math.max(c._TF_Props_._scrollV - 1, 0), a = Math.min(c._TF_Props_._numLines - 1, a)), c._TF_Props_._multiline || (a = Math.max(c._TF_Props_._scrollV - 1, 0), a = Math.min(c._TF_Props_._numLines - 1, a)));
            return a
        };
        f._getHalign = function (c) {
            var b = c._getLinesArr(), a = 0;
            c._TF_Props_._textAlign == d.HorizontalAlign.CENTER ? a = 0.5 : c._TF_Props_._textAlign ==
            d.HorizontalAlign.RIGHT && (a = 1);
            c._TF_Props_._type == d.TextFieldType.INPUT && !c._TF_Props_._multiline && 1 < b.length && (a = 0);
            return a
        };
        f._getTextHeight = function (c) {
            return d.TextFieldType.INPUT != c._TF_Props_._type || c._TF_Props_._multiline ? c._TF_Props_._textMaxHeight + (c._TF_Props_._numLines - 1) * c._TF_Props_._lineSpacing : c._TF_Props_._size
        };
        f._getValign = function (c) {
            var b = f._getTextHeight(c);
            return c._TF_Props_._type == d.TextFieldType.INPUT ? c._TF_Props_._multiline ? 0 : 0.5 : c._DO_Props_._hasHeightSet && b < c._DO_Props_._explicitHeight ?
                (b = 0, c._TF_Props_._verticalAlign == d.VerticalAlign.MIDDLE ? b = 0.5 : c._TF_Props_._verticalAlign == d.VerticalAlign.BOTTOM && (b = 1), b) : 0
        };
        f._getTextElement = function (c, b, a) {
            b = f._getHit(c, b, a);
            c = c._getLinesArr();
            return b && c[b.lineIndex] && c[b.lineIndex].elements[b.textElementIndex] ? c[b.lineIndex].elements[b.textElementIndex] : null
        };
        f._getHit = function (c, b, a) {
            var e = c._getLinesArr();
            if (0 == c._TF_Props_._textMaxWidth)return null;
            var h = 0, d = f._getTextHeight(c), g = 0;
            c._DO_Props_._hasHeightSet && c._DO_Props_._explicitHeight >
            d && (g = f._getValign(c) * (c._DO_Props_._explicitHeight - d), 0 != g && (a -= g));
            g = 0;
            for (d = f._getStartLine(c); d < e.length; d++) {
                var v = e[d];
                if (g + v.height >= a) {
                    h = d + 1;
                    break
                } else g += v.height;
                if (g + c._TF_Props_._lineSpacing > a)return null;
                g += c._TF_Props_._lineSpacing
            }
            if (0 === h)return null;
            c = e[h - 1];
            for (d = a = 0; d < c.elements.length; d++)if (e = c.elements[d], a + e.width < b)a += e.width; else return {
                lineIndex: h - 1,
                textElementIndex: d
            };
            return null
        };
        f._getScrollNum = function (c) {
            var b = 1;
            if (c._TF_Props_._multiline) {
                var a = c.height, e = c.size;
                c =
                    c.lineSpacing;
                b = Math.floor(a / (e + c));
                a - (e + c) * b > e / 2 && b++
            }
            return b
        };
        return f
    }();
    d.TextFieldUtils = g;
    g.prototype.__class__ = "egret.TextFieldUtils"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        return function () {
            this._text = this._type = "";
            this._displayAsPassword = !1;
            this._fontFamily = d.TextField.default_fontFamily;
            this._size = 30;
            this._bold = this._italic = !1;
            this._textColorString = "#FFFFFF";
            this._textColor = 16777215;
            this._strokeColorString = "#000000";
            this._stroke = this._strokeColor = 0;
            this._border = !1;
            this._borderColor = 0;
            this._background = !1;
            this._backgroundColor = 16777215;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._maxChars = this._textMaxHeight = this._textMaxWidth =
                0;
            this._scrollV = -1;
            this._numLines = this._lineSpacing = 0;
            this._wordWrap = this._multiline = !1
        }
    }();
    d.TextFieldProperties = g;
    g.prototype.__class__ = "egret.TextFieldProperties"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._inputEnabled = !1;
            this._bgGraphics = this._inputUtils = null;
            this._isFlow = !1;
            this._textArr = [];
            this._isArrayChanged = !1;
            this._linesArr = [];
            this._isTyping = !1;
            this.needDraw = !0;
            this._TF_Props_ = new d.TextFieldProperties
        }

        __extends(c, f);
        var b = c.prototype;
        b.isInput = function () {
            return this._TF_Props_._type == d.TextFieldType.INPUT
        };
        b._setTouchEnabled = function (a) {
            f.prototype._setTouchEnabled.call(this, a);
            this.isInput() && (this._inputEnabled = !0)
        };
        Object.defineProperty(b,
            "type", {
                get: function () {
                    return this._TF_Props_._type
                }, set: function (a) {
                    this._setType(a)
                }, enumerable: !0, configurable: !0
            });
        b._setType = function (a) {
            var e = this._TF_Props_;
            e._type != a && (e._type = a, e._type == d.TextFieldType.INPUT ? (this._DO_Props_._hasWidthSet || this._setWidth(100), this._DO_Props_._hasHeightSet || this._setHeight(30), null == this._inputUtils && (this._inputUtils = new d.InputController), this._inputUtils.init(this), this._setDirty(), this._DO_Props_._stage && this._inputUtils._addStageText()) : this._inputUtils &&
            (this._inputUtils._removeStageText(), this._inputUtils = null))
        };
        Object.defineProperty(b, "text", {
            get: function () {
                return this._getText()
            }, set: function (a) {
                this._setText(a)
            }, enumerable: !0, configurable: !0
        });
        b._getText = function () {
            return this._TF_Props_._type == d.TextFieldType.INPUT ? this._inputUtils._getText() : this._TF_Props_._text
        };
        b._setSizeDirty = function () {
            f.prototype._setSizeDirty.call(this);
            this._isArrayChanged = !0
        };
        b._setTextDirty = function () {
            this._setSizeDirty()
        };
        b._setBaseText = function (a) {
            null == a && (a =
                "");
            var e = this._TF_Props_;
            this._isFlow = !1;
            e._text != a && (this._setTextDirty(), e._text = a, a = "", a = e._displayAsPassword ? this.changeToPassText(e._text) : e._text, this.setMiddleStyle([{text: a}]))
        };
        b._setText = function (a) {
            null == a && (a = "");
            this._setBaseText(a);
            this._inputUtils && this._inputUtils._setText(this._TF_Props_._text)
        };
        Object.defineProperty(b, "displayAsPassword", {
            get: function () {
                return this._TF_Props_._displayAsPassword
            }, set: function (a) {
                this._setDisplayAsPassword(a)
            }, enumerable: !0, configurable: !0
        });
        b._setDisplayAsPassword =
            function (a) {
                var e = this._TF_Props_;
                e._displayAsPassword != a && (e._displayAsPassword = a, this._setTextDirty(), a = "", a = e._displayAsPassword ? this.changeToPassText(e._text) : e._text, this.setMiddleStyle([{text: a}]))
            };
        Object.defineProperty(b, "fontFamily", {
            get: function () {
                return this._TF_Props_._fontFamily
            }, set: function (a) {
                this._setFontFamily(a)
            }, enumerable: !0, configurable: !0
        });
        b._setFontFamily = function (a) {
            this._TF_Props_._fontFamily != a && (this._setTextDirty(), this._TF_Props_._fontFamily = a)
        };
        Object.defineProperty(b,
            "size", {
                get: function () {
                    return this._TF_Props_._size
                }, set: function (a) {
                    this._setSize(a)
                }, enumerable: !0, configurable: !0
            });
        b._setSize = function (a) {
            this._TF_Props_._size != a && (this._setTextDirty(), this._TF_Props_._size = a)
        };
        Object.defineProperty(b, "italic", {
            get: function () {
                return this._TF_Props_._italic
            }, set: function (a) {
                this._setItalic(a)
            }, enumerable: !0, configurable: !0
        });
        b._setItalic = function (a) {
            this._TF_Props_._italic != a && (this._setTextDirty(), this._TF_Props_._italic = a)
        };
        Object.defineProperty(b, "bold", {
            get: function () {
                return this._TF_Props_._bold
            },
            set: function (a) {
                this._setBold(a)
            }, enumerable: !0, configurable: !0
        });
        b._setBold = function (a) {
            this._TF_Props_._bold != a && (this._setTextDirty(), this._TF_Props_._bold = a)
        };
        Object.defineProperty(b, "textColor", {
            get: function () {
                return this._TF_Props_._textColor
            }, set: function (a) {
                this._setTextColor(a)
            }, enumerable: !0, configurable: !0
        });
        b._setTextColor = function (a) {
            this._TF_Props_._textColor != a && (this._setTextDirty(), this._TF_Props_._textColor = a, this._TF_Props_._textColorString = d.toColorString(a))
        };
        Object.defineProperty(b,
            "strokeColor", {
                get: function () {
                    return this._TF_Props_._strokeColor
                }, set: function (a) {
                    this._setStrokeColor(a)
                }, enumerable: !0, configurable: !0
            });
        b._setStrokeColor = function (a) {
            this._TF_Props_._strokeColor != a && (this._setTextDirty(), this._TF_Props_._strokeColor = a, this._TF_Props_._strokeColorString = d.toColorString(a))
        };
        Object.defineProperty(b, "stroke", {
            get: function () {
                return this._TF_Props_._stroke
            }, set: function (a) {
                this._setStroke(a)
            }, enumerable: !0, configurable: !0
        });
        b._setStroke = function (a) {
            this._TF_Props_._stroke !=
            a && (this._setTextDirty(), this._TF_Props_._stroke = a)
        };
        Object.defineProperty(b, "textAlign", {
            get: function () {
                return this._TF_Props_._textAlign
            }, set: function (a) {
                this._setTextAlign(a)
            }, enumerable: !0, configurable: !0
        });
        b._setTextAlign = function (a) {
            this._TF_Props_._textAlign != a && (this._setTextDirty(), this._TF_Props_._textAlign = a)
        };
        Object.defineProperty(b, "verticalAlign", {
            get: function () {
                return this._TF_Props_._verticalAlign
            }, set: function (a) {
                this._setVerticalAlign(a)
            }, enumerable: !0, configurable: !0
        });
        b._setVerticalAlign =
            function (a) {
                this._TF_Props_._verticalAlign != a && (this._setTextDirty(), this._TF_Props_._verticalAlign = a)
            };
        Object.defineProperty(b, "maxChars", {
            get: function () {
                return this._TF_Props_._maxChars
            }, set: function (a) {
                this._setMaxChars(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMaxChars = function (a) {
            this._TF_Props_._maxChars != a && (this._TF_Props_._maxChars = a)
        };
        Object.defineProperty(b, "scrollV", {
            get: function () {
                return Math.min(Math.max(this._TF_Props_._scrollV, 1), this.maxScrollV)
            }, set: function (a) {
                this._TF_Props_._scrollV =
                    Math.max(a, 1);
                this._setDirty()
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "maxScrollV", {
            get: function () {
                this._getLinesArr();
                return Math.max(this._TF_Props_._numLines - d.TextFieldUtils._getScrollNum(this) + 1, 1)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "selectionBeginIndex", {
            get: function () {
                return 0
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "selectionEndIndex", {
            get: function () {
                return 0
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "caretIndex", {
            get: function () {
                return 0
            },
            enumerable: !0, configurable: !0
        });
        b._setSelection = function (a, e) {
        };
        Object.defineProperty(b, "lineSpacing", {
            get: function () {
                return this._TF_Props_._lineSpacing
            }, set: function (a) {
                this._setLineSpacing(a)
            }, enumerable: !0, configurable: !0
        });
        b._setLineSpacing = function (a) {
            this._TF_Props_._lineSpacing != a && (this._setTextDirty(), this._TF_Props_._lineSpacing = a)
        };
        b._getLineHeight = function () {
            return this._TF_Props_._lineSpacing + this._TF_Props_._size
        };
        Object.defineProperty(b, "numLines", {
            get: function () {
                return this._TF_Props_._numLines
            },
            enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "multiline", {
            get: function () {
                return this._TF_Props_._multiline
            }, set: function (a) {
                this._setMultiline(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMultiline = function (a) {
            this._TF_Props_._multiline = a;
            this._setDirty()
        };
        b._setWidth = function (a) {
            f.prototype._setWidth.call(this, a);
            this.fillBackground()
        };
        b._setHeight = function (a) {
            f.prototype._setHeight.call(this, a);
            this.fillBackground()
        };
        Object.defineProperty(b, "border", {
            get: function () {
                return this._TF_Props_._border
            },
            set: function (a) {
                this._TF_Props_._border = a;
                this.fillBackground()
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "borderColor", {
            get: function () {
                return this._TF_Props_._borderColor
            }, set: function (a) {
                this._TF_Props_._borderColor = a;
                this.fillBackground()
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "background", {
            get: function () {
                return this._TF_Props_._background
            }, set: function (a) {
                this._TF_Props_._background = a;
                this.fillBackground()
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b,
            "backgroundColor", {
                get: function () {
                    return this._TF_Props_._backgroundColor
                }, set: function (a) {
                    this._TF_Props_._backgroundColor = a;
                    this.fillBackground()
                }, enumerable: !0, configurable: !0
            });
        b.fillBackground = function () {
            var a = this._bgGraphics, e = this._TF_Props_;
            a && a.clear();
            if (e._background || e._border)null == a && (a = this._bgGraphics = new d.Graphics), e._background && a.beginFill(e._backgroundColor, 1), e._border && a.lineStyle(1, e._borderColor), a.drawRect(0, 0, this._getWidth(), this._getHeight()), a.endFill()
        };
        b.setFocus =
            function () {
                d.$warn(1013)
            };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            this._removeEvent();
            this._TF_Props_._type == d.TextFieldType.INPUT && this._inputUtils._removeStageText()
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            this._addEvent();
            this._TF_Props_._type == d.TextFieldType.INPUT && this._inputUtils._addStageText()
        };
        b._updateBaseTransform = function () {
            this._getLinesArr();
            0 == this._TF_Props_._textMaxWidth && this._TF_Props_._type != d.TextFieldType.INPUT || f.prototype._updateTransform.call(this)
        };
        b._updateTransform = function () {
            this._TF_Props_._type == d.TextFieldType.INPUT ? this._DO_Props_._normalDirty ? this._inputUtils._updateProperties() : this._inputUtils._updateTransform() : this._updateBaseTransform()
        };
        b._draw = function (a) {
            var e = this._TF_Props_;
            if (e._type == d.TextFieldType.INPUT) {
                if (this._isTyping)return
            } else if (0 == e._textMaxWidth)return;
            f.prototype._draw.call(this, a)
        };
        b._render = function (a) {
            this._bgGraphics && this._bgGraphics._draw(a);
            this.drawText(a);
            this._clearDirty()
        };
        b._measureBounds = function () {
            var a =
                this._TF_Props_;
            this._getLinesArr();
            return 0 == a._textMaxWidth ? d.Rectangle.identity.initialize(0, 0, 0, 0) : d.Rectangle.identity.initialize(0, 0, a._textMaxWidth, d.TextFieldUtils._getTextHeight(this))
        };
        Object.defineProperty(b, "textFlow", {
            get: function () {
                return this._textArr
            }, set: function (a) {
                var e = this._TF_Props_;
                this._isFlow = !0;
                var h = "";
                null == a && (a = []);
                for (var b = 0; b < a.length; b++)h += a[b].text;
                e._displayAsPassword ? this._setBaseText(h) : (e._text = h, this.setMiddleStyle(a))
            }, enumerable: !0, configurable: !0
        });
        b.changeToPassText =
            function (a) {
                if (this._TF_Props_._displayAsPassword) {
                    for (var e = "", h = 0, b = a.length; h < b; h++)switch (a.charAt(h)) {
                        case "\n":
                            e += "\n";
                            break;
                        case "\r":
                            break;
                        default:
                            e += "*"
                    }
                    return e
                }
                return a
            };
        b.setMiddleStyle = function (a) {
            this._isArrayChanged = !0;
            this._textArr = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "textWidth", {
            get: function () {
                return this._TF_Props_._textMaxWidth
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "textHeight", {
            get: function () {
                return d.TextFieldUtils._getTextHeight(this)
            }, enumerable: !0,
            configurable: !0
        });
        b.appendText = function (a) {
            this.appendElement({text: a})
        };
        b.appendElement = function (a) {
            var e = this._TF_Props_, h = e._text + a.text;
            e._displayAsPassword ? this._setBaseText(h) : (e._text = h, this._textArr.push(a), this.setMiddleStyle(this._textArr))
        };
        b._getLinesArr = function () {
            var a = this._TF_Props_;
            if (!this._isArrayChanged)return this._linesArr;
            this._isArrayChanged = !1;
            var e = this._textArr, h = d.MainContext.instance.rendererContext;
            this._linesArr.length = 0;
            a._textMaxHeight = 0;
            a._textMaxWidth = 0;
            if (this._DO_Props_._hasWidthSet &&
                0 == this._DO_Props_._explicitWidth)return a._numLines = 0, [{
                width: 0,
                height: 0,
                charNum: 0,
                elements: [],
                hasNextLine: !1
            }];
            this._isFlow || h.setupFont(this);
            for (var b = this._linesArr, c = 0, f = 0, g = 0, k = 0, l, m = 0, p = e.length; m < p; m++) {
                var q = e[m];
                q.style = q.style || {};
                for (var r = q.text.toString().split(/(?:\r\n|\r|\n)/), x = 0, y = r.length; x < y; x++) {
                    null == b[k] && (l = {
                        width: 0,
                        height: 0,
                        elements: [],
                        charNum: 0,
                        hasNextLine: !1
                    }, b[k] = l, f = g = c = 0);
                    var g = a._type == d.TextFieldType.INPUT ? a._size : Math.max(g, q.style.size || a._size), s = !0;
                    if ("" == r[x])x ==
                    y - 1 && (s = !1); else {
                        this._isFlow && h.setupFont(this, q.style);
                        var w = h.measureText(r[x]);
                        if (this._DO_Props_._hasWidthSet)if (c + w <= this._DO_Props_._explicitWidth)l.elements.push({
                            width: w,
                            text: r[x],
                            style: q.style
                        }), c += w, f += r[x].length, x == y - 1 && (s = !1); else {
                            for (var t = 0, z = 0, u = r[x], D = this._TF_Props_._wordWrap ? u.split(/\b/) : u.match(/./g), A = D.length, E = 0; t < A; t++) {
                                w = h.measureText(D[t]);
                                if (0 != c && c + w > this._DO_Props_._explicitWidth && 0 != c + t)break;
                                E += D[t].length;
                                z += w;
                                c += w;
                                f += E
                            }
                            if (0 < t) {
                                l.elements.push({
                                    width: z, text: u.substring(0,
                                        E), style: q.style
                                });
                                w = u.substring(E);
                                t = 0;
                                for (z = w.length; t < z && " " == w.charAt(t); t++);
                                r[x] = w.substring(t)
                            }
                            "" != r[x] && (x--, s = !1)
                        } else c += w, f += r[x].length, l.elements.push({
                            width: w,
                            text: r[x],
                            style: q.style
                        }), x == y - 1 && (s = !1)
                    }
                    s && (f++, l.hasNextLine = !0);
                    x < r.length - 1 && (l.width = c, l.height = g, l.charNum = f, a._textMaxWidth = Math.max(a._textMaxWidth, c), a._textMaxHeight += g, k++)
                }
                m == e.length - 1 && l && (l.width = c, l.height = g, l.charNum = f, a._textMaxWidth = Math.max(a._textMaxWidth, c), a._textMaxHeight += g)
            }
            a._numLines = b.length;
            return b
        };
        Object.defineProperty(b, "wordWrap", {
            get: function () {
                return this._TF_Props_._wordWrap
            }, set: function (a) {
                this._TF_Props_._wordWrap = a
            }, enumerable: !0, configurable: !0
        });
        b.drawText = function (a) {
            var e = this._TF_Props_, h = this._getLinesArr();
            if (0 != e._textMaxWidth) {
                var b = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth : e._textMaxWidth, c = d.TextFieldUtils._getTextHeight(this), f = 0, g = d.TextFieldUtils._getStartLine(this);
                if (this._DO_Props_._hasHeightSet && this._DO_Props_._explicitHeight > c)var k = d.TextFieldUtils._getValign(this),
                    f = f + k * (this._DO_Props_._explicitHeight - c);
                for (var f = Math.round(f), c = d.TextFieldUtils._getHalign(this), k = 0, l = g, m = e._numLines; l < m; l++) {
                    var p = h[l], q = p.height, f = f + q / 2;
                    if (l != g) {
                        if (e._type == d.TextFieldType.INPUT && !e._multiline)break;
                        if (this._DO_Props_._hasHeightSet && f > this._DO_Props_._explicitHeight)break
                    }
                    for (var k = Math.round((b - p.width) * c), r = 0, x = p.elements.length; r < x; r++) {
                        var y = p.elements[r];
                        a.drawText(this, y.text, k, f + (q - (y.style.size || e._size)) / 2, y.width, y.style);
                        k += y.width
                    }
                    f += q / 2 + e._lineSpacing
                }
            }
        };
        b._addEvent =
            function () {
                this.addEventListener(d.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
            };
        b._removeEvent = function () {
            this.removeEventListener(d.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        };
        b.onTapHandler = function (a) {
            if (this._TF_Props_._type != d.TextFieldType.INPUT && (a = d.TextFieldUtils._getTextElement(this, a.localX, a.localY), null != a && (a = a.style) && a.href && a.href.match(/^event:/))) {
                var e = a.href.match(/^event:/)[0];
                d.TextEvent.dispatchTextEvent(this, d.TextEvent.LINK, a.href.substring(e.length))
            }
        };
        c.default_fontFamily =
            "Arial";
        return c
    }(d.DisplayObject);
    d.TextField = g;
    g.prototype.__class__ = "egret.TextField"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
            this._replaceArr = [];
            this.resutlArr = [];
            this.initReplaceArr()
        }

        var c = d.prototype;
        c.initReplaceArr = function () {
            this._replaceArr = [];
            this._replaceArr.push([/&lt;/g, "<"]);
            this._replaceArr.push([/&gt;/g, ">"]);
            this._replaceArr.push([/&amp;/g, "&"]);
            this._replaceArr.push([/&quot;/g, '"']);
            this._replaceArr.push([/&apos;/g, "'"])
        };
        c.replaceSpecial = function (b) {
            for (var a = 0; a < this._replaceArr.length; a++)b = b.replace(this._replaceArr[a][0], this._replaceArr[a][1]);
            return b
        };
        c.parser =
            function (b) {
                this.stackArray = [];
                this.resutlArr = [];
                for (var a = 0, e = b.length; a < e;) {
                    var h = b.indexOf("<", a);
                    0 > h ? (this.addToResultArr(b.substring(a)), a = e) : (this.addToResultArr(b.substring(a, h)), a = b.indexOf(">", h), "/" == b.charAt(h + 1) ? this.stackArray.pop() : this.addToArray(b.substring(h + 1, a)), a += 1)
                }
                return this.resutlArr
            };
        c.addToResultArr = function (b) {
            "" != b && (b = this.replaceSpecial(b), 0 < this.stackArray.length ? this.resutlArr.push({
                text: b,
                style: this.stackArray[this.stackArray.length - 1]
            }) : this.resutlArr.push({text: b}))
        };
        c.changeStringToObject = function (b) {
            b = b.trim();
            var a = {}, e = [];
            if ("i" == b.charAt(0) || "b" == b.charAt(0))this.addProperty(a, b, "true"); else if (e = b.match(/^(font|a)\s/))for (b = b.substring(e[0].length).trim(), e = 0; e = b.match(this.getHeadReg());) {
                var h = e[0], c = "";
                b = b.substring(h.length).trim();
                '"' == b.charAt(0) ? (e = b.indexOf('"', 1), c = b.substring(1, e), e += 1) : "'" == b.charAt(0) ? (e = b.indexOf("'", 1), c = b.substring(1, e), e += 1) : (c = b.match(/(\S)+/)[0], e = c.length);
                this.addProperty(a, h.substring(0, h.length - 1).trim(), c.trim());
                b = b.substring(e).trim()
            }
            return a
        };
        c.getHeadReg = function () {
            return /^(color|textcolor|strokecolor|stroke|b|bold|i|italic|size|fontfamily|href)(\s)*=/
        };
        c.addProperty = function (b, a, e) {
            switch (a.toLowerCase()) {
                case "color":
                case "textcolor":
                    e = e.replace(/#/, "0x");
                    b.textColor = parseInt(e);
                    break;
                case "strokecolor":
                    e = e.replace(/#/, "0x");
                    b.strokeColor = parseInt(e);
                    break;
                case "stroke":
                    b.stroke = parseInt(e);
                    break;
                case "b":
                case "bold":
                    b.bold = "true" == e;
                    break;
                case "i":
                case "italic":
                    b.italic = "true" == e;
                    break;
                case "size":
                    b.size =
                        parseInt(e);
                    break;
                case "fontfamily":
                    b.fontFamily = e;
                    break;
                case "href":
                    b.href = this.replaceSpecial(e)
            }
        };
        c.addToArray = function (b) {
            b = this.changeStringToObject(b);
            if (0 != this.stackArray.length) {
                var a = this.stackArray[this.stackArray.length - 1], e;
                for (e in a)null == b[e] && (b[e] = a[e])
            }
            this.stackArray.push(b)
        };
        return d
    }();
    d.HtmlTextParser = g;
    g.prototype.__class__ = "egret.HtmlTextParser"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.DYNAMIC = "dynamic";
        d.INPUT = "input";
        return d
    }();
    d.TextFieldType = g;
    g.prototype.__class__ = "egret.TextFieldType"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this);
            this._bitmapY = this._bitmapX = this._sourceHeight = this._sourceWidth = 0;
            this._textureMap = {};
            this.texture = a;
            this._sourceWidth = a._sourceWidth;
            this._sourceHeight = a._sourceHeight;
            this._bitmapX = a._bitmapX - a._offsetX;
            this._bitmapY = a._bitmapY - a._offsetY
        }

        __extends(c, f);
        var b = c.prototype;
        b.getTexture = function (a) {
            return this._textureMap[a]
        };
        b.createTexture = function (a, e, h, b, c, f, g, k, l) {
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            "undefined" === typeof k && (k = f + b);
            "undefined" === typeof l && (l = g + c);
            var m = this.texture._clone(), p = d.MainContext.instance.rendererContext._texture_scale_factor;
            m._bitmapX = this._bitmapX + e;
            m._bitmapY = this._bitmapY + h;
            m._bitmapWidth = b * p;
            m._bitmapHeight = c * p;
            m._offsetX = f;
            m._offsetY = g;
            m._textureWidth = k * p;
            m._textureHeight = l * p;
            m._sourceWidth = this._sourceWidth;
            m._sourceHeight = this._sourceHeight;
            return this._textureMap[a] = m
        };
        b.dispose = function () {
            this.texture && this.texture.dispose()
        };
        return c
    }(d.HashObject);
    d.SpriteSheet = g;
    g.prototype.__class__ = "egret.SpriteSheet"
})(egret ||
(egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._text = null;
            this._isFocus = !1
        }

        __extends(c, f);
        var b = c.prototype;
        b.init = function (a) {
            this._text = a;
            this.stageText = d.StageText.create();
            this.stageText._setTextField(this._text)
        };
        b._addStageText = function () {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !0);
            this.stageText._add();
            this.stageText._addListeners();
            this.stageText.addEventListener("updateText", this.updateTextHandler, this);
            this._text.addEventListener(d.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler,
                this);
            d.MainContext.instance.stage.addEventListener(d.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.addEventListener("blur", this.blurHandler, this);
            this.stageText.addEventListener("focus", this.focusHandler, this)
        };
        b._removeStageText = function () {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !1);
            this.stageText._remove();
            this.stageText._removeListeners();
            this.stageText._removeInput();
            this.stageText.removeEventListener("updateText", this.updateTextHandler, this);
            this._text.removeEventListener(d.TouchEvent.TOUCH_BEGIN,
                this.onMouseDownHandler, this);
            d.MainContext.instance.stage.removeEventListener(d.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.removeEventListener("blur", this.blurHandler, this);
            this.stageText.removeEventListener("focus", this.focusHandler, this)
        };
        b._getText = function () {
            return this.stageText._getText()
        };
        b._setText = function (a) {
            this.stageText._setText(a)
        };
        b.focusHandler = function (a) {
            this._isFocus = !0;
            this._text._isTyping = !0;
            this._text.dispatchEvent(new d.FocusEvent(d.FocusEvent.FOCUS_IN))
        };
        b.blurHandler = function (a) {
            this._isFocus = !1;
            this._text._isTyping = !1;
            this._text.dispatchEvent(new d.FocusEvent(d.FocusEvent.FOCUS_OUT))
        };
        b.onMouseDownHandler = function (a) {
            a.stopPropagation();
            this._text._DO_Props_._visible && !this._isFocus && (this._isFocus = !0, this.stageText._show(this._text._TF_Props_._multiline, this._text.size, this._text.width, this._text.height), a = this._text.localToGlobal(), this.stageText._initElement(a.x, a.y, this._text._worldTransform.a, this._text._worldTransform.d))
        };
        b.onStageDownHandler =
            function (a) {
                this.stageText._hide()
            };
        b.updateTextHandler = function (a) {
            this.resetText();
            this._text.dispatchEvent(new d.Event(d.Event.CHANGE))
        };
        b.resetText = function () {
            this._text._setBaseText(this.stageText._getText())
        };
        b._hideInput = function () {
            this.stageText._removeInput()
        };
        b._updateTransform = function () {
            this._text._updateBaseTransform();
            !this._text._DO_Props_._visible && this.stageText && this._hideInput()
        };
        b._updateProperties = function () {
            if (!this._isFocus) {
                var a = this._text._DO_Props_._stage;
                if (null == a)this.stageText._setVisible(!1);
                else {
                    for (var e = this._text, h = e._DO_Props_._visible; h;) {
                        e = e.parent;
                        if (e == a)break;
                        h = e._DO_Props_._visible
                    }
                    this.stageText._setVisible(h)
                }
                this.stageText._setMultiline(this._text._TF_Props_._multiline);
                this.stageText._setTextType(this._text._TF_Props_._displayAsPassword ? "password" : "text");
                this.stageText._setText(this._text._TF_Props_._text);
                this.stageText._resetStageText()
            }
            this._updateTransform()
        };
        return c
    }(d.HashObject);
    d.InputController = g;
    g.prototype.__class__ = "egret.InputController"
})(egret || (egret =
{}));
(function (d) {
    var g = function (d) {
        function c(a, e) {
            d.call(this, a);
            this.firstCharHeight = 0;
            "string" == typeof e ? this.charList = this.parseConfig(e) : e && e.hasOwnProperty("frames") ? this.charList = e.frames : this.charList = {}
        }

        __extends(c, d);
        var b = c.prototype;
        b.getTexture = function (a) {
            var e = this._textureMap[a];
            if (!e) {
                e = this.charList[a];
                if (!e)return null;
                e = this.createTexture(a, e.x, e.y, e.w, e.h, e.offX, e.offY, e.sourceW, e.sourceH);
                this._textureMap[a] = e
            }
            return e
        };
        b._getFirstCharHeight = function () {
            if (0 == this.firstCharHeight)for (var a in this.charList) {
                var e = this.charList[a];
                if (e) {
                    var h = e.sourceH;
                    void 0 === h && (h = e.h, void 0 === h && (h = 0), e = e.offY, void 0 === e && (e = 0), h += e);
                    if (!(0 >= h)) {
                        this.firstCharHeight = h;
                        break
                    }
                }
            }
            return this.firstCharHeight
        };
        b.parseConfig = function (a) {
            a = a.split("\r\n").join("\n");
            a = a.split("\n");
            for (var e = this.getConfigByKey(a[3], "count"), h = {}, b = 4; b < 4 + e; b++) {
                var c = a[b], d = String.fromCharCode(this.getConfigByKey(c, "id")), f = {};
                h[d] = f;
                f.x = this.getConfigByKey(c, "x");
                f.y = this.getConfigByKey(c, "y");
                f.w = this.getConfigByKey(c, "width");
                f.h = this.getConfigByKey(c, "height");
                f.offX = this.getConfigByKey(c, "xoffset");
                f.offY = this.getConfigByKey(c, "yoffset")
            }
            return h
        };
        b.getConfigByKey = function (a, e) {
            for (var h = a.split(" "), b = 0, c = h.length; b < c; b++) {
                var d = h[b];
                if (e == d.substring(0, e.length))return h = d.substring(e.length + 1), parseInt(h)
            }
            return 0
        };
        return c
    }(d.SpriteSheet);
    d.BitmapFont = g;
    g.prototype.__class__ = "egret.BitmapFont"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this);
            this._isAddedToStage = !1;
            this._frames = this._movieClipData = this._textureToRender = null;
            this._totalFrames = 0;
            this._frameLabels = null;
            this._frameIntervalTime = 0;
            this._eventPool = null;
            this._isPlaying = !1;
            this._isStopped = !0;
            this._passedTime = this._displayedKeyFrameNum = this._nextFrameNum = this._currentFrameNum = this._playTimes = 0;
            this._setMovieClipData(a);
            this.needDraw = !0
        }

        __extends(c, f);
        var b = c.prototype;
        b._init = function () {
            this._reset();
            var a = this._movieClipData;
            a && a._isDataValid() && (this._frames = a.frames, this._totalFrames = a.numFrames, this._frameLabels = a.labels, this._frameIntervalTime = 1E3 / a.frameRate, this._initFrame())
        };
        b._reset = function () {
            this._frames = null;
            this._playTimes = 0;
            this._isPlaying = !1;
            this.setIsStopped(!0);
            this._currentFrameNum = 0;
            this._nextFrameNum = 1;
            this._passedTime = this._displayedKeyFrameNum = 0;
            this._eventPool = []
        };
        b._initFrame = function () {
            this._movieClipData._isTextureValid() && (this._advanceFrame(), this._constructFrame())
        };
        b._render = function (a) {
            var e =
                this._textureToRender;
            if (this._texture_to_render = e) {
                var h = Math.round(e._offsetX), b = Math.round(e._offsetY), d = e._bitmapWidth || e._textureWidth, f = e._bitmapHeight || e._textureHeight, g = Math.round(d), k = Math.round(f);
                c.renderFilter.drawImage(a, this, e._bitmapX, e._bitmapY, d, f, h, b, g, k)
            }
        };
        b._measureBounds = function () {
            var a = this._textureToRender;
            return a ? d.Rectangle.identity.initialize(a._offsetX, a._offsetY, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        b._onAddToStage = function () {
            f.prototype._onAddToStage.call(this);
            this._isAddedToStage = !0;
            this._isPlaying && 1 < this._totalFrames && this.setIsStopped(!1)
        };
        b._onRemoveFromStage = function () {
            f.prototype._onRemoveFromStage.call(this);
            this._isAddedToStage = !1;
            this.setIsStopped(!0)
        };
        b._getFrameLabelByName = function (a, e) {
            void 0 === e && (e = !1);
            e && (a = a.toLowerCase());
            var h = this._frameLabels;
            if (h)for (var b = null, c = 0; c < h.length; c++)if (b = h[c], e ? b.name.toLowerCase() === a : b.name === a)return b;
            return null
        };
        b._getFrameLabelByFrame = function (a) {
            var e = this._frameLabels;
            if (e)for (var h = null, b = 0; b <
            e.length; b++)if (h = e[b], h.frame === a)return h;
            return null
        };
        b._getFrameLabelForFrame = function (a) {
            var e = null, h = null, b = this._frameLabels;
            if (b)for (var c = 0; c < b.length; c++) {
                h = b[c];
                if (h.frame > a)break;
                e = h
            }
            return e
        };
        b.play = function (a) {
            void 0 === a && (a = 0);
            this._isPlaying = !0;
            this.setPlayTimes(a);
            1 < this._totalFrames && this._isAddedToStage && this.setIsStopped(!1)
        };
        b.stop = function () {
            this._isPlaying = !1;
            this.setIsStopped(!0)
        };
        b.prevFrame = function () {
            this.gotoAndStop(this._currentFrameNum - 1)
        };
        b.nextFrame = function () {
            this.gotoAndStop(this._currentFrameNum +
            1)
        };
        b.gotoAndPlay = function (a, e) {
            void 0 === e && (e = 0);
            (0 === arguments.length || 2 < arguments.length) && d.$error(1022, "MovieClip.gotoAndPlay()");
            this.play(e);
            this._gotoFrame(a)
        };
        b.gotoAndStop = function (a) {
            1 != arguments.length && d.$error(1022, "MovieClip.gotoAndStop()");
            this.stop();
            this._gotoFrame(a)
        };
        b._gotoFrame = function (a) {
            var e;
            "string" === typeof a ? e = this._getFrameLabelByName(a).frame : (e = parseInt(a + "", 10), e != a && d.$error(1022, "Frame Label Not Found"));
            1 > e ? e = 1 : e > this._totalFrames && (e = this._totalFrames);
            e !== this._nextFrameNum &&
            (this._nextFrameNum = e, this._advanceFrame(), this._constructFrame(), this._handlePendingEvent())
        };
        b._advanceTime = function (a) {
            var e = this._frameIntervalTime;
            a = this._passedTime + a;
            this._passedTime = a % e;
            e = a / e;
            if (!(1 > e)) {
                for (; 1 <= e;) {
                    e--;
                    this._nextFrameNum++;
                    if (this._nextFrameNum > this._totalFrames)if (-1 == this._playTimes)this._eventPool.push(d.Event.LOOP_COMPLETE), this._nextFrameNum = 1; else if (this._playTimes--, 0 < this._playTimes)this._eventPool.push(d.Event.LOOP_COMPLETE), this._nextFrameNum = 1; else {
                        this._nextFrameNum =
                            this._totalFrames;
                        this._eventPool.push(d.Event.COMPLETE);
                        this.stop();
                        break
                    }
                    this._advanceFrame()
                }
                this._constructFrame();
                this._handlePendingEvent();
                this._setDirty()
            }
        };
        b._advanceFrame = function () {
            this._currentFrameNum = this._nextFrameNum
        };
        b._constructFrame = function () {
            var a = this._currentFrameNum;
            this._displayedKeyFrameNum != a && (this._textureToRender = this._movieClipData.getTextureByFrame(a), this._DO_Props_._sizeDirty = !0, this._displayedKeyFrameNum = a)
        };
        b._handlePendingEvent = function () {
            if (0 != this._eventPool.length) {
                this._eventPool.reverse();
                for (var a = this._eventPool, e = a.length, h = !1, b = !1, c = 0; c < e; c++) {
                    var f = a.pop();
                    f == d.Event.LOOP_COMPLETE ? b = !0 : f == d.Event.COMPLETE ? h = !0 : this.dispatchEventWith(f)
                }
                b && this.dispatchEventWith(d.Event.LOOP_COMPLETE);
                h && this.dispatchEventWith(d.Event.COMPLETE)
            }
        };
        Object.defineProperty(b, "totalFrames", {
            get: function () {
                return this._totalFrames
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "currentFrame", {
            get: function () {
                return this._currentFrameNum
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b,
            "currentFrameLabel", {
                get: function () {
                    var a = this._getFrameLabelByFrame(this._currentFrameNum);
                    return a && a.name
                }, enumerable: !0, configurable: !0
            });
        Object.defineProperty(b, "currentLabel", {
            get: function () {
                var a = this._getFrameLabelForFrame(this._currentFrameNum);
                return a ? a.name : null
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "frameRate", {
            get: function () {
                return this.movieClipData.frameRate
            }, set: function (a) {
                a != this._movieClipData.frameRate && (this._movieClipData.frameRate = a, this._frameIntervalTime =
                    1E3 / this._movieClipData.frameRate)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "isPlaying", {
            get: function () {
                return this._isPlaying
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "movieClipData", {
            get: function () {
                return this._movieClipData
            }, set: function (a) {
                this._setMovieClipData(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMovieClipData = function (a) {
            this._movieClipData != a && (this._movieClipData = a, this._init())
        };
        b.setPlayTimes = function (a) {
            if (0 > a || 1 <= a)this._playTimes = 0 > a ? -1 : Math.floor(a)
        };
        b.setIsStopped = function (a) {
            this._isStopped != a && ((this._isStopped = a) ? (this._playTimes = 0, d.Ticker.getInstance().unregister(this._advanceTime, this)) : (this._playTimes = 0 == this._playTimes ? 1 : this._playTimes, d.Ticker.getInstance().register(this._advanceTime, this)))
        };
        c.renderFilter = d.RenderFilter.getInstance();
        return c
    }(d.DisplayObject);
    d.MovieClip = g;
    g.prototype.__class__ = "egret.MovieClip"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(a, e) {
            d.call(this);
            this._name = a;
            this._frame = e | 0
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "name", {
            get: function () {
                return this._name
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "frame", {
            get: function () {
                return this._frame
            }, enumerable: !0, configurable: !0
        });
        b.clone = function () {
            return new c(this._name, this._frame)
        };
        return c
    }(d.EventDispatcher);
    d.FrameLabel = g;
    g.prototype.__class__ = "egret.FrameLabel"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._mcData = null;
            this.numFrames = 1;
            this.frames = [];
            this.labels = null;
            this.frameRate = 0;
            this.spriteSheet = this.textureData = null
        }

        __extends(c, f);
        var b = c.prototype;
        b._init = function (a, e, h) {
            this.textureData = e;
            this.spriteSheet = h;
            this._setMCData(a)
        };
        b.getKeyFrameData = function (a) {
            a = this.frames[a - 1];
            a.frame && (a = this.frames[a.frame - 1]);
            return a
        };
        b.getTextureByFrame = function (a) {
            a = this.getKeyFrameData(a);
            if (a.res) {
                var e = this.getTextureByResName(a.res);
                e._offsetX =
                    a.x | 0;
                e._offsetY = a.y | 0;
                return e
            }
            return null
        };
        b.getTextureByResName = function (a) {
            var e = this.spriteSheet.getTexture(a);
            e || (e = this.textureData[a], e = this.spriteSheet.createTexture(a, e.x, e.y, e.w, e.h));
            return e
        };
        b._isDataValid = function () {
            return 0 < this.frames.length
        };
        b._isTextureValid = function () {
            return null != this.textureData && null != this.spriteSheet
        };
        b._fillMCData = function (a) {
            this.frameRate = a.frameRate || 24;
            this._fillFramesData(a.frames);
            this._fillFrameLabelsData(a.labels)
        };
        b._fillFramesData = function (a) {
            for (var e =
                this.frames, h = a ? a.length : 0, b, c = 0; c < h; c++)if (b = a[c], e.push(b), b.duration) {
                var d = parseInt(b.duration);
                if (1 < d) {
                    b = e.length;
                    for (var f = 1; f < d; f++)e.push({frame: b})
                }
            }
            this.numFrames = e.length
        };
        b._fillFrameLabelsData = function (a) {
            if (a) {
                var e = a.length;
                if (0 < e) {
                    this.labels = [];
                    for (var h = 0; h < e; h++) {
                        var b = a[h];
                        this.labels.push(new d.FrameLabel(b.name, b.frame))
                    }
                }
            }
        };
        Object.defineProperty(b, "mcData", {
            get: function () {
                return this._mcData
            }, set: function (a) {
                this._setMCData(a)
            }, enumerable: !0, configurable: !0
        });
        b._setMCData = function (a) {
            this._mcData !=
            a && (this._mcData = a) && this._fillMCData(a)
        };
        return c
    }(d.HashObject);
    d.MovieClipData = g;
    g.prototype.__class__ = "egret.MovieClipData"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e) {
            f.call(this);
            this.enableCache = !0;
            this._mcDataCache = {};
            this._mcDataSet = a;
            this.setTexture(e)
        }

        __extends(c, f);
        var b = c.prototype;
        b.clearCache = function () {
            this._mcDataCache = {}
        };
        b.generateMovieClipData = function (a) {
            void 0 === a && (a = "");
            if ("" == a && this._mcDataSet)for (a in this._mcDataSet.mc)break;
            if ("" == a)return null;
            var e = this._findFromCache(a, this._mcDataCache);
            e || (e = new d.MovieClipData, this._fillData(a, e, this._mcDataCache));
            return e
        };
        b._findFromCache = function (a,
                                     e) {
            return this.enableCache && e[a] ? e[a] : null
        };
        b._fillData = function (a, e, h) {
            if (this._mcDataSet) {
                var b = this._mcDataSet.mc[a];
                b && (e._init(b, this._mcDataSet.res, this._spriteSheet), this.enableCache && (h[a] = e))
            }
        };
        Object.defineProperty(b, "mcDataSet", {
            get: function () {
                return this._mcDataSet
            }, set: function (a) {
                this._mcDataSet = a
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "texture", {
            set: function (a) {
                this.setTexture(a)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "spriteSheet", {
            get: function () {
                return this._spriteSheet
            },
            enumerable: !0, configurable: !0
        });
        b.setTexture = function (a) {
            this._spriteSheet = a ? new d.SpriteSheet(a) : null
        };
        return c
    }(d.EventDispatcher);
    d.MovieClipDataFactory = g;
    g.prototype.__class__ = "egret.MovieClipDataFactory"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._scaleY = this._scaleX = 1;
            this._size = 30;
            this._color = "#FFFFFF";
            this._fontFamily = "Arial";
            this._italic = this._bold = !1;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._visible = !1;
            this._height = this._width = 0;
            this._multiline = !1;
            this._maxChars = 0
        }

        __extends(c, d);
        var b = c.prototype;
        b._setTextField = function (a) {
            this._textfield = a
        };
        b._getText = function () {
            return null
        };
        b._setText = function (a) {
        };
        b._setTextType = function (a) {
        };
        b._getTextType = function () {
            return null
        };
        b._show = function (a, e, h, b) {
        };
        b._add = function () {
        };
        b._remove = function () {
        };
        b._hide = function () {
        };
        b._addListeners = function () {
        };
        b._removeListeners = function () {
        };
        b._setScale = function (a, e) {
            this._scaleX = a;
            this._scaleY = e
        };
        b.changePosition = function (a, e) {
        };
        b._setSize = function (a) {
            this._size = a
        };
        b._setTextColor = function (a) {
            this._color = a
        };
        b._setTextFontFamily = function (a) {
            this._fontFamily = a
        };
        b._setBold = function (a) {
            this._bold = a
        };
        b._setItalic = function (a) {
            this._italic = a
        };
        b._setTextAlign = function (a) {
            this._textAlign = a
        };
        b._setVerticalAlign = function (a) {
            this._verticalAlign = a
        };
        b._setVisible = function (a) {
            this._visible = a
        };
        b._setWidth = function (a) {
            this._width = a
        };
        b._setHeight = function (a) {
            this._height = a
        };
        b._setMultiline = function (a) {
            this._multiline = a
        };
        b._setMaxChars = function (a) {
            this._maxChars = a
        };
        b._resetStageText = function () {
        };
        b._initElement = function (a, e, h, b) {
        };
        b._removeInput = function () {
        };
        c.create = function () {
            return null
        };
        return c
    }(d.EventDispatcher);
    d.StageText = g;
    g.prototype.__class__ = "egret.StageText"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.GET = "get";
        d.POST = "post";
        return d
    }();
    d.URLRequestMethod = g;
    g.prototype.__class__ = "egret.URLRequestMethod"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.BINARY = "binary";
        d.TEXT = "text";
        d.VARIABLES = "variables";
        d.TEXTURE = "texture";
        d.SOUND = "sound";
        return d
    }();
    d.URLLoaderDataFormat = g;
    g.prototype.__class__ = "egret.URLLoaderDataFormat"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(a) {
            void 0 === a && (a = null);
            d.call(this);
            this.variables = null;
            null !== a && this.decode(a)
        }

        __extends(c, d);
        var b = c.prototype;
        b.decode = function (a) {
            this.variables || (this.variables = {});
            a = a.split("+").join(" ");
            for (var e, h = /[?&]?([^=]+)=([^&]*)/g; e = h.exec(a);) {
                var b = decodeURIComponent(e[1]);
                e = decodeURIComponent(e[2]);
                if (!1 == b in this.variables)this.variables[b] = e; else {
                    var c = this.variables[b];
                    c instanceof Array ? c.push(e) : this.variables[b] = [c, e]
                }
            }
        };
        b.toString = function () {
            if (!this.variables)return "";
            var a = this.variables, e = [], h;
            for (h in a)e.push(this.encodeValue(h, a[h]));
            return e.join("&")
        };
        b.encodeValue = function (a, e) {
            return e instanceof Array ? this.encodeArray(a, e) : encodeURIComponent(a) + "=" + encodeURIComponent(e)
        };
        b.encodeArray = function (a, e) {
            return a ? 0 == e.length ? encodeURIComponent(a) + "=" : e.map(function (e) {
                return encodeURIComponent(a) + "=" + encodeURIComponent(e)
            }).join("&") : ""
        };
        return c
    }(d.HashObject);
    d.URLVariables = g;
    g.prototype.__class__ = "egret.URLVariables"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        return function (d, c) {
            this.value = this.name = "";
            this.name = d;
            this.value = c
        }
    }();
    d.URLRequestHeader = g;
    g.prototype.__class__ = "egret.URLRequestHeader"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(b) {
            void 0 === b && (b = null);
            f.call(this);
            this.data = null;
            this.method = d.URLRequestMethod.GET;
            this.url = "";
            this.url = b
        }

        __extends(c, f);
        return c
    }(d.HashObject);
    d.URLRequest = g;
    g.prototype.__class__ = "egret.URLRequest"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.dataFormat = d.URLLoaderDataFormat.TEXT;
            this._request = this.data = null;
            this._status = -1;
            a && this.load(a)
        }

        __extends(c, f);
        var b = c.prototype;
        b.load = function (a) {
            this._request = a;
            this.data = null;
            d.MainContext.instance.netContext.proceed(this)
        };
        b.__recycle = function () {
            this.data = this._request = null
        };
        return c
    }(d.EventDispatcher);
    d.URLLoader = g;
    g.prototype.__class__ = "egret.URLLoader"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._sourceHeight = this._sourceWidth = this._textureHeight = this._textureWidth = this._offsetY = this._offsetX = this._bitmapHeight = this._bitmapWidth = this._bitmapY = this._bitmapX = 0;
            this._bitmapData = null
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "textureWidth", {
            get: function () {
                return this._textureWidth
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "textureHeight", {
            get: function () {
                return this._textureHeight
            }, enumerable: !0, configurable: !0
        });
        b._setBitmapData = function (a) {
            var e = d.MainContext.instance.rendererContext._texture_scale_factor;
            this._bitmapData = a;
            this._sourceWidth = a.width;
            this._sourceHeight = a.height;
            this._textureWidth = this._sourceWidth * e;
            this._textureHeight = this._sourceHeight * e;
            this._bitmapWidth = this._textureWidth;
            this._bitmapHeight = this._textureHeight;
            this._offsetX = this._offsetY = this._bitmapX = this._bitmapY = 0
        };
        b.getPixel32 = function (a, e) {
            return this._bitmapData.getContext("2d").getImageData(a, e, 1, 1).data
        };
        b.dispose = function () {
            var a =
                this._bitmapData;
            a.dispose && a.dispose()
        };
        b._clone = function () {
            var a = new c;
            a._bitmapData = this._bitmapData;
            return a
        };
        b.draw = function (a, e, h, b, c, d, f, g, l, m) {
        };
        b._drawForCanvas = function (a, e, b, c, d, f, g, k, l, m) {
            var p = this._bitmapData;
            p && p.avaliable && (void 0 != m ? this._drawRepeatImageForCanvas(a, e, b, c, d, f, g, k, l, m) : a.drawImage(p, e, b, c, d, f, g, k, l))
        };
        b._drawForNative = function (a, e, b, c, d, f, g, k, l, m) {
            var p = this._bitmapData;
            p && p.avaliable && (void 0 !== m ? this._drawRepeatImageForNative(a, e, b, c, d, f, g, k, l, m) : a.drawImage(p, e,
                b, c, d, f, g, k, l))
        };
        b._drawRepeatImageForNative = function (a, e, b, c, f, g, n, k, l, m) {
            m = d.MainContext.instance.rendererContext._texture_scale_factor;
            c *= m;
            for (f *= m; g < k; g += c)for (var p = n; p < l; p += f) {
                var q = Math.min(c, k - g), r = Math.min(f, l - p);
                this._drawForNative(a, e, b, q / m, r / m, g, p, q, r, void 0)
            }
        };
        b._drawRepeatImageForCanvas = function (a, e, b, c, f, g, n, k, l, m) {
            if (void 0 === this.pattern) {
                var p = d.MainContext.instance.rendererContext._texture_scale_factor, q = this._bitmapData, r = q;
                if (q.width != c || q.height != f || 1 != p)r = document.createElement("canvas"),
                    r.width = c * p, r.height = f * p, r.getContext("2d").drawImage(q, e, b, c, f, 0, 0, c * p, f * p);
                this.pattern = a.createPattern(r, m)
            }
            a.fillStyle = this.pattern;
            a.translate(g, n);
            a.fillRect(0, 0, k, l);
            a.translate(-g, -n)
        };
        b._disposeForCanvas = function () {
            c.deleteWebGLTexture(this);
            var a = this._bitmapData;
            a.onload = null;
            a.onerror = null;
            a.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAATSURBVHjaYvj//z8DAAAA//8DAAj8Av7TpXVhAAAAAElFTkSuQmCC";
            a.avaliable = !1;
            console.log("_disposeForCanvas")
        };
        b._disposeForNative = function () {
            var a = this._bitmapData;
            a.dispose();
            a.avaliable = !1;
            console.log("_disposeForNative")
        };
        c.deleteWebGLTexture = function (a) {
            if (a = a._bitmapData) {
                var e = a.webGLTexture;
                if (e)for (var b in e) {
                    var c = e[b];
                    c.glContext.deleteTexture(c)
                }
                a.webGLTexture = null
            }
        };
        c.createBitmapData = function (a, e) {
        };
        c._createBitmapDataForCanvasAndWebGl = function (a, e) {
            var b = c._bitmapDataFactory[a];
            b || (b = document.createElement("img"), b.setAttribute("bitmapSrc", a),
                c._bitmapDataFactory[a] = b);
            if (b.avaliable)e(0, b); else {
                b.crossOrigin = c.crossOrigin;
                var F = window.URL || window.webkitURL;
                if (null == c._bitmapCallbackMap[a])if (c._addToCallbackList(a, e), 0 != a.indexOf("data:") && 0 != a.indexOf("http:") && 0 != a.indexOf("https:") && d.Browser.getInstance().isIOS() && 7 <= parseInt(d.Browser.getInstance().getIOSVersion().charAt(0)) && F) {
                    var f = new XMLHttpRequest;
                    f.open("get", a, !0);
                    f.responseType = "blob";
                    f.onload = function () {
                        if (200 == this.status) {
                            var d = this.response;
                            b.onload = function () {
                                F.revokeObjectURL(b.src);
                                c._onLoad(a, b)
                            };
                            b.onerror = function () {
                                c._onError(a, b)
                            };
                            b.src = F.createObjectURL(d)
                        } else e(1, null)
                    };
					console.log(f);
                    f.send()
                } else b.onload = function () {
                    c._onLoad(a, b)
                }, b.onerror = function () {
                    c._onError(a, b)
                }, b.src = a; else c._addToCallbackList(a, e)
            }
        };
        c._onLoad = function (a, e) {
            e.avaliable = !0;
            e.onload && (e.onload = null);
            e.onerror && (e.onerror = null);
            var b = c._bitmapCallbackMap[a];
            if (b && b.length) {
                delete c._bitmapCallbackMap[a];
                for (var d = b.length, f = 0; f < d; f++)(0, b[f])(0, e)
            }
        };
        c._onError = function (a, e) {
            var b = c._bitmapCallbackMap[a];
            if (b &&
                b.length) {
                delete c._bitmapCallbackMap[a];
                for (var d = b.length, f = 0; f < d; f++)(0, b[f])(1, e)
            }
        };
        c._createBitmapDataForNative = function (a, e) {
            console.log("_createBitmapDataForNative:" + a);
            var b = c._bitmapDataFactory[a];
            b ? (b.avaliable || (console.log("reload"), b.reload(), b.avaliable = !0), e(0, b)) : d.NativeNetContext.__use_asyn ? c._bitmapCallbackMap[a] ? c._addToCallbackList(a, e) : (c._addToCallbackList(a, e), b = new d.PromiseObject, b.onSuccessFunc = function (e) {
                c._bitmapDataFactory[a] = e;
                c._onLoad(a, e)
            }, b.onErrorFunc = function () {
                c._onError(a,
                    null)
            }, console.log("addTextureAsyn"), egret_native.Texture.addTextureAsyn(a, b)) : (console.log("addTexture"), b = egret_native.Texture.addTexture(a), c._bitmapDataFactory[a] = b, b.avaliable = !0, e(0, b))
        };
        c._addToCallbackList = function (a, e) {
            var b = c._bitmapCallbackMap[a];
            b || (b = []);
            b.push(e);
            c._bitmapCallbackMap[a] = b
        };
        c.crossOrigin = null;
        c._bitmapDataFactory = {};
        c._bitmapCallbackMap = {};
        return c
    }(d.HashObject);
    d.Texture = g;
    g.prototype.__class__ = "egret.Texture"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.init = function () {
            this._bitmapData = document.createElement("canvas");
            this._bitmapData.avaliable = !0;
            this.renderContext = d.RendererContext.createRendererContext(this._bitmapData)
        };
        b.drawToTexture = function (a, e, b) {
            var f = e || a.getBounds(d.Rectangle.identity);
            if (0 == f.width || 0 == f.height)return !1;
            this._bitmapData || this.init();
            var g = f.x, v = f.y, n = f.width, f = f.height, k, l, m = d.MainContext.instance.rendererContext._texture_scale_factor;
            k = n / m;
            l = f / m;
            k = Math.round(k);
            l = Math.round(l);
            this.setSize(k, l);
            this.begin();
            a._worldTransform.identity();
            a._worldTransform.a = 1 / m;
            a._worldTransform.d = 1 / m;
            b && (a._worldTransform.a *= b, a._worldTransform.d *= b);
            b = a._DO_Props_._anchorOffsetX;
            m = a._DO_Props_._anchorOffsetY;
            if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY)b = a._DO_Props_._anchorX * k, m = a._DO_Props_._anchorY * l;
            this._offsetX = g + b;
            this._offsetY = v + m;
            a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
            e && (this._offsetX -= g, this._offsetY -=
                v);
            a.worldAlpha = 1;
            if (a instanceof d.DisplayObjectContainer)for (e = a._children, g = 0, v = e.length; g < v; g++)e[g]._updateTransform();
            this.renderContext.setTransform(a._worldTransform);
            e = d.RenderFilter.getInstance();
            g = e._drawAreaList.concat();
            e._drawAreaList.length = 0;
            this.renderContext.clearScreen();
            this.renderContext.onRenderStart();
            d.Texture.deleteWebGLTexture(this);
            a._hasFilters() && a._setGlobalFilters(this.renderContext);
            (v = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(v);
            b = d.MainContext.__use_new_draw;
            d.MainContext.__use_new_draw = !1;
            a._render(this.renderContext);
            d.MainContext.__use_new_draw = b;
            v && this.renderContext.popMask();
            a._hasFilters() && a._removeGlobalFilters(this.renderContext);
            c.identityRectangle.width = k;
            c.identityRectangle.height = l;
            e.addDrawArea(c.identityRectangle);
            this.renderContext.onRenderFinish();
            e._drawAreaList = g;
            this._sourceWidth = k;
            this._sourceHeight = l;
            this._textureWidth = Math.round(n);
            this._textureHeight = Math.round(f);
            this.end();
            return !0
        };
        b.setSize = function (a, e) {
            var b = this._bitmapData;
            b.width = a;
            b.height = e;
            b.style.width = a + "px";
            b.style.height = e + "px";
            this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width = a, this.renderContext._cacheCanvas.height = e)
        };
        b.begin = function () {
        };
        b.end = function () {
        };
        b.dispose = function () {
            this._bitmapData && (this.renderContext = this._bitmapData = null)
        };
        c.create = function () {
            return c._pool.length ? c._pool.pop() : new c
        };
        c.release = function (a) {
            c._pool.push(a)
        };
        c.identityRectangle = new d.Rectangle;
        c._pool = [];
        return c
    }(d.Texture);
    d.RenderTexture = g;
    g.prototype.__class__ =
        "egret.RenderTexture"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.renderCost = 0;
            this._texture_scale_factor = 1;
            this.profiler = d.Profiler.getInstance();
            c.blendModesForGL || c.initBlendMode()
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "texture_scale_factor", {
            get: function () {
                return this._texture_scale_factor
            }, set: function (a) {
                this._setTextureScaleFactor(a)
            }, enumerable: !0, configurable: !0
        });
        b._setTextureScaleFactor = function (a) {
            this._texture_scale_factor = a
        };
        b.clearScreen = function () {
        };
        b.clearRect = function (a,
                                e, b, c) {
        };
        b.drawImage = function (a, e, b, c, d, f, g, k, l, m) {
            this.profiler.onDrawImage()
        };
        b.drawImageScale9 = function (a, e, b, c, d, f, g, k, l, m) {
            return !1
        };
        b._addOneDraw = function () {
            this.profiler.onDrawImage()
        };
        b.setTransform = function (a) {
        };
        b.setAlpha = function (a, e) {
        };
        b.setupFont = function (a, e) {
        };
        b.measureText = function (a) {
            return 0
        };
        b.drawText = function (a, e, b, c, d, f) {
            this.profiler.onDrawImage()
        };
        b.strokeRect = function (a, e, b, c, d) {
        };
        b.pushMask = function (a) {
        };
        b.popMask = function () {
        };
        b.onRenderStart = function () {
        };
        b.onRenderFinish =
            function () {
            };
        b.createLinearGradient = function (a, e, b, c) {
            return null
        };
        b.createRadialGradient = function (a, e, b, c, d, f) {
            return null
        };
        b.setGlobalFilters = function (a) {
        };
        b.drawCursor = function (a, e, b, c) {
        };
        c.createRendererContext = function (a) {
            return null
        };
        c.initBlendMode = function () {
            c.blendModesForGL = {};
            c.blendModesForGL[d.BlendMode.NORMAL] = [1, 771];
            c.blendModesForGL[d.BlendMode.ADD] = [770, 1];
            c.blendModesForGL[d.BlendMode.ERASE] = [0, 771];
            c.blendModesForGL[d.BlendMode.ERASE_REVERSE] = [0, 770]
        };
        c.registerBlendModeForGL =
            function (a, e, b, f) {
                c.blendModesForGL[a] && !f ? d.$warn(1005, a) : c.blendModesForGL[a] = [e, b]
            };
        c.imageSmoothingEnabled = !0;
        c.blendModesForGL = null;
        return c
    }(d.HashObject);
    d.RendererContext = g;
    g.prototype.__class__ = "egret.RendererContext"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.MOUSE = "mouse";
        d.TOUCH = "touch";
        d.mode = "touch";
        return d
    }();
    d.InteractionMode = g;
    g.prototype.__class__ = "egret.InteractionMode"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._currentTouchTarget = {};
            this.maxTouches = 2;
            this.touchDownTarget = {};
            this.touchingIdentifiers = [];
            this.lastTouchY = this.lastTouchX = -1
        }

        __extends(c, f);
        var b = c.prototype;
        b.run = function () {
        };
        b.getTouchData = function (a, e, b) {
            var c = this._currentTouchTarget[a];
            null == c && (c = {}, this._currentTouchTarget[a] = c);
            c.stageX = e;
            c.stageY = b;
            c.identifier = a;
            return c
        };
        b.dispatchEvent = function (a, e) {
            d.TouchEvent.dispatchTouchEvent(e.target, a, e.identifier, e.stageX, e.stageY,
                !1, !1, !1, !0 == this.touchDownTarget[e.identifier])
        };
        b.onTouchBegan = function (a, e, b) {
            if (this.touchingIdentifiers.length != this.maxTouches) {
                this.lastTouchX = a;
                this.lastTouchY = e;
                var c = d.MainContext.instance.stage.hitTest(a, e);
                c && (a = this.getTouchData(b, a, e), this.touchDownTarget[b] = !0, a.target = c, a.beginTarget = c, this.dispatchEvent(d.TouchEvent.TOUCH_BEGIN, a));
                this.touchingIdentifiers.push(b)
            }
        };
        b.onTouchMove = function (a, e, b) {
            if (-1 != this.touchingIdentifiers.indexOf(b) && (a != this.lastTouchX || e != this.lastTouchY)) {
                this.lastTouchX =
                    a;
                this.lastTouchY = e;
                var c = d.MainContext.instance.stage.hitTest(a, e);
                c && (a = this.getTouchData(b, a, e), a.target = c, this.dispatchEvent(d.TouchEvent.TOUCH_MOVE, a))
            }
        };
        b.onTouchEnd = function (a, e, b) {
            var c = this.touchingIdentifiers.indexOf(b);
            -1 != c && (this.touchingIdentifiers.splice(c, 1), c = d.MainContext.instance.stage.hitTest(a, e)) && (a = this.getTouchData(b, a, e), delete this.touchDownTarget[b], b = a.beginTarget, a.target = c, this.dispatchEvent(d.TouchEvent.TOUCH_END, a), b == c ? this.dispatchEvent(d.TouchEvent.TOUCH_TAP, a) :
            a.beginTarget && (a.target = a.beginTarget, this.dispatchEvent(d.TouchEvent.TOUCH_RELEASE_OUTSIDE, a)), delete this._currentTouchTarget[a.identifier])
        };
        return c
    }(d.HashObject);
    d.TouchContext = g;
    g.prototype.__class__ = "egret.TouchContext"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.proceed = function (a) {
        };
        c._getUrl = function (a) {
            var e = a.url;
            -1 == e.indexOf("?") && a.method == d.URLRequestMethod.GET && a.data && a.data instanceof d.URLVariables && (e = e + "?" + a.data.toString());
            return e
        };
        b.getChangeList = function () {
            return []
        };
        return c
    }(d.HashObject);
    d.NetContext = g;
    g.prototype.__class__ = "egret.NetContext"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this)
        }

        __extends(c, d);
        var b = c.prototype;
        b.executeMainLoop = function (a, e) {
        };
        b.setFrameRate = function (a) {
        };
        return c
    }(d.HashObject);
    d.DeviceContext = g;
    g.prototype.__class__ = "egret.DeviceContext"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.call = function (c, b) {
        };
        d.addCallback = function (c, b) {
        };
        return d
    }();
    d.ExternalInterface = g;
    g.prototype.__class__ = "egret.ExternalInterface"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.header = this.trans = null;
            this.ua = navigator.userAgent.toLowerCase();
            this.trans = this.getTrans("transform")
        }

        __extends(c, f);
        var b = c.prototype;
        c.getInstance = function () {
            null == c.instance && (c.instance = new c);
            return c.instance
        };
        Object.defineProperty(b, "isMobile", {
            get: function () {
                d.$warn(1E3);
                return d.MainContext.deviceType == d.MainContext.DEVICE_MOBILE
            }, enumerable: !0, configurable: !0
        });
        b.isIOS = function () {
            return 0 > this.ua.indexOf("windows") && (0 <= this.ua.indexOf("iphone") ||
                0 <= this.ua.indexOf("ipad") || 0 <= this.ua.indexOf("ipod"))
        };
        b.getIOSVersion = function () {
            return this.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0].match(/\d(_\d)*/)[0]
        };
        b.getUserAgent = function () {
            return this.ua
        };
        b.getTrans = function (a, e) {
            void 0 === e && (e = !1);
            var b = "";
            e ? b = this.getHeader(a) : (null == this.header && (this.header = this.getHeader("transform")), b = this.header);
            return "" == b ? a : b + a.charAt(0).toUpperCase() + a.substring(1, a.length)
        };
        b.getHeader = function (a) {
            var e = document.createElement("div").style;
            if (a in e)return "";
            a = a.charAt(0).toUpperCase() + a.substring(1, a.length);
            for (var b = ["webkit", "ms", "Moz", "O"], c = 0; c < b.length; c++)if (b[c] + a in e)return b[c];
            return ""
        };
        b.$new = function (a) {
            return this.$(document.createElement(a))
        };
        b.$ = function (a) {
            var e = document;
            if (a = a instanceof HTMLElement ? a : e.querySelector(a))a.find = a.find || this.$, a.hasClass = a.hasClass || function (a) {
                return this.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"))
            }, a.addClass = a.addClass || function (a) {
                this.hasClass(a) || (this.className && (this.className +=
                    " "), this.className += a);
                return this
            }, a.removeClass = a.removeClass || function (a) {
                this.hasClass(a) && (this.className = this.className.replace(a, ""));
                return this
            }, a.remove = a.remove || function () {
            }, a.appendTo = a.appendTo || function (a) {
                a.appendChild(this);
                return this
            }, a.prependTo = a.prependTo || function (a) {
                a.childNodes[0] ? a.insertBefore(this, a.childNodes[0]) : a.appendChild(this);
                return this
            }, a.transforms = a.transforms || function () {
                this.style[c.getInstance().trans] = c.getInstance().translate(this.position) + c.getInstance().rotate(this.rotation) +
                c.getInstance().scale(this.scale) + c.getInstance().skew(this.skew);
                return this
            }, a.position = a.position || {x: 0, y: 0}, a.rotation = a.rotation || 0, a.scale = a.scale || {
                x: 1,
                y: 1
            }, a.skew = a.skew || {x: 0, y: 0}, a.translates = function (a, e) {
                this.position.x = a;
                this.position.y = e - d.MainContext.instance.stage.stageHeight;
                this.transforms();
                return this
            }, a.rotate = function (a) {
                this.rotation = a;
                this.transforms();
                return this
            }, a.resize = function (a, e) {
                this.scale.x = a;
                this.scale.y = e;
                this.transforms();
                return this
            }, a.setSkew = function (a, e) {
                this.skew.x =
                    a;
                this.skew.y = e;
                this.transforms();
                return this
            };
            return a
        };
        b.translate = function (a) {
            return "translate(" + a.x + "px, " + a.y + "px) "
        };
        b.rotate = function (a) {
            return "rotate(" + a + "deg) "
        };
        b.scale = function (a) {
            return "scale(" + a.x + ", " + a.y + ") "
        };
        b.skew = function (a) {
            return "skewX(" + -a.x + "deg) skewY(" + a.y + "deg)"
        };
        return c
    }(d.HashObject);
    d.Browser = g;
    g.prototype.__class__ = "egret.Browser"
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        d.getItem = function (d) {
            return null
        };
        d.setItem = function (d, c) {
            return !1
        };
        d.removeItem = function (d) {
        };
        d.clear = function () {
        }
    })(d.localStorage || (d.localStorage = {}))
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        f.parse = function (c) {
            c = d.SAXParser.getInstance().parserXML(c);
            if (!c || !c.childNodes)return null;
            for (var b = c.childNodes.length, a = !1, e = 0; e < b; e++) {
                var h = c.childNodes[e];
                if (1 == h.nodeType) {
                    a = !0;
                    break
                }
            }
            return a ? f.parseNode(h) : null
        };
        f.parseNode = function (c) {
            if (!c || 1 != c.nodeType)return null;
            var b = {};
            b.localName = c.localName;
            b.name = c.nodeName;
            c.namespaceURI && (b.namespace = c.namespaceURI);
            c.prefix && (b.prefix = c.prefix);
            for (var a = c.attributes, e = a.length, h = 0; h < e; h++) {
                var d =
                    a[h], g = d.name;
					
                0 != g.indexOf("xmlns:") && (b["$" + g] = d.value)
            }
            a = c.childNodes;
            e = a.length;
            for (h = 0; h < e; h++)if (d = f.parseNode(a[h]))b.children || (b.children = []), d.parent = b, b.children.push(d);
            !b.children && (c = c.textContent.trim()) && (b.text = c);
            return b
        };
        f.findChildren = function (c, b, a) {
            a ? a.length = 0 : a = [];
            f.findByPath(c, b, a);
            return a
        };
        f.findByPath = function (c, b, a) {
            var e = b.indexOf("."), h;
            -1 == e ? (h = b, e = !0) : (h = b.substring(0, e), b = b.substring(e + 1), e = !1);
            if (c = c.children)for (var d = c.length, g = 0; g < d; g++) {
                var v = c[g];
                v.localName ==
                h && (e ? a.push(v) : f.findByPath(v, b, a))
            }
        };
        f.getAttributes = function (c, b) {
            b ? b.length = 0 : b = [];
            for (var a in c)"$" == a.charAt(0) && b.push(a.substring(1));
            return b
        };
        return f
    }();
    d.XML = g;
    g.prototype.__class__ = "egret.XML"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function c() {
        }

        c.LITTLE_ENDIAN = "littleEndian";
        c.BIG_ENDIAN = "bigEndian";
        return c
    }();
    d.Endian = g;
    g.prototype.__class__ = "egret.Endian";
    var f = function () {
        function c(a) {
            this.BUFFER_EXT_SIZE = 0;
            this.EOF_code_point = this.EOF_byte = -1;
            this._setArrayBuffer(a || new ArrayBuffer(this.BUFFER_EXT_SIZE));
            this.endian = g.BIG_ENDIAN
        }

        var b = c.prototype;
        b._setArrayBuffer = function (a) {
            this.write_position = a.byteLength;
            this.data = new DataView(a);
            this._position = 0
        };
        Object.defineProperty(b, "buffer", {
            get: function () {
                return this.data.buffer
            },
            set: function (a) {
                this.data = new DataView(a)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "dataView", {
            get: function () {
                return this.data
            }, set: function (a) {
                this.data = a;
                this.write_position = a.byteLength
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "bufferOffset", {
            get: function () {
                return this.data.byteOffset
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "position", {
            get: function () {
                return this._position
            }, set: function (a) {
                this._position < a && !this.validate(a - this._position) || (this._position =
                    a, this.write_position = a > this.write_position ? a : this.write_position)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "length", {
            get: function () {
                return this.write_position
            }, set: function (a) {
                this.validateBuffer(a, !0)
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "bytesAvailable", {
            get: function () {
                return this.data.byteLength - this._position
            }, enumerable: !0, configurable: !0
        });
        b.clear = function () {
            this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))
        };
        b.readBoolean = function () {
            return this.validate(c.SIZE_OF_BOOLEAN) ?
            0 != this.data.getUint8(this.position++) : null
        };
        b.readByte = function () {
            return this.validate(c.SIZE_OF_INT8) ? this.data.getInt8(this.position++) : null
        };
        b.readBytes = function (a, e, b) {
            void 0 === e && (e = 0);
            void 0 === b && (b = 0);
            if (0 == b)b = this.bytesAvailable; else if (!this.validate(b))return null;
            a ? a.validateBuffer(b) : a = new c(new ArrayBuffer(b));
            for (var d = 0; d < b; d++)a.data.setUint8(d + e, this.data.getUint8(this.position++))
        };
        b.readDouble = function () {
            if (!this.validate(c.SIZE_OF_FLOAT64))return null;
            var a = this.data.getFloat64(this.position,
                this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_FLOAT64;
            return a
        };
        b.readFloat = function () {
            if (!this.validate(c.SIZE_OF_FLOAT32))return null;
            var a = this.data.getFloat32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_FLOAT32;
            return a
        };
        b.readInt = function () {
            if (!this.validate(c.SIZE_OF_INT32))return null;
            var a = this.data.getInt32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_INT32;
            return a
        };
        b.readShort = function () {
            if (!this.validate(c.SIZE_OF_INT16))return null;
            var a = this.data.getInt16(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_INT16;
            return a
        };
        b.readUnsignedByte = function () {
            return this.validate(c.SIZE_OF_UINT8) ? this.data.getUint8(this.position++) : null
        };
        b.readUnsignedInt = function () {
            if (!this.validate(c.SIZE_OF_UINT32))return null;
            var a = this.data.getUint32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_UINT32;
            return a
        };
        b.readUnsignedShort = function () {
            if (!this.validate(c.SIZE_OF_UINT16))return null;
            var a = this.data.getUint16(this.position,
                this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_UINT16;
            return a
        };
        b.readUTF = function () {
            if (!this.validate(c.SIZE_OF_UINT16))return null;
            var a = this.data.getUint16(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_UINT16;
            return 0 < a ? this.readUTFBytes(a) : ""
        };
        b.readUTFBytes = function (a) {
            if (!this.validate(a))return null;
            var e = new Uint8Array(this.buffer, this.bufferOffset + this.position, a);
            this.position += a;
            return this.decodeUTF8(e)
        };
        b.writeBoolean = function (a) {
            this.validateBuffer(c.SIZE_OF_BOOLEAN);
            this.data.setUint8(this.position++, a ? 1 : 0)
        };
        b.writeByte = function (a) {
            this.validateBuffer(c.SIZE_OF_INT8);
            this.data.setInt8(this.position++, a)
        };
        b.writeBytes = function (a, e, b) {
            void 0 === e && (e = 0);
            void 0 === b && (b = 0);
            if (!(0 > e || 0 > b) && (b = 0 == b ? a.length - e : Math.min(a.length - e, b), 0 < b)) {
                this.validateBuffer(b);
                a = new DataView(a.buffer);
                for (var c = e; c < b + e; c++)this.data.setUint8(this.position++, a.getUint8(c))
            }
        };
        b.writeDouble = function (a) {
            this.validateBuffer(c.SIZE_OF_FLOAT64);
            this.data.setFloat64(this.position, a, this.endian ==
            g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_FLOAT64
        };
        b.writeFloat = function (a) {
            this.validateBuffer(c.SIZE_OF_FLOAT32);
            this.data.setFloat32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_FLOAT32
        };
        b.writeInt = function (a) {
            this.validateBuffer(c.SIZE_OF_INT32);
            this.data.setInt32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_INT32
        };
        b.writeShort = function (a) {
            this.validateBuffer(c.SIZE_OF_INT16);
            this.data.setInt16(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position +=
                c.SIZE_OF_INT16
        };
        b.writeUnsignedInt = function (a) {
            this.validateBuffer(c.SIZE_OF_UINT32);
            this.data.setUint32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_UINT32
        };
        b.writeUTF = function (a) {
            a = this.encodeUTF8(a);
            var e = a.length;
            this.validateBuffer(c.SIZE_OF_UINT16 + e);
            this.data.setUint16(this.position, e, this.endian === g.LITTLE_ENDIAN);
            this.position += c.SIZE_OF_UINT16;
            this._writeUint8Array(a, !1)
        };
        b.writeUTFBytes = function (a) {
            this._writeUint8Array(this.encodeUTF8(a))
        };
        b.toString = function () {
            return "[ByteArray] length:" +
                this.length + ", bytesAvailable:" + this.bytesAvailable
        };
        b._writeUint8Array = function (a, e) {
            void 0 === e && (e = !0);
            e && this.validateBuffer(this.position + a.length);
            for (var b = 0; b < a.length; b++)this.data.setUint8(this.position++, a[b])
        };
        b.validate = function (a) {
            if (0 < this.data.byteLength && this._position + a <= this.data.byteLength)return !0;
            d.$error(1025)
        };
        b.validateBuffer = function (a, e) {
            void 0 === e && (e = !1);
            this.write_position = a > this.write_position ? a : this.write_position;
            a += this._position;
            if (this.data.byteLength < a || e) {
                var b =
                    new Uint8Array(new ArrayBuffer(a + this.BUFFER_EXT_SIZE)), c = Math.min(this.data.buffer.byteLength, a + this.BUFFER_EXT_SIZE);
                b.set(new Uint8Array(this.data.buffer, 0, c));
                this.buffer = b.buffer
            }
        };
        b.encodeUTF8 = function (a) {
            var e = 0;
            a = this.stringToCodePoints(a);
            for (var b = []; a.length > e;) {
                var c = a[e++];
                if (this.inRange(c, 55296, 57343))this.encoderError(c); else if (this.inRange(c, 0, 127))b.push(c); else {
                    var d, f;
                    this.inRange(c, 128, 2047) ? (d = 1, f = 192) : this.inRange(c, 2048, 65535) ? (d = 2, f = 224) : this.inRange(c, 65536, 1114111) && (d =
                        3, f = 240);
                    for (b.push(this.div(c, Math.pow(64, d)) + f); 0 < d;) {
                        var g = this.div(c, Math.pow(64, d - 1));
                        b.push(128 + g % 64);
                        d -= 1
                    }
                }
            }
            return new Uint8Array(b)
        };
        b.decodeUTF8 = function (a) {
            for (var e = 0, b = "", c, d = 0, f = 0, g = 0, k = 0; a.length > e;) {
                c = a[e++];
                if (c === this.EOF_byte)c = 0 !== f ? this.decoderError(!1) : this.EOF_code_point; else if (0 === f)this.inRange(c, 0, 127) || (this.inRange(c, 194, 223) ? (f = 1, k = 128, d = c - 192) : this.inRange(c, 224, 239) ? (f = 2, k = 2048, d = c - 224) : this.inRange(c, 240, 244) ? (f = 3, k = 65536, d = c - 240) : this.decoderError(!1), d *= Math.pow(64,
                    f), c = null); else if (this.inRange(c, 128, 191))if (g += 1, d += (c - 128) * Math.pow(64, f - g), g !== f)c = null; else {
                    var l = d, m = k, k = g = f = d = 0;
                    c = this.inRange(l, m, 1114111) && !this.inRange(l, 55296, 57343) ? l : this.decoderError(!1, c)
                } else k = g = f = d = 0, e--, c = this.decoderError(!1, c);
                null !== c && c !== this.EOF_code_point && (65535 >= c ? 0 < c && (b += String.fromCharCode(c)) : (c -= 65536, b += String.fromCharCode(55296 + (c >> 10 & 1023)), b += String.fromCharCode(56320 + (c & 1023))))
            }
            return b
        };
        b.encoderError = function (a) {
            d.$error(1026, a)
        };
        b.decoderError = function (a,
                                   e) {
            a && d.$error(1027);
            return e || 65533
        };
        b.inRange = function (a, e, b) {
            return e <= a && a <= b
        };
        b.div = function (a, e) {
            return Math.floor(a / e)
        };
        b.stringToCodePoints = function (a) {
            for (var e = [], b = 0, c = a.length; b < a.length;) {
                var d = a.charCodeAt(b);
                if (this.inRange(d, 55296, 57343))if (this.inRange(d, 56320, 57343))e.push(65533); else if (b === c - 1)e.push(65533); else {
                    var f = a.charCodeAt(b + 1);
                    this.inRange(f, 56320, 57343) ? (d &= 1023, f &= 1023, b += 1, e.push(65536 + (d << 10) + f)) : e.push(65533)
                } else e.push(d);
                b += 1
            }
            return e
        };
        c.SIZE_OF_BOOLEAN = 1;
        c.SIZE_OF_INT8 =
            1;
        c.SIZE_OF_INT16 = 2;
        c.SIZE_OF_INT32 = 4;
        c.SIZE_OF_UINT8 = 1;
        c.SIZE_OF_UINT16 = 2;
        c.SIZE_OF_UINT32 = 4;
        c.SIZE_OF_FLOAT32 = 4;
        c.SIZE_OF_FLOAT64 = 8;
        return c
    }();
    d.ByteArray = f;
    f.prototype.__class__ = "egret.ByteArray"
})(egret || (egret = {}));
(function (d) {
    d.getOption = function (d) {
        if (window.hasOwnProperty("location")) {
            var f = location.search;
            if ("" == f)return "";
            for (var f = f.slice(1), f = f.split("&"), c = f.length, b = 0; b < c; b++) {
                var a = f[b].split("=");
                if (a[0] == d)return a[1]
            }
        }
        return ""
    }
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a, e, b) {
            f.call(this);
            this._target = null;
            this.loop = this.ignoreGlobalPause = this._useTicks = !1;
            this._actions = this._steps = this.pluginData = null;
            this.paused = !1;
            this.duration = 0;
            this._prevPos = -1;
            this.position = null;
            this._stepPosition = this._prevPosition = 0;
            this.passive = !1;
            this.initialize(a, e, b)
        }

        __extends(c, f);
        var b = c.prototype;
        c.get = function (a, e, b, d) {
            void 0 === e && (e = null);
            void 0 === b && (b = null);
            void 0 === d && (d = !1);
            d && c.removeTweens(a);
            return new c(a, e, b)
        };
        c.removeTweens = function (a) {
            if (a.tween_count) {
                for (var e =
                    c._tweens, b = e.length - 1; 0 <= b; b--)e[b]._target == a && (e[b].paused = !0, e.splice(b, 1));
                a.tween_count = 0
            }
        };
        c.pauseTweens = function (a) {
            if (a.tween_count)for (var e = d.Tween._tweens, b = e.length - 1; 0 <= b; b--)e[b]._target == a && (e[b].paused = !0)
        };
        c.resumeTweens = function (a) {
            if (a.tween_count)for (var e = d.Tween._tweens, b = e.length - 1; 0 <= b; b--)e[b]._target == a && (e[b].paused = !1)
        };
        c.tick = function (a, e) {
            void 0 === e && (e = !1);
            for (var b = c._tweens.concat(), d = b.length - 1; 0 <= d; d--) {
                var f = b[d];
                e && !f.ignoreGlobalPause || f.paused || f.tick(f._useTicks ?
                    1 : a)
            }
        };
        c._register = function (a, e) {
            var b = a._target, f = c._tweens;
            if (e)b && (b.tween_count = 0 < b.tween_count ? b.tween_count + 1 : 1), f.push(a), c._inited || (d.Ticker.getInstance().register(c.tick, null), c._inited = !0); else for (b && b.tween_count--, b = f.length; b--;)if (f[b] == a) {
                f.splice(b, 1);
                break
            }
        };
        c.removeAllTweens = function () {
            for (var a = c._tweens, e = 0, b = a.length; e < b; e++) {
                var d = a[e];
                d.paused = !0;
                d._target.tweenjs_count = 0
            }
            a.length = 0
        };
        b.initialize = function (a, e, b) {
            this._target = a;
            e && (this._useTicks = e.useTicks, this.ignoreGlobalPause =
                e.ignoreGlobalPause, this.loop = e.loop, e.onChange && this.addEventListener("change", e.onChange, e.onChangeObj), e.override && c.removeTweens(a));
            this.pluginData = b || {};
            this._curQueueProps = {};
            this._initQueueProps = {};
            this._steps = [];
            this._actions = [];
            e && e.paused ? this.paused = !0 : c._register(this, !0);
            e && null != e.position && this.setPosition(e.position, c.NONE)
        };
        b.setPosition = function (a, e) {
            void 0 === e && (e = 1);
            0 > a && (a = 0);
            var b = a, c = !1;
            b >= this.duration && (this.loop ? b %= this.duration : (b = this.duration, c = !0));
            if (b == this._prevPos)return c;
            var d = this._prevPos;
            this.position = this._prevPos = b;
            this._prevPosition = a;
            if (this._target)if (c)this._updateTargetProps(null, 1); else if (0 < this._steps.length) {
                for (var f = 0, g = this._steps.length; f < g && !(this._steps[f].t > b); f++);
                f = this._steps[f - 1];
                this._updateTargetProps(f, (this._stepPosition = b - f.t) / f.d)
            }
            0 != e && 0 < this._actions.length && (this._useTicks ? this._runActions(b, b) : 1 == e && b < d ? (d != this.duration && this._runActions(d, this.duration), this._runActions(0, b, !0)) : this._runActions(d, b));
            c && this.setPaused(!0);
            this.dispatchEventWith("change");
            return c
        };
        b._runActions = function (a, e, b) {
            void 0 === b && (b = !1);
            var c = a, d = e, f = -1, g = this._actions.length, k = 1;
            a > e && (c = e, d = a, f = g, g = k = -1);
            for (; (f += k) != g;) {
                e = this._actions[f];
                var l = e.t;
                (l == d || l > c && l < d || b && l == a) && e.f.apply(e.o, e.p)
            }
        };
        b._updateTargetProps = function (a, e) {
            var b, d, f, g;
            if (a || 1 != e) {
                if (this.passive = !!a.v)return;
                a.e && (e = a.e(e, 0, 1, 1));
                b = a.p0;
                d = a.p1
            } else this.passive = !1, b = d = this._curQueueProps;
            for (var n in this._initQueueProps) {
                null == (f = b[n]) && (b[n] = f = this._initQueueProps[n]);
                null == (g = d[n]) && (d[n] = g = f);
                f = f == g || 0 == e || 1 == e || "number" != typeof f ? 1 == e ? g : f : f + (g - f) * e;
                var k = !1;
                if (g = c._plugins[n])for (var l = 0, m = g.length; l < m; l++) {
                    var p = g[l].tween(this, n, f, b, d, e, !!a && b == d, !a);
                    p == c.IGNORE ? k = !0 : f = p
                }
                k || (this._target[n] = f)
            }
        };
        b.setPaused = function (a) {
            this.paused = a;
            c._register(this, !a);
            return this
        };
        b._cloneProps = function (a) {
            var e = {}, b;
            for (b in a)e[b] = a[b];
            return e
        };
        b._addStep = function (a) {
            0 < a.d && (this._steps.push(a), a.t = this.duration, this.duration += a.d);
            return this
        };
        b._appendQueueProps = function (a) {
            var e, b, d, f, g, n;
            for (n in a)if (void 0 ===
                this._initQueueProps[n]) {
                b = this._target[n];
                if (e = c._plugins[n])for (d = 0, f = e.length; d < f; d++)b = e[d].init(this, n, b);
                this._initQueueProps[n] = this._curQueueProps[n] = void 0 === b ? null : b
            }
            for (n in a) {
                b = this._curQueueProps[n];
                if (e = c._plugins[n])for (g = g || {}, d = 0, f = e.length; d < f; d++)e[d].step && e[d].step(this, n, b, a[n], g);
                this._curQueueProps[n] = a[n]
            }
            g && this._appendQueueProps(g);
            return this._curQueueProps
        };
        b._addAction = function (a) {
            a.t = this.duration;
            this._actions.push(a);
            return this
        };
        b._set = function (a, e) {
            for (var b in a)e[b] =
                a[b]
        };
        b.wait = function (a, e) {
            if (null == a || 0 >= a)return this;
            var b = this._cloneProps(this._curQueueProps);
            return this._addStep({d: a, p0: b, p1: b, v: e})
        };
        b.to = function (a, e, b) {
            void 0 === b && (b = void 0);
            if (isNaN(e) || 0 > e)e = 0;
            return this._addStep({
                d: e || 0,
                p0: this._cloneProps(this._curQueueProps),
                e: b,
                p1: this._cloneProps(this._appendQueueProps(a))
            })
        };
        b.call = function (a, e, b) {
            void 0 === e && (e = void 0);
            void 0 === b && (b = void 0);
            return this._addAction({f: a, p: b ? b : [], o: e ? e : this._target})
        };
        b.set = function (a, e) {
            void 0 === e && (e = null);
            return this._addAction({f: this._set, o: this, p: [a, e ? e : this._target]})
        };
        b.play = function (a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!1])
        };
        b.pause = function (a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!0])
        };
        b.tick = function (a) {
            this.paused || this.setPosition(this._prevPosition + a)
        };
        c.NONE = 0;
        c.LOOP = 1;
        c.REVERSE = 2;
        c._tweens = [];
        c.IGNORE = {};
        c._plugins = {};
        c._inited = !1;
        return c
    }(d.EventDispatcher);
    d.Tween = g;
    g.prototype.__class__ = "egret.Tween"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
            d.$error(1014)
        }

        f.get = function (c) {
            -1 > c && (c = -1);
            1 < c && (c = 1);
            return function (b) {
                return 0 == c ? b : 0 > c ? b * (b * -c + 1 + c) : b * ((2 - b) * c + (1 - c))
            }
        };
        f.getPowIn = function (c) {
            return function (b) {
                return Math.pow(b, c)
            }
        };
        f.getPowOut = function (c) {
            return function (b) {
                return 1 - Math.pow(1 - b, c)
            }
        };
        f.getPowInOut = function (c) {
            return function (b) {
                return 1 > (b *= 2) ? 0.5 * Math.pow(b, c) : 1 - 0.5 * Math.abs(Math.pow(2 - b, c))
            }
        };
        f.sineIn = function (c) {
            return 1 - Math.cos(c * Math.PI / 2)
        };
        f.sineOut = function (c) {
            return Math.sin(c *
            Math.PI / 2)
        };
        f.sineInOut = function (c) {
            return -0.5 * (Math.cos(Math.PI * c) - 1)
        };
        f.getBackIn = function (c) {
            return function (b) {
                return b * b * ((c + 1) * b - c)
            }
        };
        f.getBackOut = function (c) {
            return function (b) {
                return --b * b * ((c + 1) * b + c) + 1
            }
        };
        f.getBackInOut = function (c) {
            c *= 1.525;
            return function (b) {
                return 1 > (b *= 2) ? 0.5 * b * b * ((c + 1) * b - c) : 0.5 * ((b -= 2) * b * ((c + 1) * b + c) + 2)
            }
        };
        f.circIn = function (c) {
            return -(Math.sqrt(1 - c * c) - 1)
        };
        f.circOut = function (c) {
            return Math.sqrt(1 - --c * c)
        };
        f.circInOut = function (c) {
            return 1 > (c *= 2) ? -0.5 * (Math.sqrt(1 - c * c) - 1) : 0.5 *
            (Math.sqrt(1 - (c -= 2) * c) + 1)
        };
        f.bounceIn = function (c) {
            return 1 - f.bounceOut(1 - c)
        };
        f.bounceOut = function (c) {
            return c < 1 / 2.75 ? 7.5625 * c * c : c < 2 / 2.75 ? 7.5625 * (c -= 1.5 / 2.75) * c + 0.75 : c < 2.5 / 2.75 ? 7.5625 * (c -= 2.25 / 2.75) * c + 0.9375 : 7.5625 * (c -= 2.625 / 2.75) * c + 0.984375
        };
        f.bounceInOut = function (c) {
            return 0.5 > c ? 0.5 * f.bounceIn(2 * c) : 0.5 * f.bounceOut(2 * c - 1) + 0.5
        };
        f.getElasticIn = function (c, b) {
            var a = 2 * Math.PI;
            return function (e) {
                if (0 == e || 1 == e)return e;
                var h = b / a * Math.asin(1 / c);
                return -(c * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - h) * a / b))
            }
        };
        f.getElasticOut =
            function (c, b) {
                var a = 2 * Math.PI;
                return function (e) {
                    if (0 == e || 1 == e)return e;
                    var h = b / a * Math.asin(1 / c);
                    return c * Math.pow(2, -10 * e) * Math.sin((e - h) * a / b) + 1
                }
            };
        f.getElasticInOut = function (c, b) {
            var a = 2 * Math.PI;
            return function (e) {
                var h = b / a * Math.asin(1 / c);
                return 1 > (e *= 2) ? -0.5 * c * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - h) * a / b) : c * Math.pow(2, -10 * (e -= 1)) * Math.sin((e - h) * a / b) * 0.5 + 1
            }
        };
        f.quadIn = f.getPowIn(2);
        f.quadOut = f.getPowOut(2);
        f.quadInOut = f.getPowInOut(2);
        f.cubicIn = f.getPowIn(3);
        f.cubicOut = f.getPowOut(3);
        f.cubicInOut = f.getPowInOut(3);
        f.quartIn = f.getPowIn(4);
        f.quartOut = f.getPowOut(4);
        f.quartInOut = f.getPowInOut(4);
        f.quintIn = f.getPowIn(5);
        f.quintOut = f.getPowOut(5);
        f.quintInOut = f.getPowInOut(5);
        f.backIn = f.getBackIn(1.7);
        f.backOut = f.getBackOut(1.7);
        f.backInOut = f.getBackInOut(1.7);
        f.elasticIn = f.getElasticIn(1, 0.3);
        f.elasticOut = f.getElasticOut(1, 0.3);
        f.elasticInOut = f.getElasticInOut(1, 0.3 * 1.5);
        return f
    }();
    d.Ease = g;
    g.prototype.__class__ = "egret.Ease"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.path = "";
            this.audio = null;
            this.type = c.EFFECT;
            this._pauseTime = 0;
            this._listeners = []
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "position", {
            get: function () {
                return this.audio ? Math.floor(1E3 * this.audio._getCurrentTime()) : 0
            }, enumerable: !0, configurable: !0
        });
        b.play = function (a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = 0);
            var b = this.audio;
            b && (b._setCurrentTime(e / 1E3), b._setLoop(a), b._play(this.type))
        };
        b.stop = function () {
            var a = this.audio;
            a &&
            (this._pauseTime = 0, a._setCurrentTime(0), a._pause())
        };
        b.pause = function () {
            var a = this.audio;
            a && (this._pauseTime = a._getCurrentTime(), a._pause())
        };
        b.resume = function () {
            var a = this.audio;
            a && (a._setCurrentTime(this._pauseTime), this._pauseTime = 0, a._play(this.type))
        };
        b.load = function () {
            var a = this.audio;
            a && a._load()
        };
        b.addEventListener = function (a, e, b) {
            f.prototype.addEventListener.call(this, a, e, b);
            var c = this;
            this.audio && 1 == this._eventsMap[a].length && (e = a == d.SoundEvent.SOUND_COMPLETE ? function (a) {
                d.Event._dispatchByTarget(d.SoundEvent,
                    c, d.SoundEvent.SOUND_COMPLETE)
            } : function (a) {
                d.Event._dispatchByTarget(d.Event, c, a.type)
            }, this._listeners.push({
                type: a,
                func: e
            }), a = c.getVirtualType(a), this.audio._addEventListener(a, e, !1))
        };
        b.removeEventListener = function (a, e, b) {
            f.prototype.removeEventListener.call(this, a, e, b);
            if (this.audio && (!this._eventsMap || !this._eventsMap[a] || 0 == this._eventsMap[a].length))for (b = 0; b < this._listeners.length; b++)if (e = this._listeners[b], e.type == a) {
                this._listeners.splice(b, 1);
                a = this.getVirtualType(a);
                this.audio._removeEventListener(a,
                    e.func, !1);
                break
            }
        };
        b.getVirtualType = function (a) {
            switch (a) {
                case d.SoundEvent.SOUND_COMPLETE:
                    return "ended";
                default:
                    return a
            }
        };
        Object.defineProperty(b, "volume", {
            get: function () {
                return this.audio ? this.audio._getVolume() : 0
            }, set: function (a) {
                var e = this.audio;
                e && e._setVolume(Math.max(0, Math.min(a, 1)))
            }, enumerable: !0, configurable: !0
        });
        b.setVolume = function (a) {
            d.$warn(1031);
            this.volume = a
        };
        b.getVolume = function () {
            d.$warn(1032);
            return this.volume
        };
        b.preload = function (a, e, b) {
            void 0 === e && (e = null);
            void 0 === b && (b = null);
            this.type = a;
            this.audio._preload(a, e, b)
        };
        b._setAudio = function (a) {
            this.audio = a
        };
        b.destroy = function () {
            this.audio._destroy()
        };
        c.MUSIC = "music";
        c.EFFECT = "effect";
        return c
    }(d.EventDispatcher);
    d.Sound = g;
    g.prototype.__class__ = "egret.Sound"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.isNumber = function (c) {
            return "number" === typeof c && !isNaN(c)
        };
        d.sin = function (c) {
            var b = Math.floor(c), a = b + 1, e = d.sinInt(b), h = d.sinInt(a);
            return (c - b) * h + (a - c) * e
        };
        d.sinInt = function (c) {
            c %= 360;
            0 > c && (c += 360);
            return 90 > c ? egret_sin_map[c] : 180 > c ? egret_cos_map[c - 90] : 270 > c ? -egret_sin_map[c - 180] : -egret_cos_map[c - 270]
        };
        d.cos = function (c) {
            var b = Math.floor(c), a = b + 1, e = d.cosInt(b), h = d.cosInt(a);
            return (c - b) * h + (a - c) * e
        };
        d.cosInt = function (c) {
            c %= 360;
            0 > c && (c += 360);
            return 90 > c ? egret_cos_map[c] :
                180 > c ? -egret_sin_map[c - 90] : 270 > c ? -egret_cos_map[c - 180] : egret_sin_map[c - 270]
        };
        return d
    }();
    d.NumberUtils = g;
    g.prototype.__class__ = "egret.NumberUtils"
})(egret || (egret = {}));
for (var egret_sin_map = {}, egret_cos_map = {}, NumberUtils_i = 0; 90 >= NumberUtils_i; NumberUtils_i++)egret_sin_map[NumberUtils_i] = Math.sin(NumberUtils_i * egret.Matrix.DEG_TO_RAD), egret_cos_map[NumberUtils_i] = Math.cos(NumberUtils_i * egret.Matrix.DEG_TO_RAD);
Function.prototype.bind || (Function.prototype.bind = function (d) {
    "function" !== typeof this && egret.$error(1029);
    var g = Array.prototype.slice.call(arguments, 1), f = this, c = function () {
    }, b = function () {
        return f.apply(this instanceof c && d ? this : d, g.concat(Array.prototype.slice.call(arguments)))
    };
    c.prototype = this.prototype;
    b.prototype = new c;
    return b
});
(function (d) {
    var g = function () {
        function f() {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = null
        }

        var c = f.prototype;
        f.create = function () {
            return f.promiseObjectList.length ? f.promiseObjectList.pop() : new d.PromiseObject
        };
        c.onSuccess = function () {
            for (var b = [], a = 0; a < arguments.length; a++)b[a - 0] = arguments[a];
            this.onSuccessFunc && this.onSuccessFunc.apply(this.onSuccessThisObject, b);
            this.destroy()
        };
        c.onError = function () {
            for (var b =
                [], a = 0; a < arguments.length; a++)b[a - 0] = arguments[a];
            this.onErrorFunc && this.onErrorFunc.apply(this.onErrorThisObject, b);
            this.destroy()
        };
        c.downloadingSize = function () {
            for (var b = [], a = 0; a < arguments.length; a++)b[a - 0] = arguments[a];
            this.downloadingSizeFunc && this.downloadingSizeFunc.apply(this.downloadingSizeThisObject, b)
        };
        c.destroy = function () {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = void 0;
            f.promiseObjectList.push(this)
        };
        f.promiseObjectList = [];
        return f
    }();
    d.PromiseObject = g;
    g.prototype.__class__ = "egret.PromiseObject"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            void 0 === a && (a = 60);
            f.call(this);
            this.frameRate = a;
            this._time = 0;
            this._requestAnimationId = NaN;
            this._isActivate = !0;
            c.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
            c.cancelAnimationFrame = window.cancelAnimationFrame || window.msCancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.oCancelAnimationFrame ||
            window.cancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame;
            c.requestAnimationFrame || (c.requestAnimationFrame = function (e) {
                return window.setTimeout(e, 1E3 / a)
            });
            c.cancelAnimationFrame || (c.cancelAnimationFrame = function (a) {
                return window.clearTimeout(a)
            });
            c.instance = this;
            this.registerListener()
        }

        __extends(c, f);
        var b = c.prototype;
        b.setFrameRate = function (a) {
            0 == 60 % a && (c.countTime =
                60 / a - 1)
        };
        b.enterFrame = function () {
            var a = c.instance, e = c._thisObject, b = c._callback, f = d.getTimer(), g = f - a._time;
            a._requestAnimationId = c.requestAnimationFrame.call(window, c.prototype.enterFrame);
            c.count < c.countTime ? c.count++ : (c.count = 0, b.call(e, g), a._time = f)
        };
        b.executeMainLoop = function (a, e) {
            c._callback = a;
            c._thisObject = e;
            this.enterFrame()
        };
        b.reset = function () {
            var a = c.instance;
            a._requestAnimationId && (a._time = d.getTimer(), c.cancelAnimationFrame.call(window, a._requestAnimationId), a.enterFrame())
        };
        b.registerListener =
            function () {
                var a = this, e = function () {
                    a._isActivate && (a._isActivate = !1, d.MainContext.instance.stage.dispatchEvent(new d.Event(d.Event.DEACTIVATE)))
                }, b = function () {
                    a._isActivate || (a._isActivate = !0, c.instance.reset(), d.MainContext.instance.stage.dispatchEvent(new d.Event(d.Event.ACTIVATE)))
                }, f = function () {
                    document[g] ? e() : b()
                };
                window.addEventListener("focus", b, !1);
                window.addEventListener("blur", e, !1);
                var g, v;
                "undefined" !== typeof document.hidden ? (g = "hidden", v = "visibilitychange") : "undefined" !== typeof document.mozHidden ?
                    (g = "mozHidden", v = "mozvisibilitychange") : "undefined" !== typeof document.msHidden ? (g = "msHidden", v = "msvisibilitychange") : "undefined" !== typeof document.webkitHidden ? (g = "webkitHidden", v = "webkitvisibilitychange") : "undefined" !== typeof document.oHidden && (g = "oHidden", v = "ovisibilitychange");
                "onpageshow"in window && "onpagehide"in window && (window.addEventListener("pageshow", b, !1), window.addEventListener("pagehide", e, !1));
                g && v && document.addEventListener(v, f, !1);
                f = navigator.userAgent;
                v = /micromessenger/gi.test(f);
                var n = /mqq/ig.test(f);
                if (/mobile.*qq/gi.test(f) || v)n = !1;
                n && (f = window.browser || {}, f.execWebFn = f.execWebFn || {}, f.execWebFn.postX5GamePlayerMessage = function (a) {
                    a = a.type;
                    "app_enter_background" == a ? e() : "app_enter_foreground" == a && b()
                }, window.browser = f)
            };
        c.instance = null;
        c.countTime = 0;
        c.requestAnimationFrame = null;
        c.cancelAnimationFrame = null;
        c._thisObject = null;
        c._callback = null;
        c.count = 0;
        return c
    }(d.DeviceContext);
    d.HTML5DeviceContext = g;
    g.prototype.__class__ = "egret.HTML5DeviceContext"
})(egret || (egret = {}));
var egret_html5_localStorage;
(function (d) {
    d.getItem = function (d) {
        return window.localStorage.getItem(d)
    };
    d.setItem = function (d, f) {
        try {
            return window.localStorage.setItem(d, f), !0
        } catch (c) {
            return egret.$warn(1018, d, f), !1
        }
    };
    d.removeItem = function (d) {
        window.localStorage.removeItem(d)
    };
    d.clear = function () {
        window.localStorage.clear()
    };
    d.init = function () {
        for (var g in d)egret.localStorage[g] = d[g]
    }
})(egret_html5_localStorage || (egret_html5_localStorage = {}));
egret_html5_localStorage.init();
(function (d) {
    var g = function (f) {
        function c(a, e) {
            void 0 === e && (e = !0);
            f.call(this);
            this.useCacheCanvas = e;
            d.Texture.prototype.draw = d.Texture.prototype._drawForCanvas;
            d.Texture.prototype.dispose = d.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvasContext = this.canvas.getContext("2d");
            e ? (this._cacheCanvas = document.createElement("canvas"), this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height = this.canvas.height, this.drawCanvasContext = this._cacheCanvasContext = this._cacheCanvas.getContext("2d")) :
                this.drawCanvasContext = this.canvasContext;
            var b = this.drawCanvasContext;
            if (void 0 == b.imageSmoothingEnabled) {
                for (var c = ["webkitImageSmoothingEnabled", "mozImageSmoothingEnabled", "msImageSmoothingEnabled"], g = 0; g < c.length; g++) {
                    var v = c[g];
                    if (void 0 != b[v])break
                }
                Object.defineProperty(b, "imageSmoothingEnabled", {
                    get: function () {
                        return this[v]
                    }, set: function (a) {
                        this[v] = a
                    }, enumerable: !0, configurable: !0
                })
            }
            this.onResize();
            var n = this.drawCanvasContext.setTransform, k = this;
            this.drawCanvasContext.setTransform = function (a,
                                                            e, b, h, c, d) {
                k._matrixA = a;
                k._matrixB = e;
                k._matrixC = b;
                k._matrixD = h;
                k._matrixTx = c;
                k._matrixTy = d;
                n.call(k.drawCanvasContext, a, e, b, h, c, d)
            };
            this._matrixA = 1;
            this._matrixC = this._matrixB = 0;
            this._matrixD = 1;
            this._transformTy = this._transformTx = this._matrixTy = this._matrixTx = 0;
            this.initBlendMode()
        }

        __extends(c, f);
        var b = c.prototype;
        b.createCanvas = function () {
            var a = d.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var e = document.getElementById(d.StageDelegate.canvas_div_name), a = d.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                e.appendChild(a)
            }
            d.MainContext.instance.stage.addEventListener(d.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function () {
            if (this.canvas) {
                var a = document.getElementById(d.StageDelegate.canvas_div_name);
                this.canvas.width = d.MainContext.instance.stage.stageWidth;
                this.canvas.height = d.MainContext.instance.stage.stageHeight;
                this.canvas.style.width = a.style.width;
                this.canvas.style.height = a.style.height;
                this.useCacheCanvas && (this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height =
                    this.canvas.height);
                this.drawCanvasContext.imageSmoothingEnabled = d.RendererContext.imageSmoothingEnabled
            }
        };
        b.clearScreen = function () {
            for (var a = d.RenderFilter.getInstance().getDrawAreaList(), e = 0, b = a.length; e < b; e++) {
                var c = a[e];
                this.clearRect(c.x, c.y, c.width, c.height)
            }
            a = d.MainContext.instance.stage;
            this.useCacheCanvas && this._cacheCanvasContext.clearRect(0, 0, a.stageWidth, a.stageHeight);
            this.renderCost = 0
        };
        b.clearRect = function (a, e, b, c) {
            this.canvasContext.clearRect(a, e, b, c)
        };
        b.drawImage = function (a, e, b, c,
                                g, v, n, k, l, m) {
            void 0 === m && (m = void 0);
            v += this._transformTx;
            n += this._transformTy;
            var p = d.getTimer();
            a.draw(this.drawCanvasContext, e, b, c, g, v, n, k, l, m);
            f.prototype.drawImage.call(this, a, e, b, c, g, v, n, k, l, m);
            this.renderCost += d.getTimer() - p
        };
        b.setTransform = function (a) {
            1 == a.a && 0 == a.b && 0 == a.c && 1 == a.d && 1 == this._matrixA && 0 == this._matrixB && 0 == this._matrixC && 1 == this._matrixD ? (this._transformTx = a.tx - this._matrixTx, this._transformTy = a.ty - this._matrixTy) : (this._transformTx = this._transformTy = 0, this._matrixA == a.a && this._matrixB ==
            a.b && this._matrixC == a.c && this._matrixD == a.d && this._matrixTx == a.tx && this._matrixTy == a.ty || this.drawCanvasContext.setTransform(a.a, a.b, a.c, a.d, a.tx, a.ty))
        };
        b.setAlpha = function (a, e) {
            this.drawCanvasContext.globalAlpha = a;
            e ? (this.blendValue = this.blendModes[e], this.drawCanvasContext.globalCompositeOperation = this.blendValue) : this.blendValue != d.BlendMode.NORMAL && (this.blendValue = this.blendModes[d.BlendMode.NORMAL], this.drawCanvasContext.globalCompositeOperation = this.blendValue)
        };
        b.initBlendMode = function () {
            this.blendModes =
            {};
            this.blendModes[d.BlendMode.NORMAL] = "source-over";
            this.blendModes[d.BlendMode.ADD] = "lighter";
            this.blendModes[d.BlendMode.ERASE] = "destination-out";
            this.blendModes[d.BlendMode.ERASE_REVERSE] = "destination-in"
        };
        b.setupFont = function (a, e) {
            void 0 === e && (e = null);
            e = e || {};
            var b = a._TF_Props_, c = null == e.size ? b._size : e.size, d = null == e.fontFamily ? b._fontFamily : e.fontFamily, f = this.drawCanvasContext, g = (null == e.italic ? b._italic : e.italic) ? "italic " : "normal ", g = g + ((null == e.bold ? b._bold : e.bold) ? "bold " : "normal ");
            f.font =
                g + (c + "px " + d);
            f.textAlign = "left";
            f.textBaseline = "middle"
        };
        b.measureText = function (a) {
            return this.drawCanvasContext.measureText(a).width
        };
        b.drawText = function (a, e, b, c, g, v) {
            void 0 === v && (v = null);
            this.setupFont(a, v);
            v = v || {};
            var n = a._TF_Props_, k;
            k = null != v.textColor ? d.toColorString(v.textColor) : n._textColorString;
            var l;
            l = null != v.strokeColor ? d.toColorString(v.strokeColor) : n._strokeColorString;
            var n = null != v.stroke ? v.stroke : n._stroke, m = this.drawCanvasContext;
            m.fillStyle = k;
            m.strokeStyle = l;
            n && (m.lineWidth = 2 * n,
                m.strokeText(e, b + this._transformTx, c + this._transformTy, g || 65535));
            m.fillText(e, b + this._transformTx, c + this._transformTy, g || 65535);
            f.prototype.drawText.call(this, a, e, b, c, g, v)
        };
        b.strokeRect = function (a, e, b, c, d) {
            this.drawCanvasContext.strokeStyle = d;
            this.drawCanvasContext.strokeRect(a, e, b, c)
        };
        b.pushMask = function (a) {
            this.drawCanvasContext.save();
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.rect(a.x + this._transformTx, a.y + this._transformTy, a.width, a.height);
            this.drawCanvasContext.clip();
            this.drawCanvasContext.closePath()
        };
        b.popMask = function () {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0)
        };
        b.onRenderStart = function () {
            this.drawCanvasContext.save()
        };
        b.onRenderFinish = function () {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0);
            if (this.useCacheCanvas)for (var a = this._cacheCanvas.width, e = this._cacheCanvas.height, b = d.RenderFilter.getInstance().getDrawAreaList(), c = 0, f = b.length; c < f; c++) {
                var g = b[c], n = g.x, k = g.y, l = g.width, g = g.height;
                n + l > a && (l = a - n);
                k + g > e && (g = e - k);
                0 < l && 0 < g && this.canvasContext.drawImage(this._cacheCanvas, n, k, l, g, n, k, l, g)
            }
        };
        b.drawCursor = function (a, e, b, c) {
            this.drawCanvasContext.strokeStyle = "#40a5ff";
            this.drawCanvasContext.lineWidth = 2;
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.moveTo(Math.round(a + this._transformTx), Math.round(e + this._transformTy));
            this.drawCanvasContext.lineTo(Math.round(b + this._transformTx), Math.round(c + this._transformTy));
            this.drawCanvasContext.closePath();
            this.drawCanvasContext.stroke()
        };
        b.createLinearGradient =
            function (a, e, b, c) {
                return this.drawCanvasContext.createLinearGradient(a, e, b, c)
            };
        b.createRadialGradient = function (a, e, b, c, d, f) {
            return this.drawCanvasContext.createRadialGradient(a, e, b, c, d, f)
        };
        return c
    }(d.RendererContext);
    d.HTML5CanvasRenderer = g;
    g.prototype.__class__ = "egret.HTML5CanvasRenderer"
})(egret || (egret = {}));
egret.RendererContext.createRendererContext = function (d) {
    return new egret.HTML5CanvasRenderer(d, !1)
};
egret.Graphics.prototype._beginDraw = function (d) {
    this._renderContext = d.drawCanvasContext;
    var g = d._transformTx;
    d = d._transformTy;
    0 == g && 0 == d || this._renderContext.translate(g, d)
};
egret.Graphics.prototype._endDraw = function (d) {
    this._renderContext = d.drawCanvasContext;
    var g = d._transformTx;
    d = d._transformTy;
    0 == g && 0 == d || this._renderContext.translate(-g, -d)
};
var originCanvas2DFill = CanvasRenderingContext2D.prototype.fill;
CanvasRenderingContext2D.prototype.fill = function () {
    var d = this.fillStyle;
    "string" != typeof d ? (d = d.matrix) ? (this.transform(d.a, d.b, d.c, d.d, d.tx, d.ty), originCanvas2DFill.call(this), d = egret.MainContext.instance.rendererContext, d._transformTx = d._transformTy = 0, this.setTransform(d._matrixA, d._matrixB, d._matrixC, d._matrixD, d._matrixTx, d._matrixTy)) : originCanvas2DFill.call(this) : originCanvas2DFill.call(this)
};
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this);
            this.glID = this.gl = this.canvas = null;
            this.size = 2E3;
            this.vertices = null;
            this.vertSize = 5;
            this.indices = null;
            this.projectionY = this.projectionX = NaN;
            this.shaderManager = null;
            this.contextLost = !1;
            this.glContextId = 0;
            this.currentBlendMode = "";
            this.currentBaseTexture = null;
            this.currentBatchSize = 0;
            this.worldTransform = null;
            this.worldAlpha = 1;
            this.maskList = [];
            this.maskDataFreeList = [];
            this.graphicsIndexBuffer = this.graphicsBuffer = this.graphicsIndices = this.graphicsPoints =
                this.filterType = this.colorTransformMatrix = null;
            this.graphicsStyle = {};
            d.Texture.prototype.dispose = d.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvas.addEventListener("webglcontextlost", this.handleContextLost.bind(this), !1);
            this.canvas.addEventListener("webglcontextrestored", this.handleContextRestored.bind(this), !1);
            this.html5Canvas = document.createElement("canvas");
            this.canvasContext = new d.HTML5CanvasRenderer(this.html5Canvas);
            this.onResize();
            this.projectionX = this.canvas.width /
            2;
            this.projectionY = -this.canvas.height / 2;
            a = 6 * this.size;
            this.vertices = new Float32Array(4 * this.size * this.vertSize);
            this.indices = new Uint16Array(a);
            for (var e = 0, b = 0; e < a; e += 6, b += 4)this.indices[e + 0] = b + 0, this.indices[e + 1] = b + 1, this.indices[e + 2] = b + 2, this.indices[e + 3] = b + 0, this.indices[e + 4] = b + 2, this.indices[e + 5] = b + 3;
            this.initWebGL();
            this.shaderManager = new d.WebGLShaderManager(this.gl);
            this.worldTransform = new d.Matrix;
            this.initAll()
        }

        __extends(c, f);
        var b = c.prototype;
        b.onRenderFinish = function () {
            this._drawWebGL()
        };
        c.initWebGLCanvas = function () {
            d.RenderTexture.WebGLCanvas || (d.RenderTexture.WebGLCanvas = document.createElement("canvas"), d.RenderTexture.WebGLCanvas.avaliable = !0, d.RenderTexture.WebGLRenderer = new d.WebGLRenderer(d.RenderTexture.WebGLCanvas), d.RenderTexture.WebGLRenderer.setAlpha(1))
        };
        b.initAll = function () {
            c.isInit || (c.isInit = !0, egret_webgl_graphics.init(), d.TextField.prototype._makeBitmapCache = function () {
                this.renderTexture || (this.renderTexture = new d.RenderTexture);
                var a = this.getBounds(d.Rectangle.identity);
                if (0 == a.width || 0 == a.height)return this._texture_to_render = null, !1;
                this._bitmapData || (this._bitmapData = document.createElement("canvas"), this._bitmapData.avaliable = !0, this.renderContext = d.RendererContext.createRendererContext(this._bitmapData));
                var e = this._bitmapData, b = a.width, a = a.height, c, f, g = d.MainContext.instance.rendererContext._texture_scale_factor;
                c = b / g;
                f = a / g;
                c = Math.round(c);
                f = Math.round(f);
                e.width = c;
                e.height = f;
                e.style.width = c + "px";
                e.style.height = f + "px";
                this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width =
                    c, this.renderContext._cacheCanvas.height = f);
                this._worldTransform.identity();
                this._worldTransform.a = 1 / g;
                this._worldTransform.d = 1 / g;
                this.renderContext.setTransform(this._worldTransform);
                this.worldAlpha = 1;
                e = d.RenderFilter.getInstance();
                g = e._drawAreaList.concat();
                e._drawAreaList.length = 0;
                this.renderContext.clearScreen();
                this.renderContext.onRenderStart();
                d.Texture.deleteWebGLTexture(this.renderTexture);
                this.renderTexture.dispose();
                this._hasFilters() && this._setGlobalFilters(this.renderContext);
                var n = this.mask ||
                    this._DO_Props_._scrollRect;
                n && this.renderContext.pushMask(n);
                this._render(this.renderContext);
                n && this.renderContext.popMask();
                this._hasFilters() && this._removeGlobalFilters(this.renderContext);
                d.RenderTexture.identityRectangle.width = c;
                d.RenderTexture.identityRectangle.height = f;
                e.addDrawArea(d.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                e._drawAreaList = g;
                this.renderTexture._bitmapData = this._bitmapData;
                this.renderTexture._sourceWidth = c;
                this.renderTexture._sourceHeight = f;
                this.renderTexture._textureWidth =
                    b;
                this.renderTexture._textureHeight = a;
                this._texture_to_render = this.renderTexture;
                return !0
            }, d.TextField.prototype._draw = function (a) {
                this._TF_Props_._type == d.TextFieldType.INPUT && this._isTyping || (this.getDirty() && (this._texture_to_render = this.renderTexture, this._DO_Props_._cacheAsBitmap = !0), d.DisplayObject.prototype._draw.call(this, a))
            }, d.RenderTexture.prototype.init = function () {
                this._bitmapData = document.createElement("canvas");
                this._bitmapData.avaliable = !0;
                this.canvasContext = this._bitmapData.getContext("2d");
                c.initWebGLCanvas();
                this._webglBitmapData = d.RenderTexture.WebGLCanvas;
                this.renderContext = d.RenderTexture.WebGLRenderer
            }, d.RenderTexture.prototype.setSize = function (a, e) {
                this._webglBitmapData && this.renderContext.setSize(a, e);
                if (this._bitmapData) {
                    var b = this._bitmapData;
                    b.width = a;
                    b.height = e;
                    b.style.width = a + "px";
                    b.style.height = e + "px"
                }
            }, d.RenderTexture.prototype.end = function () {
            }, d.RenderTexture.prototype.drawToTexture = function (a, e, b) {
                var c = e || a.getBounds(d.Rectangle.identity);
                if (0 == c.width || 0 == c.height)return !1;
                "undefined" == typeof b && (b = 1);
                this._bitmapData || this.init();
                var f = c.x, g = c.y, n = c.width, c = c.height, c = c / b, k = d.MainContext.instance.rendererContext._texture_scale_factor, n = Math.round(n / b), c = Math.round(c);
                this.setSize(n, c);
                var l = this._bitmapData, m = n / k * b, p = c / k * b;
                l.width = m;
                l.height = p;
                l.style.width = m + "px";
                l.style.height = p + "px";
                this.begin();
                a._worldTransform.identity();
                l = a._DO_Props_._anchorOffsetX;
                m = a._DO_Props_._anchorOffsetY;
                if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY)l = a._DO_Props_._anchorX * n,
                    m = a._DO_Props_._anchorY * c;
                this._offsetX = f + l;
                this._offsetY = g + m;
                a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
                e && (this._offsetX -= f, this._offsetY -= g);
                a.worldAlpha = 1;
                e = d.MainContext.__use_new_draw;
                d.MainContext.__use_new_draw = !1;
                if (a instanceof d.DisplayObjectContainer)for (f = a._children, g = 0, l = f.length; g < l; g++)f[g]._updateTransform();
                this.renderContext.setTransform(a._worldTransform);
                f = d.RenderFilter.getInstance();
                g = f._drawAreaList.concat();
                f._drawAreaList.length = 0;
                l = this.renderContext.gl;
                l.viewport(0, 0, n, c);
                l.bindFramebuffer(l.FRAMEBUFFER, null);
                l.clearColor(0, 0, 0, 0);
                l.clear(l.COLOR_BUFFER_BIT);
                this.renderContext.onRenderStart();
                d.Texture.deleteWebGLTexture(this);
                a._hasFilters() && a._setGlobalFilters(this.renderContext);
                (l = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(l);
                a._render(this.renderContext);
                this.renderContext._drawWebGL();
                d.MainContext.__use_new_draw = e;
                l && this.renderContext.popMask();
                a._hasFilters() && a._removeGlobalFilters(this.renderContext);
                d.RenderTexture.identityRectangle.width =
                    n;
                d.RenderTexture.identityRectangle.height = c;
                f.addDrawArea(d.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                f._drawAreaList = g;
                this._sourceWidth = n / k * b;
                this._sourceHeight = c / k * b;
                this._textureWidth = n * b;
                this._textureHeight = c * b;
                this.canvasContext.drawImage(this._webglBitmapData, 0, 0, n, c, 0, 0, this._sourceWidth, this._sourceHeight);
                return !0
            })
        };
        b.createCanvas = function () {
            var a = d.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var e = document.getElementById(d.StageDelegate.canvas_div_name),
                    a = d.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                e.appendChild(a)
            }
            d.MainContext.instance.stage.addEventListener(d.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function () {
            this.setSize(d.MainContext.instance.stage.stageWidth, d.MainContext.instance.stage.stageHeight)
        };
        b.setSize = function (a, e) {
            var b = document.getElementById(d.StageDelegate.canvas_div_name);
            this.canvas && (this.canvas.width = a, this.canvas.height = e, this.canvas.style.width = b.style.width, this.canvas.style.height = b.style.height,
                this.projectionX = this.canvas.width / 2, this.projectionY = -this.canvas.height / 2);
            this.html5Canvas && (this.html5Canvas.width = a, this.html5Canvas.height = e, this.html5Canvas.style.width = b.style.width, this.html5Canvas.style.height = b.style.height);
            this.width = a;
            this.height = e
        };
        b.handleContextLost = function () {
            this.contextLost = !0
        };
        b.handleContextRestored = function () {
            this.initWebGL();
            this.shaderManager.setContext(this.gl);
            this.contextLost = !1
        };
        b.initWebGL = function () {
            for (var a = {}, e, b = ["experimental-webgl", "webgl"], f =
                0; f < b.length; f++) {
                try {
                    e = this.canvas.getContext(b[f], a)
                } catch (g) {
                }
                if (e)break
            }
            e || d.$error(1021);
            c.glID++;
            this.glID = c.glID;
            this.setContext(e)
        };
        b.setContext = function (a) {
            this.gl = a;
            a.id = this.glContextId++;
            this.vertexBuffer = a.createBuffer();
            this.indexBuffer = a.createBuffer();
            a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
            a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.indices, a.STATIC_DRAW);
            a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
            a.bufferData(a.ARRAY_BUFFER, this.vertices, a.DYNAMIC_DRAW);
            a.disable(a.DEPTH_TEST);
            a.disable(a.CULL_FACE);
            a.enable(a.BLEND);
            a.colorMask(!0, !0, !0, !0)
        };
        b.start = function () {
            if (!this.contextLost) {
                var a = this.gl;
                a.activeTexture(a.TEXTURE0);
                a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
                a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var e;
                e = "colorTransform" == this.filterType ? this.shaderManager.colorTransformShader : "blur" == this.filterType ? this.shaderManager.blurShader : this.shaderManager.defaultShader;
                this.shaderManager.activateShader(e);
                e.syncUniforms();
                a.uniform2f(e.projectionVector,
                    this.projectionX, this.projectionY);
                var b = 4 * this.vertSize;
                a.vertexAttribPointer(e.aVertexPosition, 2, a.FLOAT, !1, b, 0);
                a.vertexAttribPointer(e.aTextureCoord, 2, a.FLOAT, !1, b, 8);
                a.vertexAttribPointer(e.colorAttribute, 2, a.FLOAT, !1, b, 16)
            }
        };
        b.clearScreen = function () {
            var a = this.gl;
            a.colorMask(!0, !0, !0, !0);
            for (var e = d.RenderFilter.getInstance().getDrawAreaList(), b = 0, c = e.length; b < c; b++) {
                var f = e[b];
                a.viewport(f.x, f.y, f.width, f.height);
                a.bindFramebuffer(a.FRAMEBUFFER, null);
                a.clearColor(0, 0, 0, 0);
                a.clear(a.COLOR_BUFFER_BIT)
            }
            a.viewport(0,
                0, this.width, this.height);
            this.renderCost = 0
        };
        b.setBlendMode = function (a) {
            a || (a = d.BlendMode.NORMAL);
            if (this.currentBlendMode != a) {
                var e = d.RendererContext.blendModesForGL[a];
                e && (this._drawWebGL(), this.gl.blendFunc(e[0], e[1]), this.currentBlendMode = a)
            }
        };
        b.drawRepeatImage = function (a, e, b, c, f, g, n, k, l, m) {
            m = d.MainContext.instance.rendererContext._texture_scale_factor;
            c *= m;
            for (f *= m; g < k; g += c)for (var p = n; p < l; p += f) {
                var q = Math.min(c, k - g), r = Math.min(f, l - p);
                this.drawImage(a, e, b, q / m, r / m, g, p, q, r)
            }
        };
        b.drawImage = function (a,
                                e, b, c, d, f, g, k, l, m) {
            void 0 === m && (m = void 0);
            if (!this.contextLost) {
                var p = a._bitmapData;
                if (p && p.avaliable)if (void 0 !== m)this.drawRepeatImage(a, e, b, c, d, f, g, k, l, m); else {
                    if (this.filters)for (m = 0; 1 > m; m++)if ("glow" == this.filters[0].type) {
                        this.useGlow(a, e, b, c, d, f, g, k, l);
                        return
                    }
                    this._drawImage(a, e, b, c, d, f, g, k, l)
                }
            }
        };
        b._drawImage = function (a, e, b, c, d, f, g, k, l) {
            this.createWebGLTexture(a);
            var m = a._bitmapData.webGLTexture[this.glID];
            if (m !== this.currentBaseTexture || this.currentBatchSize >= this.size - 1)this._drawWebGL(),
                this.currentBaseTexture = m;
            var p = this.worldTransform, q = p.a, r = p.b, x = p.c, y = p.d, s = p.tx, w = p.ty;
            0 == f && 0 == g || p.append(1, 0, 0, 1, f, g);
            1 == c / k && 1 == d / l || p.append(k / c, 0, 0, l / d, 0, 0);
            f = p.a;
            g = p.b;
            k = p.c;
            l = p.d;
            var m = p.tx, t = p.ty;
            p.a = q;
            p.b = r;
            p.c = x;
            p.d = y;
            p.tx = s;
            p.ty = w;
            q = a._sourceWidth;
            r = a._sourceHeight;
            a = c;
            p = d;
            e /= q;
            b /= r;
            c /= q;
            d /= r;
            q = this.vertices;
            r = 4 * this.currentBatchSize * this.vertSize;
            x = this.worldAlpha;
            q[r++] = m;
            q[r++] = t;
            q[r++] = e;
            q[r++] = b;
            q[r++] = x;
            q[r++] = f * a + m;
            q[r++] = g * a + t;
            q[r++] = c + e;
            q[r++] = b;
            q[r++] = x;
            q[r++] = f * a + k * p + m;
            q[r++] =
                l * p + g * a + t;
            q[r++] = c + e;
            q[r++] = d + b;
            q[r++] = x;
            q[r++] = k * p + m;
            q[r++] = l * p + t;
            q[r++] = e;
            q[r++] = d + b;
            q[r++] = x;
            this.currentBatchSize++
        };
        b.useGlow = function (a, e, b, f, g, v, n, k, l) {
            var m = this.filters[0], p = m.distance || 0, q = m.angle || 0, r = 0, x = 0;
            0 != p && 0 != q && (r = Math.ceil(p * d.NumberUtils.cos(q)), x = Math.ceil(p * d.NumberUtils.sin(q)));
            var p = m.quality, q = m.blurX / 10, y = m.blurY / 10, s = k + 2 * q + 20 + Math.abs(r), w = l + 2 * y + 20 + Math.abs(x);
            c.initWebGLCanvas();
            var t = d.RenderTexture.WebGLRenderer, z = d.RenderTexture.WebGLCanvas, u = d.RenderTexture.create();
            u._bitmapData || u.init();
            u.setSize(s, w);
            u._sourceWidth = s;
            u._sourceHeight = w;
            var D = d.RenderTexture.create();
            D._bitmapData || D.init();
            D.setSize(s, w);
            D._sourceWidth = s;
            D._sourceHeight = w;
            t.clearScreen();
            t.filterType = "colorTransform";
            t.setGlobalColorTransform([0, 0, 0, 0, m._red, 0, 0, 0, 0, m._green, 0, 0, 0, 0, m._blue, 0, 0, 0, 0, 255 * m.alpha]);
            t.setAlpha(1, d.BlendMode.NORMAL);
            t.setTransform(new d.Matrix(1, 0, 0, 1, 0, 0));
            t.drawImage(a, e, b, f, g, q + 10, y + 10, k, l);
            t._drawWebGL();
            t.filterType = null;
            u.canvasContext.clearRect(0, 0, s, w);
            u.canvasContext.drawImage(z, 0, 0, s, w, 0, 0, s, w);
            t.clearScreen();
            t.setAlpha(1, d.BlendMode.NORMAL);
            t.setTransform(new d.Matrix(1, 0, 0, 1, 0, 0));
            t.filterType = "blur";
            t.setBlurData(q, 0);
            d.Texture.deleteWebGLTexture(u);
            t.drawImage(u, q, y, s - 2 * q, w - 2 * y, q, y, s - 2 * q, w - 2 * y);
            t._drawWebGL();
            t.filterType = null;
            D.canvasContext.clearRect(0, 0, s, w);
            D.canvasContext.drawImage(z, 0, 0, s, w, 0, 0, s, w);
            t.clearScreen();
            t.setAlpha(1, d.BlendMode.NORMAL);
            t.setTransform(new d.Matrix(1, 0, 0, 1, 0, 0));
            t.filterType = "blur";
            t.setBlurData(0, y);
            d.Texture.deleteWebGLTexture(D);
            t.drawImage(D, 0, y, s, w - 2 * y, 0, y + 5, s, w - 2 * y);
            t._drawWebGL();
            t.filterType = null;
            u.canvasContext.clearRect(0, 0, s, w);
            u.canvasContext.drawImage(z, 0, 0, s, w, 0, 0, s, w);
            t.clearScreen();
            t.setAlpha(1, d.BlendMode.NORMAL);
            t.setTransform(new d.Matrix(1, 0, 0, 1, 0, 0));
            d.Texture.deleteWebGLTexture(u);
            for (m = 0; m < p; m++)t.drawImage(u, 0, 0, s, w, r, x, s, w);
            t._drawWebGL();
            t.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
            t.currentBlendMode = null;
            t.drawImage(a, e, b, f, g, v + q + 10, n + y + 15, k, l);
            t._drawWebGL();
            D.canvasContext.clearRect(0,
                0, s, w);
            D.canvasContext.drawImage(z, 0, 0, s, w, 0, 0, s, w);
            d.Texture.deleteWebGLTexture(D);
            this._drawImage(D, 0, 0, s, w, v - q - 10, n - y - 15, s, w);
            this._drawWebGL();
            d.RenderTexture.release(u);
            d.RenderTexture.release(D)
        };
        b._drawWebGL = function () {
            if (0 != this.currentBatchSize && !this.contextLost) {
                var a = d.getTimer();
                this.start();
                var e = this.gl;
                e.bindTexture(e.TEXTURE_2D, this.currentBaseTexture);
                var b = this.vertices.subarray(0, 4 * this.currentBatchSize * this.vertSize);
                e.bufferSubData(e.ARRAY_BUFFER, 0, b);
                e.drawElements(e.TRIANGLES,
                    6 * this.currentBatchSize, e.UNSIGNED_SHORT, 0);
                this.currentBatchSize = 0;
                this.renderCost += d.getTimer() - a;
                d.Profiler.getInstance().onDrawImage()
            }
        };
        b.setTransform = function (a) {
            var e = this.worldTransform;
            e.a = a.a;
            e.b = a.b;
            e.c = a.c;
            e.d = a.d;
            e.tx = a.tx;
            e.ty = a.ty
        };
        b.setAlpha = function (a, e) {
            this.worldAlpha = a;
            this.setBlendMode(e)
        };
        b.createWebGLTexture = function (a) {
            a = a._bitmapData;
            a.webGLTexture || (a.webGLTexture = {});
            if (!a.webGLTexture[this.glID]) {
                var e = this.gl;
                a.webGLTexture[this.glID] = e.createTexture();
                a.webGLTexture[this.glID].glContext =
                    e;
                e.bindTexture(e.TEXTURE_2D, a.webGLTexture[this.glID]);
                e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
                e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, a);
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR);
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR);
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE);
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE);
                e.bindTexture(e.TEXTURE_2D, null)
            }
        };
        b.pushMask = function (a) {
            this._drawWebGL();
            var e = this.gl;
            0 == this.maskList.length && e.enable(e.SCISSOR_TEST);
            a = this.getScissorRect(a);
            this.maskList.push(a);
            this.scissor(a.x, a.y, a.width, a.height)
        };
        b.getScissorRect = function (a) {
            var e = this.maskList[this.maskList.length - 1], b, c, f;
            e ? e.intersects(e) ? (b = Math.max(a.x + this.worldTransform.tx, e.x), c = Math.max(a.y + this.worldTransform.ty, e.y), f = Math.min(a.x + this.worldTransform.tx + a.width, e.x + e.width) - b, a = Math.min(a.y + this.worldTransform.ty + a.height, e.y + e.height) - c) : a = f = c = b = 0 : (b = a.x + this.worldTransform.tx, c = a.y + this.worldTransform.ty,
                f = a.width, a = a.height);
            (e = this.maskDataFreeList.pop()) ? (e.x = b, e.y = c, e.width = f, e.height = a) : e = new d.Rectangle(b, c, f, a);
            return e
        };
        b.popMask = function () {
            this._drawWebGL();
            var a = this.gl, e = this.maskList.pop();
            this.maskDataFreeList.push(e);
            e = this.maskList.length;
            0 != e ? (e = this.maskList[e - 1], (0 < e.width || 0 < e.height) && this.scissor(e.x, e.y, e.width, e.height)) : a.disable(a.SCISSOR_TEST)
        };
        b.scissor = function (a, e, b, c) {
            var f = this.gl;
            0 > b && (b = 0);
            0 > c && (c = 0);
            f.scissor(a, -e + d.MainContext.instance.stage.stageHeight - c, b, c)
        };
        b.setGlobalColorTransform = function (a) {
            if (this.colorTransformMatrix != a && (this._drawWebGL(), this.colorTransformMatrix = a)) {
                a = a.concat();
                var e = this.shaderManager.colorTransformShader;
                e.uniforms.colorAdd.value.w = a.splice(19, 1)[0] / 255;
                e.uniforms.colorAdd.value.z = a.splice(14, 1)[0] / 255;
                e.uniforms.colorAdd.value.y = a.splice(9, 1)[0] / 255;
                e.uniforms.colorAdd.value.x = a.splice(4, 1)[0] / 255;
                e.uniforms.matrix.value = a
            }
        };
        b.setBlurData = function (a, e) {
            var b = this.shaderManager.blurShader;
            b.uniforms.blur.value.x = a;
            b.uniforms.blur.value.y =
                e
        };
        b.setGlobalFilters = function (a) {
            this._drawWebGL();
            this.setFilterProperties(a)
        };
        b.setFilterProperties = function (a) {
            if ((this.filters = a) && a.length)for (var e = 0; 1 > e; e++) {
                var b = a[e];
                this.filterType = b.type;
                switch (b.type) {
                    case "blur":
                        this.setBlurData(b.blurX, b.blurY);
                        break;
                    case "colorTransform":
                        this.setGlobalColorTransform(b._matrix)
                }
            } else this.filterType = null
        };
        b.setupFont = function (a, e) {
            void 0 === e && (e = null);
            this.canvasContext.setupFont(a, e)
        };
        b.measureText = function (a) {
            return this.canvasContext.measureText(a)
        };
        b.renderGraphics = function (a) {
            this._drawWebGL();
            var e = this.gl, b = this.shaderManager.primitiveShader;
            this.graphicsPoints ? (this.graphicsPoints.length = 0, this.graphicsIndices.length = 0) : (this.graphicsPoints = [], this.graphicsIndices = [], this.graphicsBuffer = e.createBuffer(), this.graphicsIndexBuffer = e.createBuffer());
            this.updateGraphics(a);
            this.shaderManager.activateShader(b);
            e.blendFunc(e.ONE, e.ONE_MINUS_SRC_ALPHA);
            e.uniformMatrix3fv(b.translationMatrix, !1, this.worldTransform.toArray(!0));
            e.uniform2f(b.projectionVector,
                this.projectionX, -this.projectionY);
            e.uniform2f(b.offsetVector, 0, 0);
            e.uniform3fv(b.tintColor, [1, 1, 1]);
            e.uniform1f(b.alpha, this.worldAlpha);
            e.bindBuffer(e.ARRAY_BUFFER, this.graphicsBuffer);
            e.vertexAttribPointer(b.aVertexPosition, 2, e.FLOAT, !1, 24, 0);
            e.vertexAttribPointer(b.colorAttribute, 4, e.FLOAT, !1, 24, 8);
            e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.graphicsIndexBuffer);
            e.drawElements(e.TRIANGLE_STRIP, this.graphicsIndices.length, e.UNSIGNED_SHORT, 0);
            this.shaderManager.activateShader(this.shaderManager.defaultShader)
        };
        b.updateGraphics = function (a) {
            var e = this.gl;
            this.buildRectangle(a);
            e.bindBuffer(e.ARRAY_BUFFER, this.graphicsBuffer);
            e.bufferData(e.ARRAY_BUFFER, new Float32Array(this.graphicsPoints), e.STATIC_DRAW);
            e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.graphicsIndexBuffer);
            e.bufferData(e.ELEMENT_ARRAY_BUFFER, new Uint16Array(this.graphicsIndices), e.STATIC_DRAW)
        };
        b.buildRectangle = function (a) {
            var e = a.x, b = a.y, c = a.w;
            a = a.h;
            var d = this.graphicsStyle.a, f = this.graphicsStyle.r * d, g = this.graphicsStyle.g * d, k = this.graphicsStyle.b *
                d, l = this.graphicsPoints, m = this.graphicsIndices, p = l.length / 6;
            l.push(e, b);
            l.push(f, g, k, d);
            l.push(e + c, b);
            l.push(f, g, k, d);
            l.push(e, b + a);
            l.push(f, g, k, d);
            l.push(e + c, b + a);
            l.push(f, g, k, d);
            m.push(p, p, p + 1, p + 2, p + 3, p + 3)
        };
        b.setGraphicsStyle = function (a, e, b, c) {
            this.graphicsStyle.r = a;
            this.graphicsStyle.g = e;
            this.graphicsStyle.b = b;
            this.graphicsStyle.a = c
        };
        c.glID = 0;
        c.isInit = !1;
        return c
    }(d.RendererContext);
    d.WebGLRenderer = g;
    g.prototype.__class__ = "egret.WebGLRenderer"
})(egret || (egret = {}));
var egret_webgl_graphics;
(function (d) {
    d.beginFill = function (d, c) {
        void 0 === c && (c = 1);
        this._pushCommand(new g(this._setStyle, this, [(d >> 16) / 255, ((d & 65280) >> 8) / 255, (d & 255) / 255, c]))
    };
    d.beginGradientFill = function (d, c, b, a, e) {
    };
    d.drawRect = function (d, c, b, a) {
        this._pushCommand(new g(function (a) {
            this.renderContext.renderGraphics(a)
        }, this, [{x: d, y: c, w: b, h: a}]));
        this._checkRect(d, c, b, a)
    };
    d.drawCircle = function (d, c, b) {
    };
    d.drawRoundRect = function (d, c, b, a, e, h) {
    };
    d.drawEllipse = function (d, c, b, a) {
    };
    d.lineStyle = function (d, c, b, a, e, h, g, C) {
    };
    d.lineTo =
        function (d, c) {
        };
    d.curveTo = function (d, c, b, a) {
    };
    d.cubicCurveTo = function (d, c, b, a, e, h) {
    };
    d.moveTo = function (d, c) {
    };
    d.clear = function () {
        this._maxY = this._maxX = this._minY = this._minX = this.commandQueue.length = 0
    };
    d.endFill = function () {
    };
    d._pushCommand = function (d) {
        this.commandQueue.push(d)
    };
    d._draw = function (d) {
        var c = this.commandQueue.length;
        if (0 != c)for (this.renderContext = d, d = 0; d < c; d++) {
            var b = this.commandQueue[d];
            b.method.apply(b.thisObject, b.args)
        }
    };
    var g = function () {
        return function (d, c, b) {
            this.method = d;
            this.thisObject =
                c;
            this.args = b
        }
    }();
    g.prototype.__class__ = "egret_webgl_graphics.Command";
    d._setStyle = function (d, c, b, a) {
        this.renderContext.setGraphicsStyle(d, c, b, a)
    };
    d.init = function () {
        for (var f in d)egret.Graphics.prototype[f] = d[f]
    }
})(egret_webgl_graphics || (egret_webgl_graphics = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        f.compileProgram = function (c, b, a) {
            a = f.compileFragmentShader(c, a);
            b = f.compileVertexShader(c, b);
            var e = c.createProgram();
            c.attachShader(e, b);
            c.attachShader(e, a);
            c.linkProgram(e);
            c.getProgramParameter(e, c.LINK_STATUS) || d.$warn(1020);
            return e
        };
        f.compileFragmentShader = function (c, b) {
            return f._compileShader(c, b, c.FRAGMENT_SHADER)
        };
        f.compileVertexShader = function (c, b) {
            return f._compileShader(c, b, c.VERTEX_SHADER)
        };
        f._compileShader = function (c, b, a) {
            a = c.createShader(a);
            c.shaderSource(a, b);
            c.compileShader(a);
            return c.getShaderParameter(a, c.COMPILE_STATUS) ? a : (d.Logger.info(c.getShaderInfoLog(a)), null)
        };
        f.checkCanUseWebGL = function () {
            if (void 0 == f.canUseWebGL)try {
                var c = document.createElement("canvas");
                f.canUseWebGL = !!window.WebGLRenderingContext && !(!c.getContext("webgl") && !c.getContext("experimental-webgl"))
            } catch (b) {
                f.canUseWebGL = !1
            }
            return f.canUseWebGL
        };
        return f
    }();
    d.WebGLUtils = g;
    g.prototype.__class__ = "egret.WebGLUtils"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f(b) {
            this.defaultVertexSrc = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}";
            this.program = this.gl = null;
            this.fragmentSrc = "precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";
            this.uniforms = null;
            this.gl = b;
            this.init()
        }

        var c = f.prototype;
        c.init = function () {
            var b = this.gl, a = d.WebGLUtils.compileProgram(b, this.defaultVertexSrc, this.fragmentSrc);
            b.useProgram(a);
            this.uSampler = b.getUniformLocation(a, "uSampler");
            this.projectionVector = b.getUniformLocation(a,
                "projectionVector");
            this.offsetVector = b.getUniformLocation(a, "offsetVector");
            this.dimensions = b.getUniformLocation(a, "dimensions");
            this.aVertexPosition = b.getAttribLocation(a, "aVertexPosition");
            this.aTextureCoord = b.getAttribLocation(a, "aTextureCoord");
            this.colorAttribute = b.getAttribLocation(a, "aColor");
            -1 === this.colorAttribute && (this.colorAttribute = 2);
            this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute];
            for (var e in this.uniforms)this.uniforms[e].uniformLocation = b.getUniformLocation(a,
                e);
            this.initUniforms();
            this.program = a
        };
        c.initUniforms = function () {
            if (this.uniforms) {
                var b = this.gl, a, e;
                for (e in this.uniforms) {
                    a = this.uniforms[e];
                    var c = a.type;
                    "mat2" === c || "mat3" === c || "mat4" === c ? (a.glMatrix = !0, a.glValueLength = 1, "mat2" === c ? a.glFunc = b.uniformMatrix2fv : "mat3" === c ? a.glFunc = b.uniformMatrix3fv : "mat4" === c && (a.glFunc = b.uniformMatrix4fv)) : (a.glFunc = b["uniform" + c], a.glValueLength = "2f" === c || "2i" === c ? 2 : "3f" === c || "3i" === c ? 3 : "4f" === c || "4i" === c ? 4 : 1)
                }
            }
        };
        c.syncUniforms = function () {
            if (this.uniforms) {
                var b,
                    a = this.gl, e;
                for (e in this.uniforms)b = this.uniforms[e], 1 === b.glValueLength ? !0 === b.glMatrix ? b.glFunc.call(a, b.uniformLocation, b.transpose, b.value) : b.glFunc.call(a, b.uniformLocation, b.value) : 2 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y) : 3 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z) : 4 === b.glValueLength && b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z, b.value.w)
            }
        };
        return f
    }();
    d.EgretShader = g;
    g.prototype.__class__ = "egret.EgretShader"
})(egret ||
(egret = {}));
(function (d) {
    var g = function (d) {
        function c(b) {
            d.call(this, b);
            this.fragmentSrc = "precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform float invert;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\nvec4 texColor = texture2D(uSampler, vTextureCoord);\nvec4 locColor = texColor * matrix;\nif(texColor.a != 0.0){\nlocColor += colorAdd;\n}\ngl_FragColor = vColor*vec4(locColor.rgb*locColor.a,locColor.a);\n}";
            this.uniforms = {
                matrix: {
                    type: "mat4",
                    value: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
                }, colorAdd: {type: "4f", value: {x: 0, y: 0, z: 0, w: 0}}
            };
            this.init()
        }

        __extends(c, d);
        return c
    }(d.EgretShader);
    d.ColorTransformShader = g;
    g.prototype.__class__ = "egret.ColorTransformShader"
})(egret || (egret = {}));
(function (d) {
    var g = function (d) {
        function c(b) {
            d.call(this, b);
            this.fragmentSrc = "precision mediump float;uniform vec2 blur;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){gl_FragColor = vec4(0.0);gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.028 * blur.x, -0.028 * blur.y))) * 0.0044299121055113265;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.024 * blur.x, -0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.020 * blur.x, -0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.016 * blur.x, -0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.012 * blur.x, -0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.008 * blur.x, -0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.004 * blur.x, -0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, vTextureCoord) * 0.159576912161;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.004 * blur.x,  0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.008 * blur.x,  0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.012 * blur.x,  0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.016 * blur.x,  0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.020 * blur.x,  0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.024 * blur.x,  0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.028 * blur.x,  0.028 * blur.y))) * 0.0044299121055113265;}";
            this.uniforms =
            {blur: {type: "2f", value: {x: 2, y: 2}}};
            this.init()
        }

        __extends(c, d);
        return c
    }(d.EgretShader);
    d.BlurShader = g;
    g.prototype.__class__ = "egret.BlurShader"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f(c) {
            this.alpha = this.translationMatrix = this.attributes = this.colorAttribute = this.aVertexPosition = this.tintColor = this.offsetVector = this.projectionVector = this.program = this.gl = null;
            this.fragmentSrc = "precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}";
            this.vertexSrc = "attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}";
            this.gl = c;
            this.init()
        }

        f.prototype.init = function () {
            var c = this.gl, b = d.WebGLUtils.compileProgram(c, this.vertexSrc, this.fragmentSrc);
            c.useProgram(b);
            this.projectionVector = c.getUniformLocation(b, "projectionVector");
            this.offsetVector = c.getUniformLocation(b, "offsetVector");
            this.tintColor = c.getUniformLocation(b, "tint");
            this.aVertexPosition = c.getAttribLocation(b, "aVertexPosition");
            this.colorAttribute = c.getAttribLocation(b, "aColor");
            this.attributes = [this.aVertexPosition, this.colorAttribute];
            this.translationMatrix =
                c.getUniformLocation(b, "translationMatrix");
            this.alpha = c.getUniformLocation(b, "alpha");
            this.program = b
        };
        return f
    }();
    d.PrimitiveShader = g;
    g.prototype.__class__ = "egret.PrimitiveShader"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f(b) {
            this.gl = null;
            this.maxAttibs = 10;
            this.attribState = [];
            this.tempAttribState = [];
            this.blurShader = this.colorTransformShader = this.primitiveShader = this.defaultShader = this.currentShader = null;
            for (var a = 0; a < this.maxAttibs; a++)this.attribState[a] = !1;
            this.setContext(b)
        }

        var c = f.prototype;
        c.setContext = function (b) {
            this.gl = b;
            this.primitiveShader = new d.PrimitiveShader(b);
            this.defaultShader = new d.EgretShader(b);
            this.colorTransformShader = new d.ColorTransformShader(b);
            this.blurShader =
                new d.BlurShader(b);
            this.activateShader(this.defaultShader)
        };
        c.activateShader = function (b) {
            this.currentShader != b && (this.gl.useProgram(b.program), this.setAttribs(b.attributes), this.currentShader = b)
        };
        c.setAttribs = function (b) {
            var a, e;
            e = this.tempAttribState.length;
            for (a = 0; a < e; a++)this.tempAttribState[a] = !1;
            e = b.length;
            for (a = 0; a < e; a++)this.tempAttribState[b[a]] = !0;
            b = this.gl;
            e = this.attribState.length;
            for (a = 0; a < e; a++)this.attribState[a] !== this.tempAttribState[a] && (this.attribState[a] = this.tempAttribState[a],
                this.tempAttribState[a] ? b.enableVertexAttribArray(a) : b.disableVertexAttribArray(a))
        };
        return f
    }();
    d.WebGLShaderManager = g;
    g.prototype.__class__ = "egret.WebGLShaderManager"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            d.Texture.createBitmapData = d.Texture._createBitmapDataForCanvasAndWebGl
        }

        __extends(c, f);
        var b = c.prototype;
        b.initVersion = function (a) {
            this._versionCtr = a
        };
        b.proceed = function (a) {
            function e() {
                if (4 == c.readyState)if (c.status != a._status && (a._status = c.status, d.HTTPStatusEvent.dispatchHTTPStatusEvent(a, c.status)), 400 <= c.status || 0 == c.status)d.IOErrorEvent.dispatchIOErrorEvent(a); else {
                    switch (a.dataFormat) {
                        case d.URLLoaderDataFormat.TEXT:
                            a.data = c.responseText;
                            break;
                        case d.URLLoaderDataFormat.VARIABLES:
                            a.data = new d.URLVariables(c.responseText);
                            break;
                        case d.URLLoaderDataFormat.BINARY:
                            a.data = c.response;
                            break;
                        default:
                            a.data = c.responseText
                    }
                    d.__callAsync(d.Event.dispatchEvent, d.Event, a, d.Event.COMPLETE)
                }
            }

            if (a.dataFormat == d.URLLoaderDataFormat.TEXTURE)this.loadTexture(a); else if (a.dataFormat == d.URLLoaderDataFormat.SOUND)d.Html5Capatibility._audioType == d.AudioType.WEB_AUDIO ? this.loadWebAudio(a) : d.Html5Capatibility._audioType == d.AudioType.QQ_AUDIO ? this.loadQQAudio(a) :
                this.loadSound(a); else {
                var b = a._request, c = this.getXHR();
                c.onreadystatechange = e;
                var f = this.getVirtualUrl(d.NetContext._getUrl(b));
                c.open(b.method, f, !0);
                this.setResponseType(c, a.dataFormat);
				console.log(b);
                b.method != d.URLRequestMethod.GET && b.data ? b.data instanceof d.URLVariables ? (c.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), c.send(b.data.toString())) : (c.setRequestHeader("Content-Type", "multipart/form-data"), c.send(b.data)) : c.send()
            }
        };
        b.loadSound = function (a) {
            function e(c) {
                d.clearTimeout(f.__timeoutId);
                f.removeEventListener("canplaythrough", e, !1);
                f.removeEventListener("error", b, !1);
                c = new d.Html5Audio;
                c._setAudio(f);
                var g = new d.Sound;
                g._setAudio(c);
                a.data = g;
                d.__callAsync(d.Event.dispatchEvent, d.Event, a, d.Event.COMPLETE)
            }

            function b(c) {
                d.clearTimeout(f.__timeoutId);
                f.removeEventListener("canplaythrough", e, !1);
                f.removeEventListener("error", b, !1);
                d.IOErrorEvent.dispatchIOErrorEvent(a)
            }

            var c = this.getVirtualUrl(a._request.url), f = new Audio(c);
            f.__timeoutId = d.setTimeout(e, this, 100);
            f.addEventListener("canplaythrough",
                e, !1);
            f.addEventListener("error", b, !1);
            f.load()
        };
        b.loadQQAudio = function (a) {
            var e = d.Html5Capatibility._QQRootPath + this.getVirtualUrl(a._request.url);
            console.log("loadQQAudio");
            QZAppExternal.preloadSound(function (b) {
                if (0 == b.code) {
                    b = new d.QQAudio;
                    b._setPath(e);
                    var c = new d.Sound;
                    c._setAudio(b);
                    a.data = c;
                    d.__callAsync(d.Event.dispatchEvent, d.Event, a, d.Event.COMPLETE)
                } else d.IOErrorEvent.dispatchIOErrorEvent(a)
            }, {bid: -1, url: e, refresh: 1})
        };
        b.loadWebAudio = function (a) {
            var e = this.getVirtualUrl(a._request.url),
                b = new XMLHttpRequest;
            b.open("GET", e, !0);
            b.responseType = "arraybuffer";
            console.log("loadWebAudio");
            b.onload = function () {
                var e = new d.WebAudio;
                e._setArrayBuffer(b.response, function () {
                    var b = new d.Sound;
                    b._setAudio(e);
                    a.data = b;
                    d.__callAsync(d.Event.dispatchEvent, d.Event, a, d.Event.COMPLETE)
                })
            };
            b.send()
        };
        b.getXHR = function () {
            return window.XMLHttpRequest ? new window.XMLHttpRequest : new ActiveXObject("MSXML2.XMLHTTP")
        };
        b.setResponseType = function (a, e) {
            switch (e) {
                case d.URLLoaderDataFormat.TEXT:
                case d.URLLoaderDataFormat.VARIABLES:
                    a.responseType =
                        d.URLLoaderDataFormat.TEXT;
                    break;
                case d.URLLoaderDataFormat.BINARY:
                    a.responseType = "arraybuffer";
                    break;
                default:
                    a.responseType = e
            }
        };
        b.loadTexture = function (a) {
            var e = this.getVirtualUrl(a._request.url);
            d.Texture.createBitmapData(e, function (e, b) {
                if (0 != e)d.IOErrorEvent.dispatchIOErrorEvent(a); else {
                    var c = new d.Texture;
                    c._setBitmapData(b);
                    a.data = c;
                    d.__callAsync(d.Event.dispatchEvent, d.Event, a, d.Event.COMPLETE)
                }
            })
        };
        b.getVirtualUrl = function (a) {
            return this._versionCtr ? this._versionCtr.getVirtualUrl(a) : a
        };
        return c
    }(d.NetContext);
    d.HTML5NetContext = g;
    g.prototype.__class__ = "egret.HTML5NetContext"
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this._isTouchDown = !1;
            this.rootDiv = null;
            this.rootDiv = document.getElementById(d.StageDelegate.canvas_div_name);
            if (!this.rootDiv) {
                var a = document.getElementById(d.StageDelegate.egret_root_div);
                this.rootDiv = d.Browser.getInstance().$new("div");
                this.rootDiv.id = d.StageDelegate.canvas_div_name;
                a.appendChild(this.rootDiv)
            }
        }

        __extends(c, f);
        var b = c.prototype;
        b.prevent = function (a) {
            a.stopPropagation();
            !0 == a.isScroll || d.HTMLInput.getInstance().isInputOn() ||
            a.preventDefault()
        };
        b.run = function () {
            var a = this;
            window.navigator.msPointerEnabled ? (this.rootDiv.addEventListener("MSPointerDown", function (e) {
                a._onTouchBegin(e);
                a.prevent(e)
            }, !1), this.rootDiv.addEventListener("MSPointerMove", function (e) {
                a._onTouchMove(e);
                a.prevent(e)
            }, !1), this.rootDiv.addEventListener("MSPointerUp", function (e) {
                a._onTouchEnd(e);
                a.prevent(e)
            }, !1)) : d.MainContext.deviceType == d.MainContext.DEVICE_MOBILE ? this.addTouchListener() : d.MainContext.deviceType == d.MainContext.DEVICE_PC && (this.addTouchListener(),
                this.addMouseListener());
            window.addEventListener("mousedown", function (e) {
                a.inOutOfCanvas(e) ? a.dispatchLeaveStageEvent() : a._isTouchDown = !0
            });
            window.addEventListener("mouseup", function (e) {
                a._isTouchDown && (a.inOutOfCanvas(e) ? a.dispatchLeaveStageEvent() : a._onTouchEnd(e));
                a._isTouchDown = !1
            })
        };
        b.addMouseListener = function () {
            var a = this;
            this.rootDiv.addEventListener("mousedown", function (e) {
                a._onTouchBegin(e)
            });
            this.rootDiv.addEventListener("mousemove", function (e) {
                a._onTouchMove(e)
            });
            this.rootDiv.addEventListener("mouseup",
                function (e) {
                    a._onTouchEnd(e)
                })
        };
        b.addTouchListener = function () {
            var a = this;
            this.rootDiv.addEventListener("touchstart", function (e) {
                for (var b = e.changedTouches.length, c = 0; c < b; c++)a._onTouchBegin(e.changedTouches[c]);
                a.prevent(e)
            }, !1);
            this.rootDiv.addEventListener("touchmove", function (e) {
                for (var b = e.changedTouches.length, c = 0; c < b; c++)a._onTouchMove(e.changedTouches[c]);
                a.prevent(e)
            }, !1);
            this.rootDiv.addEventListener("touchend", function (e) {
                for (var b = e.changedTouches.length, c = 0; c < b; c++)a._onTouchEnd(e.changedTouches[c]);
                a.prevent(e)
            }, !1);
            this.rootDiv.addEventListener("touchcancel", function (e) {
                for (var b = e.changedTouches.length, c = 0; c < b; c++)a._onTouchEnd(e.changedTouches[c]);
                a.prevent(e)
            }, !1)
        };
        b.inOutOfCanvas = function (a) {
            var e = this.getLocation(this.rootDiv, a);
            a = e.x;
            var e = e.y, b = d.MainContext.instance.stage;
            return 0 > a || 0 > e || a > b.stageWidth || e > b.stageHeight ? !0 : !1
        };
        b.dispatchLeaveStageEvent = function () {
            this.touchingIdentifiers.length = 0;
            d.MainContext.instance.stage.dispatchEventWith(d.Event.LEAVE_STAGE)
        };
        b._onTouchBegin = function (a) {
            var e =
                this.getLocation(this.rootDiv, a), b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchBegan(e.x, e.y, b)
        };
        b._onTouchMove = function (a) {
            var e = this.getLocation(this.rootDiv, a), b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchMove(e.x, e.y, b)
        };
        b._onTouchEnd = function (a) {
            var e = this.getLocation(this.rootDiv, a), b = -1;
            a.hasOwnProperty("identifier") && (b = a.identifier);
            this.onTouchEnd(e.x, e.y, b)
        };
        b.getLocation = function (a, e) {
            var b = document.documentElement, c = window, f, g;
            "function" === typeof a.getBoundingClientRect ?
                (g = a.getBoundingClientRect(), f = g.left, g = g.top) : g = f = 0;
            f += c.pageXOffset - b.clientLeft;
            g += c.pageYOffset - b.clientTop;
            null != e.pageX ? (b = e.pageX, c = e.pageY) : (f -= document.body.scrollLeft, g -= document.body.scrollTop, b = e.clientX, c = e.clientY);
            var n = d.Point.identity;
            n.x = (b - f) / d.StageDelegate.getInstance().getScaleX();
            n.y = (c - g) / d.StageDelegate.getInstance().getScaleY();
            return n
        };
        return c
    }(d.TouchContext);
    d.HTML5TouchContext = g;
    g.prototype.__class__ = "egret.HTML5TouchContext"
})(egret || (egret = {}));
(function (d) {
    var g = function (c) {
        function b() {
            c.call(this);
            this._isNeedShow = !1;
            this.inputDiv = this.inputElement = null;
            this._gscaleY = this._gscaleX = 0;
            this._isNeesHide = !1;
            this.textValue = "";
            this._styleInfoes = {};
            f.getInstance()
        }

        __extends(b, c);
        var a = b.prototype;
        a._initElement = function (a, b, c, f) {
            var g = d.StageDelegate.getInstance().getScaleX(), n = d.StageDelegate.getInstance().getScaleY();
            this.inputDiv.style.left = a * g + "px";
            this.inputDiv.style.top = b * n + "px";
            this._gscaleX = g * c;
            this._gscaleY = n * f
        };
        a._show = function (a, b,
                            c, d) {
            this._multiline = a;
            f.getInstance().isCurrentStageText(this) ? this.inputElement.onblur = null : (this.inputElement = f.getInstance().getInputElement(this), this.inputDiv = f.getInstance()._inputDIV);
            this._isNeedShow = f.getInstance()._needShow = !0
        };
        a.onBlurHandler = function () {
            f.getInstance().clearInputElement();
            window.scrollTo(0, 0)
        };
        a.executeShow = function () {
            this.inputElement.value = this._getText();
            null == this.inputElement.onblur && (this.inputElement.onblur = this.onBlurHandler);
            this._resetStageText();
            0 < this._textfield._TF_Props_._maxChars ?
                this.inputElement.setAttribute("maxlength", this._textfield._TF_Props_._maxChars) : this.inputElement.removeAttribute("maxlength");
            this.inputElement.selectionStart = this.inputElement.value.length;
            this.inputElement.selectionEnd = this.inputElement.value.length;
            this.inputElement.focus()
        };
        a._hide = function () {
            this._isNeesHide = !0;
            0 <= d.Browser.getInstance().getUserAgent().indexOf("ios") && f.getInstance().disconnectStageText(this)
        };
        a._getText = function () {
            this.textValue || (this.textValue = "");
            return this.textValue
        };
        a._setText = function (a) {
            this.textValue = a;
            this.resetText()
        };
        a.resetText = function () {
            this.inputElement && (this.inputElement.value = this.textValue)
        };
        a._onInput = function () {
            this.textValue = this.inputElement.value;
            d.Event.dispatchEvent(this, "updateText", !1)
        };
        a._onClickHandler = function (a) {
            this._isNeedShow && (a.stopImmediatePropagation(), this._isNeedShow = !1, this.executeShow(), this.dispatchEvent(new d.Event("focus")))
        };
        a._onDisconnect = function () {
            this.inputElement = null;
            this.dispatchEvent(new d.Event("blur"))
        };
        a.setElementStyle =
            function (a, b) {
                this.inputElement && this._styleInfoes[a] != b && (this.inputElement.style[a] = b)
            };
        a._removeInput = function () {
            this.inputElement && f.getInstance().disconnectStageText(this)
        };
        a._resetStageText = function () {
            if (this.inputElement) {
                var a = this._textfield, b = a._TF_Props_;
                this.setElementStyle("fontFamily", b._fontFamily);
                this.setElementStyle("fontStyle", b._italic ? "italic" : "normal");
                this.setElementStyle("fontWeight", b._bold ? "bold" : "normal");
                this.setElementStyle("textAlign", b._textAlign);
                this.setElementStyle("fontSize",
                    b._size * this._gscaleY + "px");
                this.setElementStyle("lineHeight", b._size * this._gscaleY + "px");
                this.setElementStyle("color", b._textColorString);
                this.setElementStyle("width", a._getSize(d.Rectangle.identity).width * this._gscaleX + "px");
                this.setElementStyle("height", a._getSize(d.Rectangle.identity).height * this._gscaleY + "px");
                this.setElementStyle("verticalAlign", b._verticalAlign)
            }
        };
        return b
    }(d.StageText);
    d.HTML5StageText = g;
    g.prototype.__class__ = "egret.HTML5StageText";
    var f = function () {
        function c() {
            this._needShow = !1
        }

        var b = c.prototype;
        b.isInputOn = function () {
            return null != this._stageText
        };
        b.isCurrentStageText = function (a) {
            return this._stageText == a
        };
        b.initValue = function (a) {
            a.style.position = "absolute";
            a.style.left = "0px";
            a.style.top = "0px";
            a.style.border = "none";
            a.style.padding = "0"
        };
        b._initStageDelegateDiv = function () {
            var a = this, e = d.Browser.getInstance().$("#StageDelegateDiv");
            e || (e = d.Browser.getInstance().$new("div"), e.id = "StageDelegateDiv", document.getElementById(d.StageDelegate.egret_root_div).appendChild(e), a.initValue(e),
                e.style.width = "0px", e.style.height = "0px", a._inputDIV = d.Browser.getInstance().$new("div"), a.initValue(a._inputDIV), a._inputDIV.style.width = "0px", a._inputDIV.style.height = "0px", a._inputDIV.style.left = "0px", a._inputDIV.style.top = "-100px", a._inputDIV.style[d.Browser.getInstance().getTrans("transformOrigin")] = "0% 0% 0px", e.appendChild(a._inputDIV), document.getElementById(d.StageDelegate.canvas_div_name).addEventListener("click", function (e) {
                a._needShow ? (a._needShow = !1, d.MainContext.instance.stage._changeSizeDispatchFlag = !1, a._stageText._onClickHandler(e), c.getInstance().show()) : a._inputElement && (a.clearInputElement(), a._inputElement.blur(), a._inputElement = null)
            }), a.initInputElement(!0), a.initInputElement(!1))
        };
        b.initInputElement = function (a) {
            var e = this;
            a ? (a = document.createElement("textarea"), a.style.resize = "none", e._multiElement = a, a.id = "egretTextarea") : (a = document.createElement("input"), e._simpleElement = a, a.id = "egretInput");
            a.type = "text";
            e._inputDIV.appendChild(a);
            a.setAttribute("tabindex", "-1");
            a.style.width = "1px";
            a.style.height = "12px";
            e.initValue(a);
            a.style.outline = "thin";
            a.style.background = "none";
            a.style.overflow = "hidden";
            a.style.wordBreak = "break-all";
            a.style.opacity = 0;
            a.oninput = function () {
                e._stageText && e._stageText._onInput()
            }
        };
        b.show = function () {
            var a = this._inputElement;
            d.__callAsync(function () {
                a.style.opacity = 1
            }, this)
        };
        b.disconnectStageText = function (a) {
            if (null == this._stageText || this._stageText == a)this.clearInputElement(), this._inputElement && this._inputElement.blur()
        };
        b.clearInputElement = function () {
            this._inputElement &&
            (this._inputElement.value = "", this._inputElement.onblur = null, this._inputElement.style.width = "1px", this._inputElement.style.height = "12px", this._inputElement.style.left = "0px", this._inputElement.style.top = "0px", this._inputElement.style.opacity = 0, (this._simpleElement == this._inputElement ? this._multiElement : this._simpleElement).style.display = "block", this._inputDIV.style.left = "0px", this._inputDIV.style.top = "-100px");
            this._stageText && (this._stageText._onDisconnect(), this._stageText = null);
            d.MainContext.instance.stage._changeSizeDispatchFlag = !0
        };
        b.getInputElement = function (a) {
            this.clearInputElement();
            this._stageText = a;
            this._inputElement = this._stageText._multiline ? this._multiElement : this._simpleElement;
            (this._simpleElement == this._inputElement ? this._multiElement : this._simpleElement).style.display = "none";
            return this._inputElement
        };
        c.getInstance = function () {
            null == c._instance && (c._instance = new d.HTMLInput);
            return c._instance
        };
        return c
    }();
    d.HTMLInput = f;
    f.prototype.__class__ = "egret.HTMLInput"
})(egret || (egret = {}));
egret.StageText.create = function () {
    egret.HTMLInput.getInstance()._initStageDelegateDiv();
    return new egret.HTML5StageText
};
(function (d) {
    var g = function () {
        function f() {
            this._loop = !1;
            this.paused = !0;
            this._listeners = [];
            this._onEndedCall = null;
            this._volume = 1;
            this._startTime = 0
        }

        var c = f.prototype;
        c._play = function (b) {
            this.removeListeners();
            d.Html5Capatibility._audioMustLoad && this._audio.load();
            this.paused = !1;
            this._audio.autoplay = !0;
            this._audio.volume = this._volume;
            var a = this, e = function (b) {
                a._audio.removeEventListener("ended", e);
                a._onEndedCall && a._onEndedCall.call(null, b);
                a.clear()
            };
            this._audio.addEventListener("ended", e);
            this.initStart();
            try {
                this._audio.currentTime = this._startTime
            } catch (c) {
            } finally {
                this._audio.play()
            }
        };
        c.clear = function () {
            try {
                this._audio.pause()
            } catch (b) {
            } finally {
                this.removeListeners(), this._loop && !this.paused && this._play()
            }
        };
        c._pause = function () {
            this.paused = !0;
            this._audio.pause()
        };
        c._load = function () {
            this._audio.load()
        };
        c._setAudio = function (b) {
            this._audio = b
        };
        c.initStart = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this._audio.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        c._addEventListener =
            function (b, a, e) {
                void 0 === e && (e = !1);
                "ended" == b ? this._onEndedCall = a : (this._listeners.push({
                    type: b,
                    listener: a,
                    useCapture: e
                }), this._audio && this._audio.addEventListener(b, a, e))
            };
        c.removeListeners = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this._audio && this._audio.removeEventListener(a.type, a.listener, a.useCapture)
            }
        };
        c._removeEventListener = function (b, a, e) {
            void 0 === e && (e = !1);
            if ("ended" == b)this._onEndedCall = null; else for (var c = 0; c < this._listeners.length; c++) {
                var d = this._listeners[c];
                if (d.listener == a && d.useCapture == e && d.type == b) {
                    this._listeners.splice(c, 1);
                    this._audio && this._audio.removeEventListener(b, a, e);
                    break
                }
            }
        };
        c._preload = function (b, a, e) {
            void 0 === a && (a = null);
            void 0 === e && (e = null);
            d.callLater(a, e)
        };
        c._destroy = function () {
        };
        c._getVolume = function () {
            return this._volume
        };
        c._setVolume = function (b) {
            this._volume = Math.max(0, Math.min(b, 1));
            this._audio.volume = this._volume
        };
        c._setLoop = function (b) {
            this._loop = b
        };
        c._getCurrentTime = function () {
            return this._audio.currentTime
        };
        c._setCurrentTime =
            function (b) {
                this._startTime = b
            };
        return f
    }();
    d.Html5Audio = g;
    g.prototype.__class__ = "egret.Html5Audio"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
            this.context = f.ctx;
            this.bufferSource = null;
            this.paused = !0;
            this._loop = !1;
            this._listeners = [];
            this._onEndedCall = null;
            this._volume = 1;
            this._currentTime = this._startTime = 0;
            this.gain = f.ctx.createGain ? f.ctx.createGain() : f.ctx.createGainNode()
        }

        var c = f.prototype;
        f.decodeAudios = function () {
            if (!(0 >= f.decodeArr.length || f.isDecoding)) {
                f.isDecoding = !0;
                var b = f.decodeArr.shift();
                f.ctx.decodeAudioData(b.buffer, function (a) {
                    b.self.audioBuffer = a;
                    b.callback && b.callback();
                    f.isDecoding = !1;
                    f.decodeAudios()
                })
            }
        };
        c._play = function (b) {
            var a = this;
            this.bufferSource && (this.bufferSource.onended = null, this.removeListeners(), this.bufferSource = null);
            b = this.context;
            var e = this.gain, c = b.createBufferSource();
            this.bufferSource = c;
            this.addListeners();
            c.buffer = this.audioBuffer;
            c.connect(e);
            e.connect(b.destination);
            c.onended = function (e) {
                a.clear();
                a._onEndedCall && a._onEndedCall.call(null, e);
                a._loop && !a.paused && a._play()
            };
            this.paused = !1;
            this._startTime = Date.now();
            this.gain.gain.value = this._volume;
            c.start(0,
                this._currentTime);
            this._currentTime = 0
        };
        c.clear = function () {
            if (this.bufferSource) {
                this.removeListeners();
                var b = this.bufferSource;
                b.stop ? b.stop(0) : b.noteOff(0);
                this.bufferSource.disconnect();
                this.bufferSource = null
            }
        };
        c.addListeners = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        c.removeListeners = function () {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.removeEventListener(a.type,
                    a.listener, a.useCapture)
            }
        };
        c._pause = function () {
            this.paused = !0;
            this.clear()
        };
        c._addEventListener = function (b, a, e) {
            void 0 === e && (e = !1);
            "ended" == b ? this._onEndedCall = a : (this._listeners.push({
                type: b,
                listener: a,
                useCapture: e
            }), this.bufferSource && this.bufferSource.addEventListener(b, a, e))
        };
        c._removeEventListener = function (b, a, e) {
            void 0 === e && (e = !1);
            if ("ended" == b)this._onEndedCall = null; else for (var c = 0; c < this._listeners.length; c++) {
                var d = this._listeners[c];
                if (d.listener == a && d.useCapture == e && d.type == b) {
                    this._listeners.splice(c,
                        1);
                    this.bufferSource && this.bufferSource.removeEventListener(b, a, e);
                    break
                }
            }
        };
        c._load = function () {
            this._setArrayBuffer(this._arrayBuffer, null)
        };
        c._setArrayBuffer = function (b, a) {
            this._arrayBuffer = b;
            f.decodeArr.push({buffer: b, callback: a, self: this});
            f.decodeAudios()
        };
        c._preload = function (b, a, e) {
            void 0 === a && (a = null);
            void 0 === e && (e = null);
            d.callLater(a, e)
        };
        c._getVolume = function () {
            return this._volume
        };
        c._setVolume = function (b) {
            this._volume = b;
            this.gain.gain.value = b
        };
        c._setLoop = function (b) {
            this._loop = b
        };
        c._getCurrentTime =
            function () {
                return this.bufferSource ? (Date.now() - this._startTime) / 1E3 : 0
            };
        c._setCurrentTime = function (b) {
            this._currentTime = b
        };
        c._destroy = function () {
        };
        f.canUseWebAudio = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;
        f.ctx = f.canUseWebAudio ? new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext) : void 0;
        f.decodeArr = [];
        f.isDecoding = !1;
        return f
    }();
    d.WebAudio = g;
    g.prototype.__class__ = "egret.WebAudio"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function f() {
            this._loop = !1;
            this._currentTime = 0
        }

        var c = f.prototype;
        c._play = function (b) {
            this._type = b;
            b == d.Sound.EFFECT ? QZAppExternal.playLocalSound(function (a) {
                alert(JSON.stringify(a))
            }, {bid: -1, url: this._path, loop: this._loop ? -1 : 0}) : QZAppExternal.playLocalBackSound({
                bid: -1,
                url: this._path,
                loop: this._loop ? -1 : 0
            })
        };
        c._pause = function () {
            this._type == d.Sound.EFFECT ? QZAppExternal.stopSound() : QZAppExternal.stopBackSound()
        };
        c._addEventListener = function (b, a, e) {
        };
        c._removeEventListener =
            function (b, a, e) {
            };
        c._load = function () {
        };
        c._preload = function (b, a, e) {
            void 0 === a && (a = null);
            void 0 === e && (e = null);
            d.callLater(a, e)
        };
        c._setPath = function (b) {
            this._path = b
        };
        c._getVolume = function () {
            return 1
        };
        c._setVolume = function (b) {
        };
        c._setLoop = function (b) {
            this._loop = b
        };
        c._getCurrentTime = function () {
            return 0
        };
        c._setCurrentTime = function (b) {
            this._currentTime = b
        };
        c._destroy = function () {
        };
        return f
    }();
    d.QQAudio = g;
    g.prototype.__class__ = "egret.QQAudio"
})(egret || (egret = {}));
(function (d) {
    var g = function () {
        function b() {
        }

        b.QQ_AUDIO = 1;
        b.WEB_AUDIO = 2;
        b.HTML5_AUDIO = 3;
        return b
    }();
    d.AudioType = g;
    g.prototype.__class__ = "egret.AudioType";
    var f = function () {
        function b() {
        }

        b.WPHONE = 1;
        b.IOS = 2;
        b.ADNROID = 3;
        return b
    }();
    d.SystemOSType = f;
    f.prototype.__class__ = "egret.SystemOSType";
    var c = function (b) {
        function a() {
            b.call(this)
        }

        __extends(a, b);
        a._init = function () {
            var e = navigator.userAgent.toLowerCase();
            a.ua = e;
            a._canUseBlob = !1;
            a._audioType = g.HTML5_AUDIO;
            a._AudioClass = d.Html5Audio;
            a._audioMustLoad = !0;
            if (0 <= e.indexOf("windows phone"))a._System_OS = f.WPHONE, a._audioMustLoad = !1; else if (0 <= e.indexOf("android"))a._System_OS = f.ADNROID, 0 <= e.indexOf("ucbrowser") && (a._audioMustLoad = !1), window.hasOwnProperty("QZAppExternal") && 0 <= e.indexOf("qzone") && (a._AudioClass = d.QQAudio, a._audioType = g.QQ_AUDIO, (e = document.getElementsByTagName("base")) && 0 < e.length ? a._QQRootPath = e[0].baseURI : (e = window.location.href.indexOf("?"), -1 == e && (e = window.location.href.length), e = window.location.href.substring(0, e), e = e.substring(0,
                e.lastIndexOf("/")), a._QQRootPath = e + "/")); else if (0 <= e.indexOf("iphone") || 0 <= e.indexOf("ipad") || 0 <= e.indexOf("ipod"))a._System_OS = f.IOS, 7 <= a.getIOSVersion() && (a._canUseBlob = !0, a._AudioClass = d.WebAudio, a._audioType = g.WEB_AUDIO);
            window.URL || window.webkitURL || (a._canUseBlob = !1);
		//	console.log(a);console.log(e);
            window.AudioContext || window.webkitAudioContext || window.mozAudioContext || a._audioType != g.WEB_AUDIO || (a._audioType = g.HTML5_AUDIO, a._AudioClass = d.Html5Audio)
        };
        a.getIOSVersion = function () {
            var e = a.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0];
            return parseInt(e.match(/\d(_\d)*/)[0]) || 0
        };
        a._canUseBlob = !1;
        a._audioType = 0;
        a._audioMustLoad = !1;
        a._QQRootPath = "";
        a._System_OS = 0;
        a.ua = "";
        return a
    }(d.HashObject);
    d.Html5Capatibility = c;
    c.prototype.__class__ = "egret.Html5Capatibility";
    c._init()
})(egret || (egret = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.localVersionDataPath = "localVersion.manifest";
            this.localVersionData = null;
            this.changeVersionDataPath = "version.manifest";
            this.changeVersionData = null;
            this.baseVersionDataPath = "base.manifest";
            this.baseVersionData = null;
            this.localVersionCodePath = "localCode.manifest";
            this.serverVersionCodePath = "code.manifest";
            this._call = this._load = null
        }

        __extends(c, f);
        var b = c.prototype;
        b.fetchVersion = function () {
            this._load = new d.NativeResourceLoader;
            this._load.addEventListener(d.IOErrorEvent.IO_ERROR,
                this.loadError, this);
            this._load.addEventListener(d.Event.COMPLETE, this.fileLoadComplete, this);
            this.initLocalVersionData()
        };
        b.initLocalVersionData = function () {
            var a = this.getData("appVersion.manifest", !0);
            if (a) {
                if (1 == a.debug) {
                    this.baseVersionData = null;
                    if (a = this.getData(this.localVersionDataPath, !1))for (var e in a)this.deleteFile(e);
                    this.deleteFile(this.localVersionDataPath);
                    this.deleteFile(this.localVersionCodePath);
                    this.loadOver();
                    return
                }
                var b = this.getData("appVersion.manifest", !1);
                if (null == b || b.version !=
                    a.version) {
                    this.localVersionData = this.getData(this.localVersionDataPath, !0);
                    null == this.localVersionData && (this.localVersionData = {});
                    this.deleteFile(this.localVersionCodePath);
                    this.save("appVersion.manifest", JSON.stringify(a));
                    if (a = this.getData(this.localVersionCodePath, !1))for (e in a)a[e] != this.localVersionData[e] && this.deleteFile(e); else a = {};
                    for (e in this.localVersionData)a[e] != this.localVersionData[e] && this.deleteFile(e);
                    this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData));
                    this.loadCodeVersion();
                    return
                }
            }
            this.localVersionData = this.getLocalData(this.localVersionDataPath);
            null == this.localVersionData && (this.localVersionData = this.getLocalData(this.baseVersionDataPath), null == this.localVersionData && (this.localVersionData = {}), this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData)));
            this.loadCodeVersion()
        };
        b.deleteFile = function (a) {
            egret_native.deleteUpdateFile && egret_native.deleteUpdateFile(a)
        };
        b.loadCodeVersion = function () {
            var a = 1;
            this.newCode = 1;
            var e = this.getLocalData(this.localVersionCodePath);
            null != e && (a = e.code);
            e = this.getLocalData(this.serverVersionCodePath);
            null != e && (this.newCode = e.code);
            this.loadBaseVersion(a != this.newCode)
        };
        b.loadBaseVersion = function (a) {
            this.baseVersionData = this.getLocalData(this.baseVersionDataPath);
            this.changeVersionData = this.getLocalData(this.changeVersionDataPath);
            var e = this;
            null == e.baseVersionData || a ? e.loadFile(e.baseVersionDataPath, function () {
                e.baseVersionData = e.getLocalData(e.baseVersionDataPath);
                e.loadBaseOver()
            }) : e.loadBaseOver()
        };
        b.loadBaseOver = function () {
            this.save(this.localVersionCodePath,
                JSON.stringify({code: this.newCode}));
            this.loadOver()
        };
        b.loadFile = function (a, e) {
            void 0 === e && (e = null);
            this._call = e;
            this._load.load(a, 1E3)
        };
        b.fileLoadComplete = function (a) {
            this._call && this._call()
        };
        b.loadError = function (a) {
            this._load.removeEventListener(d.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(d.Event.COMPLETE, this.fileLoadComplete, this);
            this.dispatchEvent(a)
        };
        b.loadOver = function () {
            this._load.removeEventListener(d.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(d.Event.COMPLETE,
                this.fileLoadComplete, this);
            this.dispatchEvent(new d.Event(d.Event.COMPLETE))
        };
        b.save = function (a, e) {
            egret_native.writeFileSync ? egret_native.writeFileSync(a, e) : egret_native.saveRecord && egret_native.saveRecord(a, e)
        };
        b.getData = function (a, e) {
            if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
                var b = e ? egret_native.readResourceFileSync(a) : egret_native.readUpdateFileSync(a);
                return null != b ? JSON.parse(b) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalData = function (a) {
            if (egret_native.readUpdateFileSync &&
                egret_native.readResourceFileSync) {
                var e = egret_native.readUpdateFileSync(a);
                if (null != e)return JSON.parse(e);
                e = egret_native.readResourceFileSync(a);
                return null != e ? JSON.parse(e) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalDataByOld = function (a) {
            var e = null;
            egret_native.isRecordExists(a) ? (a = egret_native.loadRecord(a), e = JSON.parse(a)) : egret_native.isFileExists(a) && (a = egret_native.readFileSync(a), e = JSON.parse(a));
            return e
        };
        b.getChangeList = function () {
            if (!this.baseVersionData)return [];
            var a = {}, e;
            for (e in this.changeVersionData)1 ==
            this.changeVersionData[e].d ? delete this.baseVersionData[e] : this.baseVersionData[e] = this.changeVersionData[e];
            for (e in this.baseVersionData)null != this.localVersionData[e] && this.compareVersion(this.localVersionData, this.baseVersionData, e) || (a[e] = {
                url: e,
                size: this.baseVersionData[e].s
            });
            var b = [];
            for (e in a)b.push(a[e]);
            return b
        };
        b.compareVersion = function (a, e, b) {
            return null == a[b] || null == e[b] ? !1 : a[b].v == e[b].v
        };
        b.checkIsNewVersion = function (a) {
            return this.baseVersionData ? null != this.changeVersionData[a] ?
                this.compareVersion(this.changeVersionData, this.localVersionData, a) : null != this.baseVersionData[a] ? this.compareVersion(this.baseVersionData, this.localVersionData, a) : !0 : !0
        };
        b.saveVersion = function (a) {
            if (this.baseVersionData) {
                var e = !1;
                null != this.changeVersionData[a] ? this.compareVersion(this.changeVersionData, this.localVersionData, a) || (e = !0, this.localVersionData[a] = this.changeVersionData[a]) : null == this.baseVersionData[a] || this.compareVersion(this.baseVersionData, this.localVersionData, a) || (e = !0, this.localVersionData[a] =
                    this.baseVersionData[a]);
                e && this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData))
            }
        };
        b.getVirtualUrl = function (a) {
            return a
        };
        return c
    }(d.EventDispatcher);
    d.NativeVersionController = g;
    g.prototype.__class__ = "egret.NativeVersionController"
})(egret || (egret = {}));
var RES;
(function (d) {
    var g = function (d) {
        function c(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            d.call(this, b, a, e);
            this.itemsTotal = this.itemsLoaded = 0;
            this.groupName = "";
            this.resItem = null
        }

        __extends(c, d);
        c.dispatchResourceEvent = function (b, a, e, d, f, g) {
            void 0 === e && (e = "");
            void 0 === d && (d = null);
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            var v = egret.Event._getPropertyData(c);
            v.groupName = e;
            v.resItem = d;
            v.itemsLoaded = f;
            v.itemsTotal = g;
            egret.Event._dispatchByTarget(c, b, a, v)
        };
        c.ITEM_LOAD_ERROR = "itemLoadError";
        c.CONFIG_COMPLETE =
            "configComplete";
        c.CONFIG_LOAD_ERROR = "configLoadError";
        c.GROUP_PROGRESS = "groupProgress";
        c.GROUP_COMPLETE = "groupComplete";
        c.GROUP_LOAD_ERROR = "groupLoadError";
        return c
    }(egret.Event);
    d.ResourceEvent = g;
    g.prototype.__class__ = "RES.ResourceEvent"
})(RES || (RES = {}));
(function (d) {
    var g = function () {
        function d(b, a, e) {
            this.groupName = "";
            this.data = null;
            this._loaded = !1;
            this.name = b;
            this.url = a;
            this.type = e
        }

        var c = d.prototype;
        Object.defineProperty(c, "loaded", {
            get: function () {
                return this.data ? this.data.loaded : this._loaded
            }, set: function (b) {
                this.data && (this.data.loaded = b);
                this._loaded = b
            }, enumerable: !0, configurable: !0
        });
        c.toString = function () {
            return '[ResourceItem name="' + this.name + '" url="' + this.url + '" type="' + this.type + '"]'
        };
        d.TYPE_XML = "xml";
        d.TYPE_IMAGE = "image";
        d.TYPE_BIN = "bin";
        d.TYPE_TEXT = "text";
        d.TYPE_JSON = "json";
        d.TYPE_SHEET = "sheet";
        d.TYPE_FONT = "font";
        d.TYPE_SOUND = "sound";
        return d
    }();
    d.ResourceItem = g;
    g.prototype.__class__ = "RES.ResourceItem"
})(RES || (RES = {}));
(function (d) {
    var g = function () {
        function f() {
            this.keyMap = {};
            this.groupDic = {};
            d.configInstance = this
        }

        var c = f.prototype;
        c.getGroupByName = function (b) {
            var a = [];
            if (!this.groupDic[b])return a;
            b = this.groupDic[b];
            for (var e = b.length, c = 0; c < e; c++)a.push(this.parseResourceItem(b[c]));
            return a
        };
        c.getRawGroupByName = function (b) {
            return this.groupDic[b] ? this.groupDic[b] : []
        };
        c.createGroup = function (b, a, e) {
            void 0 === e && (e = !1);
            if (!e && this.groupDic[b] || !a || 0 == a.length)return !1;
            e = this.groupDic;
            for (var c = [], d = a.length, f = 0; f <
            d; f++) {
                var g = a[f], n = e[g];
                if (n)for (var g = n.length, k = 0; k < g; k++) {
                    var l = n[k];
                    -1 == c.indexOf(l) && c.push(l)
                } else(l = this.keyMap[g]) ? -1 == c.indexOf(l) && c.push(l) : egret.$warn(2E3, g)
            }
            if (0 == c.length)return !1;
            this.groupDic[b] = c;
            return !0
        };
        c.parseConfig = function (b, a) {
            if (b) {
                var e = b.resources;
                if (e)for (var c = e.length, d = 0; d < c; d++) {
                    var f = e[d], g = f.url;
                    g && -1 == g.indexOf("://") && (f.url = a + g);
                    this.addItemToKeyMap(f)
                }
                if (e = b.groups)for (c = e.length, d = 0; d < c; d++) {
                    for (var g = e[d], n = [], k = g.keys.split(","), l = k.length, m = 0; m < l; m++)f = k[m].trim(),
                    (f = this.keyMap[f]) && -1 == n.indexOf(f) && n.push(f);
                    this.groupDic[g.name] = n
                }
            }
        };
        c.addSubkey = function (b, a) {
            var e = this.keyMap[a];
            e && !this.keyMap[b] && (this.keyMap[b] = e)
        };
        c.addItemToKeyMap = function (b) {
            this.keyMap[b.name] || (this.keyMap[b.name] = b);
            if (b.hasOwnProperty("subkeys")) {
                var a = b.subkeys.split(",");
                b.subkeys = a;
                for (var e = a.length, c = 0; c < e; c++) {
                    var d = a[c];
                    null == this.keyMap[d] && (this.keyMap[d] = b)
                }
            }
        };
        c.getName = function (b) {
            return (b = this.keyMap[b]) ? b.name : ""
        };
        c.getType = function (b) {
            return (b = this.keyMap[b]) ? b.type :
                ""
        };
        c.getRawResourceItem = function (b) {
            return this.keyMap[b]
        };
        c.getResourceItem = function (b) {
            return (b = this.keyMap[b]) ? this.parseResourceItem(b) : null
        };
        c.parseResourceItem = function (b) {
            var a = new d.ResourceItem(b.name, b.url, b.type);
            a.data = b;
            return a
        };
        return f
    }();
    d.ResourceConfig = g;
    g.prototype.__class__ = "RES.ResourceConfig"
})(RES || (RES = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.thread = 2;
            this.loadingCount = 0;
            this.resInstance = this.callBack = null;
            this.groupTotalDic = {};
            this.numLoadedDic = {};
            this.itemListDic = {};
            this.groupErrorDic = {};
            this.retryTimesDic = {};
            this.maxRetryTimes = 3;
            this.failedList = [];
            this.priorityQueue = {};
            this.lazyLoadList = [];
            this.analyzerDic = {};
            this.queueIndex = 0
        }

        __extends(c, f);
        var b = c.prototype;
        b.isGroupInLoading = function (a) {
            return void 0 !== this.itemListDic[a]
        };
        b.loadGroup = function (a, e, b) {
            void 0 === b && (b = 0);
            if (!this.itemListDic[e] && e)if (a && 0 != a.length) {
                this.priorityQueue[b] ? this.priorityQueue[b].push(e) : this.priorityQueue[b] = [e];
                this.itemListDic[e] = a;
                b = a.length;
                for (var c = 0; c < b; c++)a[c].groupName = e;
                this.groupTotalDic[e] = a.length;
                this.numLoadedDic[e] = 0;
                this.next()
            } else egret.$warn(2001, e), a = new d.ResourceEvent(d.ResourceEvent.GROUP_LOAD_ERROR), a.groupName = e, this.dispatchEvent(a)
        };
        b.loadItem = function (a) {
            this.lazyLoadList.push(a);
            a.groupName = "";
            this.next()
        };
        b.next = function () {
            for (; this.loadingCount < this.thread;) {
                var a =
                    this.getOneResourceItem();
                if (!a)break;
                this.loadingCount++;
                if (a.loaded)this.onItemComplete(a); else {
                    var e = this.analyzerDic[a.type];
                    e || (e = this.analyzerDic[a.type] = egret.Injector.getInstance(d.AnalyzerBase, a.type));
                    e.loadFile(a, this.onItemComplete, this)
                }
            }
        };
        b.getOneResourceItem = function () {
            if (0 < this.failedList.length)return this.failedList.shift();
            var a = Number.NEGATIVE_INFINITY, e;
            for (e in this.priorityQueue)a = Math.max(a, e);
            a = this.priorityQueue[a];
            if (!a || 0 == a.length)return 0 == this.lazyLoadList.length ? null :
                this.lazyLoadList.pop();
            e = a.length;
            for (var b, c = 0; c < e; c++) {
                this.queueIndex >= e && (this.queueIndex = 0);
                b = this.itemListDic[a[this.queueIndex]];
                if (0 < b.length)break;
                this.queueIndex++
            }
            return 0 == b.length ? null : b.shift()
        };
        b.onItemComplete = function (a) {
            this.loadingCount--;
            var e = a.groupName;
            if (!a.loaded) {
                var b = this.retryTimesDic[a.name] || 1;
                if (b > this.maxRetryTimes)delete this.retryTimesDic[a.name], d.ResourceEvent.dispatchResourceEvent(this.resInstance, d.ResourceEvent.ITEM_LOAD_ERROR, e, a); else {
                    this.retryTimesDic[a.name] =
                        b + 1;
                    this.failedList.push(a);
                    this.next();
                    return
                }
            }
            if (e) {
                this.numLoadedDic[e]++;
                var b = this.numLoadedDic[e], c = this.groupTotalDic[e];
                a.loaded || (this.groupErrorDic[e] = !0);
                d.ResourceEvent.dispatchResourceEvent(this.resInstance, d.ResourceEvent.GROUP_PROGRESS, e, a, b, c);
                b == c && (a = this.groupErrorDic[e], this.removeGroupName(e), delete this.groupTotalDic[e], delete this.numLoadedDic[e], delete this.itemListDic[e], delete this.groupErrorDic[e], a ? d.ResourceEvent.dispatchResourceEvent(this, d.ResourceEvent.GROUP_LOAD_ERROR,
                    e) : d.ResourceEvent.dispatchResourceEvent(this, d.ResourceEvent.GROUP_COMPLETE, e))
            } else this.callBack.call(this.resInstance, a);
            this.next()
        };
        b.removeGroupName = function (a) {
            for (var e in this.priorityQueue) {
                for (var b = this.priorityQueue[e], c = b.length, d = 0, f = !1, c = b.length, g = 0; g < c; g++) {
                    if (b[g] == a) {
                        b.splice(d, 1);
                        f = !0;
                        break
                    }
                    d++
                }
                if (f) {
                    0 == b.length && delete this.priorityQueue[e];
                    break
                }
            }
        };
        return c
    }(egret.EventDispatcher);
    d.ResourceLoader = g;
    g.prototype.__class__ = "RES.ResourceLoader"
})(RES || (RES = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.resourceConfig = null;
            this.resourceConfig = d.configInstance
        }

        __extends(c, f);
        var b = c.prototype;
        b.addSubkey = function (a, e) {
            this.resourceConfig.addSubkey(a, e)
        };
        b.loadFile = function (a, e, b) {
        };
        b.getRes = function (a) {
        };
        b.destroyRes = function (a) {
            return !1
        };
        c.getStringPrefix = function (a) {
            if (!a)return "";
            var e = a.indexOf(".");
            return -1 != e ? a.substring(0, e) : ""
        };
        c.getStringTail = function (a) {
            if (!a)return "";
            var e = a.indexOf(".");
            return -1 != e ? a.substring(e + 1) : ""
        };
        return c
    }(egret.HashObject);
    d.AnalyzerBase = g;
    g.prototype.__class__ = "RES.AnalyzerBase"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.fileDic = {};
            this.resItemDic = [];
            this._dataFormat = egret.URLLoaderDataFormat.BINARY;
            this.recycler = new egret.Recycler
        }

        __extends(c, d);
        var b = c.prototype;
        b.loadFile = function (a, e, b) {
            if (this.fileDic[a.name])e.call(b, a); else {
                var c = this.getLoader();
                this.resItemDic[c.hashCode] = {item: a, func: e, thisObject: b};
                c.load(new egret.URLRequest(a.url))
            }
        };
        b.getLoader = function () {
            var a = this.recycler.pop();
            a || (a = new egret.URLLoader, a.addEventListener(egret.Event.COMPLETE,
                this.onLoadFinish, this), a.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this));
            a.dataFormat = this._dataFormat;
            return a
        };
        b.onLoadFinish = function (a) {
            var e = a.target, b = this.resItemDic[e.hashCode];
            delete this.resItemDic[e.hashCode];
            var c = b.item, d = b.func;
            c.loaded = a.type == egret.Event.COMPLETE;
            c.loaded && this.analyzeData(c, e.data);
            this.recycler.push(e);
            d.call(b.thisObject, c)
        };
        b.analyzeData = function (a, e) {
            var b = a.name;
            !this.fileDic[b] && e && (this.fileDic[b] = e)
        };
        b.getRes = function (a) {
            return this.fileDic[a]
        };
        b.hasRes = function (a) {
            return null != this.getRes(a)
        };
        b.destroyRes = function (a) {
            return this.fileDic[a] ? (this.onResourceDestroy(this.fileDic[a]), delete this.fileDic[a], !0) : !1
        };
        b.onResourceDestroy = function (a) {
        };
        return c
    }(d.AnalyzerBase);
    d.BinAnalyzer = g;
    g.prototype.__class__ = "RES.BinAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXTURE
        }

        __extends(c, d);
        var b = c.prototype;
        b.analyzeData = function (a, e) {
            var b = a.name;
            !this.fileDic[b] && e && (this.fileDic[b] = e, (b = a.data) && b.scale9grid && (b = b.scale9grid.split(","), e.scale9Grid = new egret.Rectangle(parseInt(b[0]), parseInt(b[1]), parseInt(b[2]), parseInt(b[3]))))
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return c
    }(d.BinAnalyzer);
    d.ImageAnalyzer = g;
    g.prototype.__class__ = "RES.ImageAnalyzer"
})(RES ||
(RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }

        __extends(c, d);
        c.prototype.analyzeData = function (b, a) {
            var e = b.name;
            if (!this.fileDic[e] && a)try {
                this.fileDic[e] = JSON.parse(a)
            } catch (c) {
                egret.$warn(1017, b.url, a)
            }
        };
        return c
    }(d.BinAnalyzer);
    d.JsonAnalyzer = g;
    g.prototype.__class__ = "RES.JsonAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }

        __extends(c, d);
        return c
    }(d.BinAnalyzer);
    d.TextAnalyzer = g;
    g.prototype.__class__ = "RES.TextAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.sheetMap = {};
            this.textureMap = {};
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }

        __extends(c, f);
        var b = c.prototype;
        b.getRes = function (a) {
            var e = this.fileDic[a];
            e || (e = this.textureMap[a]);
            !e && (e = d.AnalyzerBase.getStringPrefix(a), e = this.fileDic[e]) && (a = d.AnalyzerBase.getStringTail(a), e = e.getTexture(a));
            return e
        };
        b.onLoadFinish = function (a) {
            var e = a.target, b = this.resItemDic[e.hashCode];
            delete this.resItemDic[e.hashCode];
            var c = b.item, d = b.func;
            c.loaded =
                a.type == egret.Event.COMPLETE;
            if (c.loaded)if ("string" == typeof e.data) {
                if (c.loaded = !1, a = this.analyzeConfig(c, e.data)) {
                    e = c.url;
                    c.url = a;
                    this._dataFormat = egret.URLLoaderDataFormat.TEXTURE;
                    this.loadFile(c, d, b.thisObject);
                    this._dataFormat = egret.URLLoaderDataFormat.TEXT;
                    c.url = e;
                    return
                }
            } else this.analyzeBitmap(c, e.data);
            this.recycler.push(e);
            d.call(b.thisObject, c)
        };
        b.analyzeConfig = function (a, e) {
            var b = a.name, c, d = "";
            try {
                c = JSON.parse(e)
            } catch (f) {
                egret.$warn(1017, a.url, e)
            }
            c && (this.sheetMap[b] = c, d = this.getRelativePath(a.url,
                c.file));
            return d
        };
        b.analyzeBitmap = function (a, e) {
            var b = a.name;
            if (!this.fileDic[b] && e) {
                var c = this.sheetMap[b];
                delete this.sheetMap[b];
                c = this.parseSpriteSheet(e, c, a.data && a.data.subkeys ? "" : b);
                this.fileDic[b] = c
            }
        };
        b.getRelativePath = function (a, e) {
            a = a.split("\\").join("/");
            var b = a.lastIndexOf("/");
            return a = -1 != b ? a.substring(0, b + 1) + e : e
        };
        b.parseSpriteSheet = function (a, e, b) {
            e = e.frames;
            if (!e)return null;
            var c = new egret.SpriteSheet(a), d = this.textureMap, f;
            for (f in e) {
                var g = e[f];
                a = c.createTexture(f, g.x, g.y, g.w,
                    g.h, g.offX, g.offY, g.sourceW, g.sourceH);
                g.scale9grid && (g = g.scale9grid.split(","), a.scale9Grid = new egret.Rectangle(parseInt(g[0]), parseInt(g[1]), parseInt(g[2]), parseInt(g[3])));
                null == d[f] && (d[f] = a, b && this.addSubkey(f, b))
            }
            return c
        };
        b.destroyRes = function (a) {
            var e = this.fileDic[a];
            if (e) {
                delete this.fileDic[a];
                for (var b in e._textureMap)this.textureMap[b] && delete this.textureMap[b];
                this.onResourceDestroy(e);
                return !0
            }
            return !1
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return c
    }(d.BinAnalyzer);
    d.SheetAnalyzer =
        g;
    g.prototype.__class__ = "RES.SheetAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this)
        }

        __extends(c, d);
        var b = c.prototype;
        b.analyzeConfig = function (a, e) {
            var b = a.name, c, d = "";
            try {
                c = JSON.parse(e)
            } catch (f) {
            }
            c ? d = this.getRelativePath(a.url, c.file) : (c = e, d = this.getTexturePath(a.url, c));
            this.sheetMap[b] = c;
            return d
        };
        b.analyzeBitmap = function (a, e) {
            var b = a.name;
            if (!this.fileDic[b] && e) {
                var c = this.sheetMap[b];
                delete this.sheetMap[b];
                c = new egret.BitmapFont(e, c);
                this.fileDic[b] = c
            }
        };
        b.getTexturePath = function (a, e) {
            var b = "", c = e.split("\n")[2], d = c.indexOf('file="');
            -1 != d && (c = c.substring(d + 6), d = c.indexOf('"'), b = c.substring(0, d));
            a = a.split("\\").join("/");
            d = a.lastIndexOf("/");
            return a = -1 != d ? a.substring(0, d + 1) + b : b
        };
        b.onResourceDestroy = function (a) {
            a.dispose()
        };
        return c
    }(d.SheetAnalyzer);
    d.FontAnalyzer = g;
    g.prototype.__class__ = "RES.FontAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.SOUND
        }

        __extends(c, d);
        c.prototype.analyzeData = function (b, a) {
            var e = b.name;
            !this.fileDic[e] && a && (this.fileDic[e] = a, (e = b.data) && e.soundType ? a.preload(e.soundType) : a.preload(egret.Sound.EFFECT))
        };
        return c
    }(d.BinAnalyzer);
    d.SoundAnalyzer = g;
    g.prototype.__class__ = "RES.SoundAnalyzer"
})(RES || (RES = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }

        __extends(c, d);
        c.prototype.analyzeData = function (b, a) {
            var e = b.name;
            if (!this.fileDic[e] && a)try {
                var c = egret.XML.parse(a);
                this.fileDic[e] = c
            } catch (d) {
            }
        };
        return c
    }(d.BinAnalyzer);
    d.XMLAnalyzer = g;
    g.prototype.__class__ = "RES.XMLAnalyzer"
})(RES || (RES = {}));
(function (d) {
    d.loadConfig = function (c, b, a) {
	
        void 0 === b && (b = "");
        void 0 === a && (a = "json");
        f.loadConfig(c, b, a)
	//	console.log(a);
    };
    d.loadGroup = function (c, b) {
        void 0 === b && (b = 0);
        f.loadGroup(c, b)
    };
    d.isGroupLoaded = function (c) {
        return f.isGroupLoaded(c)
    };
    d.getGroupByName = function (c) {
        return f.getGroupByName(c)
    };
    d.createGroup = function (c, b, a) {
        void 0 === a && (a = !1);
        return f.createGroup(c, b, a)
    };
    d.hasRes = function (c) {
        return f.hasRes(c)
    };
    d.parseConfig = function (c, b) {
        void 0 === b && (b = "");
        f.parseConfig(c, b)
    };
    d.getRes = function (c) {
        return f.getRes(c)
    };
    d.getResAsync = function (c, b, a) {
        f.getResAsync(c, b, a)
    };
    d.getResByUrl = function (c, b, a, e) {
        void 0 === e && (e = "");
        f.getResByUrl(c, b, a, e)
    };
    d.destroyRes = function (c, b) {
        return f.destroyRes(c, b)
    };
    d.setMaxLoadingThread = function (c) {
        f.setMaxLoadingThread(c)
    };
    d.setMaxRetryTimes = function (c) {
        f.setMaxRetryTimes(c)
    };
    d.addEventListener = function (c, b, a, e, d) {
        void 0 === e && (e = !1);
        void 0 === d && (d = 0);
        f.addEventListener(c, b, a, e, d)
    };
    d.removeEventListener = function (c, b, a, e) {
        void 0 === e && (e = !1);
        f.removeEventListener(c, b, a, e)
    };
    var g = function (c) {
        function b() {
            c.call(this);
            this.analyzerDic = {};
            this.configItemList = [];
            this.configComplete = this.callLaterFlag = !1;
            this.loadedGroups = [];
            this.groupNameList = [];
            this.asyncDic = {};
            this.init()
        }

        __extends(b, c);
        var a = b.prototype;
        a.getAnalyzerByType = function (a) {
            var b = this.analyzerDic[a];
            b || (b = this.analyzerDic[a] = egret.Injector.getInstance(d.AnalyzerBase, a));
            return b
        };
        a.init = function () {
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_BIN) || egret.Injector.mapClass(d.AnalyzerBase, d.BinAnalyzer, d.ResourceItem.TYPE_BIN);
            egret.Injector.hasMapRule(d.AnalyzerBase,
                d.ResourceItem.TYPE_IMAGE) || egret.Injector.mapClass(d.AnalyzerBase, d.ImageAnalyzer, d.ResourceItem.TYPE_IMAGE);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_TEXT) || egret.Injector.mapClass(d.AnalyzerBase, d.TextAnalyzer, d.ResourceItem.TYPE_TEXT);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_JSON) || egret.Injector.mapClass(d.AnalyzerBase, d.JsonAnalyzer, d.ResourceItem.TYPE_JSON);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_SHEET) || egret.Injector.mapClass(d.AnalyzerBase,
                d.SheetAnalyzer, d.ResourceItem.TYPE_SHEET);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_FONT) || egret.Injector.mapClass(d.AnalyzerBase, d.FontAnalyzer, d.ResourceItem.TYPE_FONT);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_SOUND) || egret.Injector.mapClass(d.AnalyzerBase, d.SoundAnalyzer, d.ResourceItem.TYPE_SOUND);
            egret.Injector.hasMapRule(d.AnalyzerBase, d.ResourceItem.TYPE_XML) || egret.Injector.mapClass(d.AnalyzerBase, d.XMLAnalyzer, d.ResourceItem.TYPE_XML);
            this.resConfig =
                new d.ResourceConfig;
            this.resLoader = new d.ResourceLoader;
            this.resLoader.callBack = this.onResourceItemComp;
            this.resLoader.resInstance = this;
            this.resLoader.addEventListener(d.ResourceEvent.GROUP_COMPLETE, this.onGroupComp, this);
            this.resLoader.addEventListener(d.ResourceEvent.GROUP_LOAD_ERROR, this.onGroupError, this)
        };
        a.loadConfig = function (a, b, c) {
            void 0 === c && (c = "json");
            this.configItemList.push({url: a, resourceRoot: b, type: c});
			//console.log(this.configItemList);
            this.callLaterFlag || (egret.callLater(this.startLoadConfig, this), this.callLaterFlag = !0)
        };
        a.startLoadConfig = function () {
            this.callLaterFlag = !1;
            var a = this.configItemList;
            this.configItemList = [];
            this.loadingConfigList = a;
            for (var c = a.length, f = [], g = 0; g < c; g++) {
                var v = a[g], v = new d.ResourceItem(v.url, v.url, v.type);
				//console.log(v);
                f.push(v)
            }
				
            this.resLoader.loadGroup(f, b.GROUP_CONFIG, Number.MAX_VALUE)
        };
        a.isGroupLoaded = function (a) {
            return -1 != this.loadedGroups.indexOf(a)
        };
        a.getGroupByName = function (a) {
            return this.resConfig.getGroupByName(a)
        };
        a.loadGroup = function (a, b) {
            void 0 === b && (b = 0);
            if (-1 != this.loadedGroups.indexOf(a))d.ResourceEvent.dispatchResourceEvent(this,
                d.ResourceEvent.GROUP_COMPLETE, a); else if (!this.resLoader.isGroupInLoading(a))if (this.configComplete) {
                var c = this.resConfig.getGroupByName(a);
                this.resLoader.loadGroup(c, a, b)
            } else this.groupNameList.push({name: a, priority: b})
        };
        a.createGroup = function (a, b, c) {
            void 0 === c && (c = !1);
            if (c) {
                var d = this.loadedGroups.indexOf(a);
                -1 != d && this.loadedGroups.splice(d, 1)
            }
            return this.resConfig.createGroup(a, b, c)
        };
        a.onGroupComp = function (a) {
            if (a.groupName == b.GROUP_CONFIG) {
                a = this.loadingConfigList.length;
                for (var c = 0; c < a; c++) {
                    var f =
                        this.loadingConfigList[c], g = this.getAnalyzerByType(f.type), v = g.getRes(f.url);
                    g.destroyRes(f.url);
                    this.resConfig.parseConfig(v, f.resourceRoot)
                }
                this.configComplete = !0;
                this.loadingConfigList = null;
                d.ResourceEvent.dispatchResourceEvent(this, d.ResourceEvent.CONFIG_COMPLETE);
                this.loadDelayGroups()
            } else this.loadedGroups.push(a.groupName), this.dispatchEvent(a)
        };
        a.loadDelayGroups = function () {
            var a = this.groupNameList;
            this.groupNameList = [];
            for (var b = a.length, c = 0; c < b; c++) {
                var d = a[c];
                this.loadGroup(d.name, d.priority)
            }
        };
        a.onGroupError = function (a) {
            a.groupName == b.GROUP_CONFIG ? (this.loadingConfigList = null, d.ResourceEvent.dispatchResourceEvent(this, d.ResourceEvent.CONFIG_LOAD_ERROR)) : this.dispatchEvent(a)
        };
        a.hasRes = function (a) {
            var b = this.resConfig.getType(a);
            return "" == b && (a = d.AnalyzerBase.getStringPrefix(a), b = this.resConfig.getType(a), "" == b) ? !1 : !0
        };
        a.parseConfig = function (a, b) {
            this.resConfig.parseConfig(a, b);
            this.configComplete || this.loadingConfigList || (this.configComplete = !0, this.loadDelayGroups())
        };
        a.getRes = function (a) {
            var b =
                this.resConfig.getType(a);
            return "" == b && (b = d.AnalyzerBase.getStringPrefix(a), b = this.resConfig.getType(b), "" == b) ? null : this.getAnalyzerByType(b).getRes(a)
        };
        a.getResAsync = function (a, b, c) {
            var f = this.resConfig.getType(a), g = this.resConfig.getName(a);
            if ("" == f && (g = d.AnalyzerBase.getStringPrefix(a), f = this.resConfig.getType(g), "" == f)) {
                b.call(c, null);
                return
            }
            (f = this.getAnalyzerByType(f).getRes(a)) ? b.call(c, f) : (a = {
                key: a,
                compFunc: b,
                thisObject: c
            }, this.asyncDic[g] ? this.asyncDic[g].push(a) : (this.asyncDic[g] = [a], g =
                this.resConfig.getResourceItem(g), this.resLoader.loadItem(g)))
        };
        a.getResByUrl = function (a, b, c, f) {
            void 0 === f && (f = "");
            if (a) {
                f || (f = this.getTypeByUrl(a));
                var g = this.getAnalyzerByType(f).getRes(a);
                g ? b.call(c, g) : (b = {
                    key: a,
                    compFunc: b,
                    thisObject: c
                }, this.asyncDic[a] ? this.asyncDic[a].push(b) : (this.asyncDic[a] = [b], a = new d.ResourceItem(a, a, f), this.resLoader.loadItem(a)))
            } else b.call(c, null)
        };
        a.getTypeByUrl = function (a) {
            (a = a.substr(a.lastIndexOf(".") + 1)) && (a = a.toLowerCase());
            switch (a) {
                case d.ResourceItem.TYPE_XML:
                case d.ResourceItem.TYPE_JSON:
                case d.ResourceItem.TYPE_SHEET:
                    break;
                case "png":
                case "jpg":
                case "gif":
                case "jpeg":
                case "bmp":
                    a = d.ResourceItem.TYPE_IMAGE;
                    break;
                case "fnt":
                    a = d.ResourceItem.TYPE_FONT;
                    break;
                case "txt":
                    a = d.ResourceItem.TYPE_TEXT;
                    break;
                case "mp3":
                case "ogg":
                case "mpeg":
                case "wav":
                case "m4a":
                case "mp4":
                case "aiff":
                case "wma":
                case "mid":
                    a = d.ResourceItem.TYPE_SOUND;
                    break;
                default:
                    a = d.ResourceItem.TYPE_BIN
            }
            return a
        };
        a.onResourceItemComp = function (a) {
            var b = this.asyncDic[a.name];
            delete this.asyncDic[a.name];
            a = this.getAnalyzerByType(a.type);
            for (var c = b.length, d =
                0; d < c; d++) {
                var f = b[d], g = a.getRes(f.key);
                f.compFunc.call(f.thisObject, g, f.key)
            }
        };
        a.destroyRes = function (a, b) {
            void 0 === b && (b = !0);
            var c = this.resConfig.getRawGroupByName(a);
            if (c && 0 < c.length) {
                var d = this.loadedGroups.indexOf(a);
                -1 != d && this.loadedGroups.splice(d, 1);
                for (var f = c.length, g = 0; g < f; g++)if (d = c[g], b || !this.isResInLoadedGroup(d.name)) {
                    d.loaded = !1;
                    var k = this.getAnalyzerByType(d.type);
					
                    k.destroyRes(d.name);
                    this.removeLoadedGroupsByItemName(d.name)
                }
                return !0
            }
            c = this.resConfig.getType(a);
            if ("" == c)return !1;
            d = this.resConfig.getRawResourceItem(a);
            d.loaded = !1;
            k = this.getAnalyzerByType(c);
            c = k.destroyRes(a);
			
            this.removeLoadedGroupsByItemName(d.name);
            return c
        };
        a.removeLoadedGroupsByItemName = function (a) {
            for (var b = this.loadedGroups, c = b.length, d = 0; d < c; d++)for (var f = this.resConfig.getRawGroupByName(b[d]), g = f.length, k = 0; k < g; k++)if (f[k].name == a) {
                b.splice(d, 1);
                d--;
                c = b.length;
                break
            }
        };
        a.isResInLoadedGroup = function (a) {
            for (var b = this.loadedGroups, c = b.length, d = 0; d < c; d++)for (var f = this.resConfig.getRawGroupByName(b[d]),
                                                                                     g = f.length, k = 0; k < g; k++)if (f[k].name == a)return !0;
            return !1
        };
        a.setMaxLoadingThread = function (a) {
            1 > a && (a = 1);
            this.resLoader.thread = a
        };
        a.setMaxRetryTimes = function (a) {
            a = Math.max(a, 0);
            this.resLoader.maxRetryTimes = a
        };
        b.GROUP_CONFIG = "RES__CONFIG";
        return b
    }(egret.EventDispatcher);
    g.prototype.__class__ = "RES.Resource";
    var f = new g
})(RES || (RES = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.targetLevel = Number.MAX_VALUE;
                this.updateCompleteQueue = new g.DepthQueue;
                this.invalidateClientPropertiesFlag = this.invalidatePropertiesFlag = !1;
                this.invalidatePropertiesQueue = new g.DepthQueue;
                this.invalidateClientSizeFlag = this.invalidateSizeFlag = !1;
                this.invalidateSizeQueue = new g.DepthQueue;
                this.invalidateDisplayListFlag = !1;
                this.invalidateDisplayListQueue = new g.DepthQueue;
                this.listenersAttached = !1
            }

            __extends(b, c);
            var a = b.prototype;
            a.invalidateProperties = function (a) {
                this.invalidatePropertiesFlag || (this.invalidatePropertiesFlag = !0, this.listenersAttached || this.attachListeners());
                this.targetLevel <= a.nestLevel && (this.invalidateClientPropertiesFlag = !0);
                this.invalidatePropertiesQueue.insert(a)
            };
            a.validateProperties = function () {
                for (var a = this.invalidatePropertiesQueue.shift(); a;)a.parent && (a.validateProperties(), a.updateCompletePendingFlag || (this.updateCompleteQueue.insert(a), a.updateCompletePendingFlag = !0)), a = this.invalidatePropertiesQueue.shift();
                this.invalidatePropertiesQueue.isEmpty() && (this.invalidatePropertiesFlag = !1)
            };
            a.invalidateSize = function (a) {
                this.invalidateSizeFlag || (this.invalidateSizeFlag = !0, this.listenersAttached || this.attachListeners());
                this.targetLevel <= a.nestLevel && (this.invalidateClientSizeFlag = !0);
                this.invalidateSizeQueue.insert(a)
            };
            a.validateSize = function () {
                for (var a = this.invalidateSizeQueue.pop(); a;)a.parent && (a.validateSize(), a.updateCompletePendingFlag || (this.updateCompleteQueue.insert(a), a.updateCompletePendingFlag = !0)), a = this.invalidateSizeQueue.pop();
                this.invalidateSizeQueue.isEmpty() && (this.invalidateSizeFlag = !1)
            };
            a.invalidateDisplayList = function (a) {
                this.invalidateDisplayListFlag || (this.invalidateDisplayListFlag = !0, this.listenersAttached || this.attachListeners());
                this.invalidateDisplayListQueue.insert(a)
            };
            a.validateDisplayList = function () {
                for (var a = this.invalidateDisplayListQueue.shift(); a;)a.parent && (a.validateDisplayList(), a.updateCompletePendingFlag || (this.updateCompleteQueue.insert(a), a.updateCompletePendingFlag = !0)), a = this.invalidateDisplayListQueue.shift();
                this.invalidateDisplayListQueue.isEmpty() && (this.invalidateDisplayListFlag = !1)
            };
            a.attachListeners = function () {
                g.UIGlobals.stage.addEventListener(d.Event.ENTER_FRAME, this.doPhasedInstantiationCallBack, this);
                g.UIGlobals.stage.addEventListener(d.Event.RENDER, this.doPhasedInstantiationCallBack, this);
                g.UIGlobals.stage.invalidate();
                this.listenersAttached = !0
            };
            a.doPhasedInstantiationCallBack = function (a) {
                g.UIGlobals.stage.removeEventListener(d.Event.ENTER_FRAME,
                    this.doPhasedInstantiationCallBack, this);
                g.UIGlobals.stage.removeEventListener(d.Event.RENDER, this.doPhasedInstantiationCallBack, this);
                this.doPhasedInstantiation()
            };
            a.doPhasedInstantiation = function () {
                this.invalidatePropertiesFlag && this.validateProperties();
                this.invalidateSizeFlag && this.validateSize();
                this.invalidateDisplayListFlag && this.validateDisplayList();
                if (this.invalidatePropertiesFlag || this.invalidateSizeFlag || this.invalidateDisplayListFlag)this.attachListeners(); else {
                    this.listenersAttached = !1;
                    for (var a = this.updateCompleteQueue.pop(); a;)a.initialized || (a.initialized = !0), a.hasEventListener(g.UIEvent.UPDATE_COMPLETE) && g.UIEvent.dispatchUIEvent(a, g.UIEvent.UPDATE_COMPLETE), a.updateCompletePendingFlag = !1, a = this.updateCompleteQueue.pop();
                    g.UIEvent.dispatchUIEvent(this, g.UIEvent.UPDATE_COMPLETE)
                }
            };
            a.validateNow = function () {
                for (var a = 0; this.listenersAttached && 100 > a++;)this.doPhasedInstantiationCallBack()
            };
            a.validateClient = function (a, b) {
                void 0 === b && (b = !1);
                var c, d = !1, f = this.targetLevel;
                this.targetLevel ==
                Number.MAX_VALUE && (this.targetLevel = a.nestLevel);
                for (; !d;) {
                    d = !0;
                    for (c = this.invalidatePropertiesQueue.removeSmallestChild(a); c;)c.parent && (c.validateProperties(), c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0)), c = this.invalidatePropertiesQueue.removeSmallestChild(a);
                    this.invalidatePropertiesQueue.isEmpty() && (this.invalidatePropertiesFlag = !1);
                    this.invalidateClientPropertiesFlag = !1;
                    for (c = this.invalidateSizeQueue.removeLargestChild(a); c;) {
                        c.parent && (c.validateSize(),
                        c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0));
                        if (this.invalidateClientPropertiesFlag && (c = this.invalidatePropertiesQueue.removeSmallestChild(a))) {
                            this.invalidatePropertiesQueue.insert(c);
                            d = !1;
                            break
                        }
                        c = this.invalidateSizeQueue.removeLargestChild(a)
                    }
                    this.invalidateSizeQueue.isEmpty() && (this.invalidateSizeFlag = !1);
                    this.invalidateClientSizeFlag = this.invalidateClientPropertiesFlag = !1;
                    if (!b) {
                        for (c = this.invalidateDisplayListQueue.removeSmallestChild(a); c;) {
                            c.parent &&
                            (c.validateDisplayList(), c.updateCompletePendingFlag || (this.updateCompleteQueue.insert(c), c.updateCompletePendingFlag = !0));
                            if (this.invalidateClientPropertiesFlag && (c = this.invalidatePropertiesQueue.removeSmallestChild(a))) {
                                this.invalidatePropertiesQueue.insert(c);
                                d = !1;
                                break
                            }
                            if (this.invalidateClientSizeFlag && (c = this.invalidateSizeQueue.removeLargestChild(a))) {
                                this.invalidateSizeQueue.insert(c);
                                d = !1;
                                break
                            }
                            c = this.invalidateDisplayListQueue.removeSmallestChild(a)
                        }
                        this.invalidateDisplayListQueue.isEmpty() &&
                        (this.invalidateDisplayListFlag = !1)
                    }
                }
                if (f == Number.MAX_VALUE && (this.targetLevel = Number.MAX_VALUE, !b))for (c = this.updateCompleteQueue.removeLargestChild(a); c;)c.initialized || (c.initialized = !0), c.hasEventListener(g.UIEvent.UPDATE_COMPLETE) && g.UIEvent.dispatchUIEvent(c, g.UIEvent.UPDATE_COMPLETE), c.updateCompletePendingFlag = !1, c = this.updateCompleteQueue.removeLargestChild(a)
            };
            return b
        }(d.EventDispatcher);
        g.LayoutManager = f;
        f.prototype.__class__ = "egret.gui.LayoutManager"
    })(d.gui || (d.gui = {}))
})(egret || (egret =
{}));
(function (d) {
    (function (g) {
        var f = function () {
            function b() {
                this.depthBins = [];
                this.minDepth = 0;
                this.maxDepth = -1
            }

            var a = b.prototype;
            a.insert = function (a) {
                var b = a.nestLevel, d = a.hashCode;
                this.maxDepth < this.minDepth ? this.minDepth = this.maxDepth = b : (b < this.minDepth && (this.minDepth = b), b > this.maxDepth && (this.maxDepth = b));
                var f = this.depthBins[b];
                f ? null == f.items[d] && (f.items[d] = a, f.length++) : (f = new c, this.depthBins[b] = f, f.items[d] = a, f.length++)
            };
            a.pop = function () {
                var a = null;
                if (this.minDepth <= this.maxDepth) {
                    for (var b = this.depthBins[this.maxDepth]; !b ||
                    0 == b.length;) {
                        this.maxDepth--;
                        if (this.maxDepth < this.minDepth)return null;
                        b = this.depthBins[this.maxDepth]
                    }
                    var c = b.items, d;
                    for (d in c) {
                        a = c[d];
                        this.remove(a, this.maxDepth);
                        break
                    }
                    for (; !b || 0 == b.length;) {
                        this.maxDepth--;
                        if (this.maxDepth < this.minDepth)break;
                        b = this.depthBins[this.maxDepth]
                    }
                }
                return a
            };
            a.shift = function () {
                var a = null;
                if (this.minDepth <= this.maxDepth) {
                    for (var b = this.depthBins[this.minDepth]; !b || 0 == b.length;) {
                        this.minDepth++;
                        if (this.minDepth > this.maxDepth)return null;
                        b = this.depthBins[this.minDepth]
                    }
                    var c =
                        b.items, d;
                    for (d in c) {
                        a = c[d];
                        this.remove(a, this.minDepth);
                        break
                    }
                    for (; !b || 0 == b.length;) {
                        this.minDepth++;
                        if (this.minDepth > this.maxDepth)break;
                        b = this.depthBins[this.minDepth]
                    }
                }
                return a
            };
            a.removeLargestChild = function (a) {
                for (var b = this.maxDepth, c = a.nestLevel, f = a.hashCode; c <= b;) {
                    var g = this.depthBins[b];
                    if (g && 0 < g.length) {
                        if (b == a.nestLevel) {
                            if (g.items[f])return this.remove(a, b), a
                        } else {
                            var g = g.items, n;
                            for (n in g) {
                                var k = g[n];
                                if (k instanceof d.DisplayObject && a instanceof d.DisplayObjectContainer && a.contains(k))return this.remove(k,
                                    b), k
                            }
                        }
                        b--
                    } else if (b == this.maxDepth && this.maxDepth--, b--, b < c)break
                }
                return null
            };
            a.removeSmallestChild = function (a) {
                for (var b = a.nestLevel, c = a.hashCode; b <= this.maxDepth;) {
                    var f = this.depthBins[b];
                    if (f && 0 < f.length) {
                        if (b == a.nestLevel) {
                            if (f.items[c])return this.remove(a, b), a
                        } else {
                            var f = f.items, g;
                            for (g in f) {
                                var n = f[g];
                                if (n instanceof d.DisplayObject && a instanceof d.DisplayObjectContainer && a.contains(n))return this.remove(n, b), n
                            }
                        }
                        b++
                    } else if (b == this.minDepth && this.minDepth++, b++, b > this.maxDepth)break
                }
                return null
            };
            a.remove = function (a, b) {
                void 0 === b && (b = -1);
                var c = a.hashCode, d = this.depthBins[0 <= b ? b : a.nestLevel];
                return d && null != d.items[c] ? (delete d.items[c], d.length--, a) : null
            };
            a.removeAll = function () {
                this.minDepth = this.depthBins.length = 0;
                this.maxDepth = -1
            };
            a.isEmpty = function () {
                return this.minDepth > this.maxDepth
            };
            return b
        }();
        g.DepthQueue = f;
        f.prototype.__class__ = "egret.gui.DepthQueue";
        var c = function () {
            return function () {
                this.length = 0;
                this.items = []
            }
        }();
        g.DepthBin = c;
        c.prototype.__class__ = "egret.gui.DepthBin"
    })(d.gui ||
    (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            Object.defineProperty(c, "stage", {
                get: function () {
                    return c._stage
                }, enumerable: !0, configurable: !0
            });
            c._initlize = function (b) {
                c.initlized || (c._stage = b, c._layoutManager = new d.LayoutManager, c.initlized = !0)
            };
            Object.defineProperty(c, "uiStage", {
                get: function () {
                    return c._uiStage
                }, enumerable: !0, configurable: !0
            });
            c.initlized = !1;
            return c
        }();
        d.UIGlobals = f;
        f.prototype.__class__ = "egret.gui.UIGlobals"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            return function () {
                this._id = null;
                this._isPopUp = !1;
                this._owner = null;
                this._initialized = this._updateCompletePendingFlag = !1;
                this._nestLevel = 0;
                this._enabled = !0;
                this._minWidth = this._height = this._width = 0;
                this._maxWidth = 1E4;
                this._minHeight = 0;
                this._maxHeight = 1E4;
                this._measuredHeight = this._measuredWidth = 0;
                this._percentHeight = this._percentWidth = this._verticalCenter = this._horizontalCenter = this._bottom = this._top = this._right = this._left = NaN;
                this._includeInLayout = !0;
                this._oldY =
                    this._oldX = this._oldHeight = this._oldWidth = NaN;
                this._invalidateSizeFlag = this._invalidatePropertiesFlag = !1;
                this._oldPreferHeight = this._oldPreferWidth = NaN;
                this._hasOwnStyleChain = this._initializeCalled = this._validateNowFlag = this._invalidateDisplayListFlag = !1;
                this._styleProtoChain = null;
                this._layoutHeightExplicitlySet = this._layoutWidthExplicitlySet = this._hasNoStyleChild = !1
            }
        }();
        d.UIComponentProperties = f;
        f.prototype.__class__ = "egret.gui.UIComponentProperties"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._UIC_Props_ = new d.gui.UIComponentProperties;
                this.touchEnabled = !0;
                this.addEventListener(d.Event.ADDED_TO_STAGE, this.onAddedToStage, this);
                this.addEventListener(d.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this);
                void 0 === b.prototypeCanSet && (b.prototypeCanSet = void 0 !== {}.__proto__)
            }

            __extends(b, c);
            var a = b.prototype;
            a.onAddedToStage = function (a) {
                this.removeEventListener(d.Event.ADDED_TO_STAGE, this.onAddedToStage, this);
                this._initialize();
                g.UIGlobals._initlize(this.stage);
                0 < this._UIC_Props_._nestLevel && this.checkInvalidateFlag()
            };
            Object.defineProperty(a, "id", {
                get: function () {
                    return this._UIC_Props_._id
                }, set: function (a) {
                    this._UIC_Props_._id = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "isPopUp", {
                get: function () {
                    return this._UIC_Props_._isPopUp
                }, set: function (a) {
                    this._UIC_Props_._isPopUp = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "owner", {
                get: function () {
                    return this._UIC_Props_._owner ? this._UIC_Props_._owner :
                        this.parent
                }, enumerable: !0, configurable: !0
            });
            a.ownerChanged = function (a) {
                this._UIC_Props_._owner = a
            };
            Object.defineProperty(a, "updateCompletePendingFlag", {
                get: function () {
                    return this._UIC_Props_._updateCompletePendingFlag
                }, set: function (a) {
                    this._UIC_Props_._updateCompletePendingFlag = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "initialized", {
                get: function () {
                    return this._UIC_Props_._initialized
                }, set: function (a) {
                    this._UIC_Props_._initialized != a && (this._UIC_Props_._initialized = a) && (this.childrenCreated(),
                        g.UIEvent.dispatchUIEvent(this, g.UIEvent.CREATION_COMPLETE))
                }, enumerable: !0, configurable: !0
            });
            a._initialize = function () {
                this._UIC_Props_._initializeCalled || (g.UIGlobals.stage && this.removeEventListener(d.Event.ADDED_TO_STAGE, this.onAddedToStage, this), this._UIC_Props_._initializeCalled = !0, g.UIEvent.dispatchUIEvent(this, g.UIEvent.INITIALIZE), this.createChildren(), this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
            };
            a.createChildren = function () {
            };
            a.childrenCreated = function () {
            };
            Object.defineProperty(a, "nestLevel", {
                get: function () {
                    return this._UIC_Props_._nestLevel
                }, set: function (a) {
                    this._UIC_Props_._nestLevel != a && (this._UIC_Props_._nestLevel = a, 0 == this._UIC_Props_._nestLevel ? this.addEventListener(d.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this) : this.removeEventListener(d.Event.ADDED_TO_STAGE, this.checkInvalidateFlag, this), this._updateChildrenNestLevel())
                }, enumerable: !0, configurable: !0
            });
            a._updateChildrenNestLevel = function () {
                for (var a = this.numChildren - 1; 0 <= a; a--) {
                    var b =
                        this.getChildAt(a);
                    b && "nestLevel"in b && (b.nestLevel = this._UIC_Props_._nestLevel + 1)
                }
            };
            a.getStyle = function (a) {
                var b = this._UIC_Props_._styleProtoChain;
                return b ? b[a] : void 0
            };
            a.setStyle = function (a, b) {
                var c = this._UIC_Props_._styleProtoChain;
                this._UIC_Props_._hasOwnStyleChain || (c = this._createOwnStyleProtoChain(c));
                c[a] = b;
                this.styleChanged(a);
                this.notifyStyleChangeInChildren(a)
            };
            a.styleChanged = function (a) {
            };
            a.notifyStyleChangeInChildren = function (a) {
                if (!this._UIC_Props_._hasNoStyleChild)for (var b = this.numChildren -
                    1; 0 <= b; b--) {
                    var c = this.getChildAt(b);
                    c && "styleChanged"in c && (c.styleChanged(a), c.notifyStyleChangeInChildren(a))
                }
            };
            a._createOwnStyleProtoChain = function (a) {
                this._UIC_Props_._hasOwnStyleChain = !0;
                b.prototypeCanSet ? (this._UIC_Props_._styleProtoChain = {}, this._UIC_Props_._styleProtoChain.__proto__ = a ? a : b.emptyStyleChain) : this._UIC_Props_._styleProtoChain = this.createProtoChain(a);
                a = this._UIC_Props_._styleProtoChain;
                if (!this._UIC_Props_._hasNoStyleChild)for (var c = this.numChildren - 1; 0 <= c; c--) {
                    var d = this.getChildAt(c);
                    d && "regenerateStyleCache"in d && d.regenerateStyleCache(a)
                }
                return a
            };
            a.createProtoChain = function (a) {
                function b() {
                }

                b.prototype = a;
                a = new b;
                b.prototype = null;
                return a
            };
            a.clearStyle = function (a) {
                this._UIC_Props_._hasOwnStyleChain && (delete this._UIC_Props_._styleProtoChain[a], this.styleChanged(a), this.notifyStyleChangeInChildren(a))
            };
            a.regenerateStyleCache = function (a) {
                if (!b.prototypeCanSet)this.regenerateStyleCacheForIE(a); else if (this._UIC_Props_._hasOwnStyleChain)this._UIC_Props_._styleProtoChain.__proto__ =
                    a ? a : b.emptyStyleChain; else if (this._UIC_Props_._styleProtoChain != a) {
                    this._UIC_Props_._styleProtoChain = a;
                    for (var c = this.numChildren - 1; 0 <= c; c--) {
                        var d = this.getChildAt(c);
                        d && "regenerateStyleCache"in d && d.regenerateStyleCache(a)
                    }
                }
            };
            a.regenerateStyleCacheForIE = function (a) {
                if (this._UIC_Props_._hasOwnStyleChain) {
                    var b = this._UIC_Props_._styleProtoChain;
                    a = this.createProtoChain(a);
                    for (var c in b)b.hasOwnProperty(c) && (a[c] = b[c])
                }
                this._UIC_Props_._styleProtoChain = a;
                if (!this._UIC_Props_._hasNoStyleChild)for (b =
                                                                this.numChildren - 1; 0 <= b; b--)(c = this.getChildAt(b)) && "regenerateStyleCacheForIE"in c && c.regenerateStyleCacheForIE(a)
            };
            a._addToDisplayList = function (a, b) {
                void 0 === b && (b = !0);
                var c = this.numChildren;
                a.parent == this && c--;
                this._addingChild(a);
                this._doAddChild(a, c, b);
                this._childAdded(a);
                return a
            };
            a._addToDisplayListAt = function (a, b, c) {
                void 0 === c && (c = !0);
                this._addingChild(a);
                this._doAddChild(a, b, c);
                this._childAdded(a);
                return a
            };
            a._removeFromDisplayList = function (a, b) {
                void 0 === b && (b = !0);
                var c = this._children.indexOf(a);
                if (0 <= c)return this._doRemoveChild(c, b), this._childRemoved(a), a;
                d.$error(1008);
                return null
            };
            a._removeFromDisplayListAt = function (a, b) {
                void 0 === b && (b = !0);
                if (0 <= a && a < this._children.length) {
                    var c = this._doRemoveChild(a, b);
                    this._childRemoved(c);
                    return c
                }
                d.$error(1007);
                return null
            };
            a.addChild = function (a) {
                this._addingChild(a);
                c.prototype.addChild.call(this, a);
                this._childAdded(a);
                return a
            };
            a.addChildAt = function (a, b) {
                this._addingChild(a);
                c.prototype.addChildAt.call(this, a, b);
                this._childAdded(a);
                return a
            };
            a._addingChild =
                function (a) {
                    if (a && ("nestLevel"in a && (a.nestLevel = this._UIC_Props_._nestLevel + 1), "styleChanged"in a)) {
                        var b = this._UIC_Props_._styleProtoChain;
                        if (b || a._UIC_Props_ && a._UIC_Props_._styleProtoChain)a.regenerateStyleCache(b), a.styleChanged(null), a.notifyStyleChangeInChildren(null)
                    }
                };
            a._childAdded = function (a) {
                a instanceof b && (a._initialize(), a.checkInvalidateFlag())
            };
            a.removeChild = function (a) {
                c.prototype.removeChild.call(this, a);
                this._childRemoved(a);
                return a
            };
            a.removeChildAt = function (a) {
                a = c.prototype.removeChildAt.call(this,
                    a);
                this._childRemoved(a);
                return a
            };
            a._childRemoved = function (a) {
                a && "nestLevel"in a && (a.nestLevel = 0)
            };
            a.checkInvalidateFlag = function (a) {
                g.UIGlobals._layoutManager && (this._UIC_Props_._invalidatePropertiesFlag && g.UIGlobals._layoutManager.invalidateProperties(this), this._UIC_Props_._invalidateSizeFlag && g.UIGlobals._layoutManager.invalidateSize(this), this._UIC_Props_._invalidateDisplayListFlag && g.UIGlobals._layoutManager.invalidateDisplayList(this), this._UIC_Props_._validateNowFlag && (g.UIGlobals._layoutManager.validateClient(this),
                    this._UIC_Props_._validateNowFlag = !1))
            };
            Object.defineProperty(a, "enabled", {
                get: function () {
                    return this._UIC_Props_._enabled
                }, set: function (a) {
                    this._UIC_Props_._enabled = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._UIC_Props_._width
                }, set: function (a) {
                    this._setWidth(a)
                }, enumerable: !0, configurable: !0
            });
            a._setWidth = function (a) {
                if (this._UIC_Props_._width != a || this._DO_Props_._explicitWidth != a)c.prototype._setWidth.call(this, a), isNaN(a) ? this.invalidateSize() :
                    this._UIC_Props_._width = a, this.invalidateProperties(), this.invalidateDisplayList(), this.invalidateParentSizeAndDisplayList()
            };
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._UIC_Props_._height
                }, set: function (a) {
                    this._setHeight(a)
                }, enumerable: !0, configurable: !0
            });
            a._setHeight = function (a) {
                if (this._UIC_Props_._height != a || this._DO_Props_._explicitHeight != a)c.prototype._setHeight.call(this, a), isNaN(a) ? this.invalidateSize() : this._UIC_Props_._height = a, this.invalidateProperties(), this.invalidateDisplayList(),
                    this.invalidateParentSizeAndDisplayList()
            };
            Object.defineProperty(a, "scaleX", {
                get: function () {
                    return this._DO_Props_._scaleX
                }, set: function (a) {
                    this._setScaleX(a)
                }, enumerable: !0, configurable: !0
            });
            a._setScaleX = function (a) {
                this._DO_Props_._scaleX != a && (this._DO_Props_._scaleX = a, this.invalidateParentSizeAndDisplayList())
            };
            Object.defineProperty(a, "scaleY", {
                get: function () {
                    return this._DO_Props_._scaleY
                }, set: function (a) {
                    this._setScaleY(a)
                }, enumerable: !0, configurable: !0
            });
            a._setScaleY = function (a) {
                this._DO_Props_._scaleY !=
                a && (this._DO_Props_._scaleY = a, this.invalidateParentSizeAndDisplayList())
            };
            Object.defineProperty(a, "minWidth", {
                get: function () {
                    return this._UIC_Props_._minWidth
                }, set: function (a) {
                    this._UIC_Props_._minWidth != a && (this._UIC_Props_._minWidth = a, this.invalidateSize())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "maxWidth", {
                get: function () {
                    return this._UIC_Props_._maxWidth
                }, set: function (a) {
                    this._UIC_Props_._maxWidth != a && (this._UIC_Props_._maxWidth = a, this.invalidateSize())
                }, enumerable: !0, configurable: !0
            });
            a._getMaxWidth = function () {
                return this._UIC_Props_._maxWidth
            };
            Object.defineProperty(a, "minHeight", {
                get: function () {
                    return this._UIC_Props_._minHeight
                }, set: function (a) {
                    this._UIC_Props_._minHeight != a && (this._UIC_Props_._minHeight = a, this.invalidateSize())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "maxHeight", {
                get: function () {
                    return this._UIC_Props_._maxHeight
                }, set: function (a) {
                    this._UIC_Props_._maxHeight != a && (this._UIC_Props_._maxHeight = a, this.invalidateSize())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "measuredWidth", {
                get: function () {
                    return this._UIC_Props_._measuredWidth
                }, set: function (a) {
                    this._UIC_Props_._measuredWidth = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "measuredHeight", {
                get: function () {
                    return this._UIC_Props_._measuredHeight
                }, set: function (a) {
                    this._UIC_Props_._measuredHeight = a
                }, enumerable: !0, configurable: !0
            });
            a.setActualSize = function (a, b) {
                var c = !1;
                this._UIC_Props_._width != a && (this._UIC_Props_._width = a, c = !0);
                this._UIC_Props_._height != b && (this._UIC_Props_._height =
                    b, c = !0);
                c && (this.invalidateDisplayList(), this.dispatchResizeEvent())
            };
            Object.defineProperty(a, "x", {
                get: function () {
                    return this._DO_Props_._x
                }, set: function (a) {
                    this._DO_Props_._x != a && (this._setX(a), this.invalidateProperties(), this._UIC_Props_._includeInLayout && this.parent && this.parent instanceof b && this.parent._childXYChanged())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "y", {
                get: function () {
                    return this._DO_Props_._y
                }, set: function (a) {
                    this._DO_Props_._y != a && (this._setY(a), this.invalidateProperties(),
                    this._UIC_Props_._includeInLayout && this.parent && this.parent instanceof b && this.parent._childXYChanged())
                }, enumerable: !0, configurable: !0
            });
            a.invalidateProperties = function () {
                this._UIC_Props_._invalidatePropertiesFlag || (this._UIC_Props_._invalidatePropertiesFlag = !0, this.parent && g.UIGlobals._layoutManager && g.UIGlobals._layoutManager.invalidateProperties(this))
            };
            a.validateProperties = function () {
                this._UIC_Props_._invalidatePropertiesFlag && (this.commitProperties(), this._UIC_Props_._invalidatePropertiesFlag = !1)
            };
            a.invalidateSize = function () {
                this._UIC_Props_._invalidateSizeFlag || (this._UIC_Props_._invalidateSizeFlag = !0, this.parent && g.UIGlobals._layoutManager && g.UIGlobals._layoutManager.invalidateSize(this))
            };
            a.validateSize = function (a) {
                void 0 === a && (a = !1);
                if (a)for (a = 0; a < this.numChildren; a++) {
                    var b = this.getChildAt(a);
                    "validateSize"in b && b.validateSize(!0)
                }
                this._UIC_Props_._invalidateSizeFlag && (this.measureSizes() && (this.invalidateDisplayList(), this.invalidateParentSizeAndDisplayList()), this._UIC_Props_._invalidateSizeFlag = !1)
            };
            a.measureSizes = function () {
                var a = !1;
                if (!this._UIC_Props_._invalidateSizeFlag)return a;
                this.canSkipMeasurement() || (this.measure(), this.measuredWidth < this.minWidth && (this.measuredWidth = this.minWidth), this.measuredWidth > this.maxWidth && (this.measuredWidth = this.maxWidth), this.measuredHeight < this.minHeight && (this.measuredHeight = this.minHeight), this.measuredHeight > this.maxHeight && (this.measuredHeight = this.maxHeight));
                if (isNaN(this._UIC_Props_._oldPreferWidth))this._UIC_Props_._oldPreferWidth = this.preferredWidth,
                    this._UIC_Props_._oldPreferHeight = this.preferredHeight, a = !0; else {
                    if (this.preferredWidth != this._UIC_Props_._oldPreferWidth || this.preferredHeight != this._UIC_Props_._oldPreferHeight)a = !0;
                    this._UIC_Props_._oldPreferWidth = this.preferredWidth;
                    this._UIC_Props_._oldPreferHeight = this.preferredHeight
                }
                return a
            };
            a.invalidateDisplayList = function () {
                this._UIC_Props_._invalidateDisplayListFlag || (this._UIC_Props_._invalidateDisplayListFlag = !0, this.parent && g.UIGlobals._layoutManager && g.UIGlobals._layoutManager.invalidateDisplayList(this),
                    this._setSizeDirty())
            };
            a.validateDisplayList = function () {
                if (this._UIC_Props_._invalidateDisplayListFlag) {
                    var a = 0, b = 0, a = this._UIC_Props_._layoutWidthExplicitlySet ? this._UIC_Props_._width : isNaN(this.explicitWidth) ? this.measuredWidth : this._DO_Props_._explicitWidth, b = this._UIC_Props_._layoutHeightExplicitlySet ? this._UIC_Props_._height : isNaN(this.explicitHeight) ? this.measuredHeight : this._DO_Props_._explicitHeight;
                    isNaN(a) && (a = 0);
                    isNaN(b) && (b = 0);
                    this.setActualSize(a, b);
                    this.updateDisplayList(a, b);
                    this._UIC_Props_._invalidateDisplayListFlag = !1
                }
            };
            a.validateNow = function (a) {
                void 0 === a && (a = !1);
                this._UIC_Props_._validateNowFlag || null == g.UIGlobals._layoutManager ? this._UIC_Props_._validateNowFlag = !0 : g.UIGlobals._layoutManager.validateClient(this, a)
            };
            a.invalidateParentSizeAndDisplayList = function () {
                if (this.parent && this._UIC_Props_._includeInLayout && "invalidateSize"in this.parent) {
                    var a = this.parent;
                    a.invalidateSize();
                    a.invalidateDisplayList()
                }
            };
            a.updateDisplayList = function (a, b) {
            };
            a.canSkipMeasurement = function () {
                return !isNaN(this._DO_Props_._explicitWidth) && !isNaN(this._DO_Props_._explicitHeight)
            };
            a.commitProperties = function () {
                this._UIC_Props_._oldWidth == this._UIC_Props_._width && this._UIC_Props_._oldHeight == this._UIC_Props_._height || this.dispatchResizeEvent();
                this._UIC_Props_._oldX == this.x && this._UIC_Props_._oldY == this.y || this.dispatchMoveEvent()
            };
            a.measure = function () {
                this._UIC_Props_._measuredHeight = 0;
                this._UIC_Props_._measuredWidth = 0
            };
            a.dispatchMoveEvent = function () {
                this.hasEventListener(g.MoveEvent.MOVE) && g.MoveEvent.dispatchMoveEvent(this, this._UIC_Props_._oldX,
                    this._UIC_Props_._oldY);
                this._UIC_Props_._oldX = this.x;
                this._UIC_Props_._oldY = this.y
            };
            a._childXYChanged = function () {
            };
            a.dispatchResizeEvent = function () {
                this.hasEventListener(g.ResizeEvent.RESIZE) && g.ResizeEvent.dispatchResizeEvent(this, this._UIC_Props_._oldWidth, this._UIC_Props_._oldHeight);
                this._UIC_Props_._oldWidth = this._UIC_Props_._width;
                this._UIC_Props_._oldHeight = this._UIC_Props_._height
            };
            Object.defineProperty(a, "includeInLayout", {
                get: function () {
                    return this._UIC_Props_._includeInLayout
                }, set: function (a) {
                    this._UIC_Props_._includeInLayout !=
                    a && (this._UIC_Props_._includeInLayout = !0, this.invalidateParentSizeAndDisplayList(), this._UIC_Props_._includeInLayout = a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "left", {
                get: function () {
                    return this._UIC_Props_._left
                }, set: function (a) {
                    this._UIC_Props_._left != a && (this._UIC_Props_._left = a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "right", {
                get: function () {
                    return this._UIC_Props_._right
                }, set: function (a) {
                    this._UIC_Props_._right != a && (this._UIC_Props_._right =
                        a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "top", {
                get: function () {
                    return this._UIC_Props_._top
                }, set: function (a) {
                    this._UIC_Props_._top != a && (this._UIC_Props_._top = a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "bottom", {
                get: function () {
                    return this._UIC_Props_._bottom
                }, set: function (a) {
                    this._UIC_Props_._bottom != a && (this._UIC_Props_._bottom = a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "horizontalCenter", {
                get: function () {
                    return this._UIC_Props_._horizontalCenter
                }, set: function (a) {
                    this._UIC_Props_._horizontalCenter != a && (this._UIC_Props_._horizontalCenter = a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "verticalCenter", {
                get: function () {
                    return this._UIC_Props_._verticalCenter
                }, set: function (a) {
                    this._UIC_Props_._verticalCenter != a && (this._UIC_Props_._verticalCenter = a, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "percentWidth", {
                get: function () {
                    return this._UIC_Props_._percentWidth
                }, set: function (a) {
                    this._UIC_Props_._percentWidth != a && (this._UIC_Props_._percentWidth = a, this.invalidateParentSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "percentHeight", {
                get: function () {
                    return this._UIC_Props_._percentHeight
                }, set: function (a) {
                    this._UIC_Props_._percentHeight != a && (this._UIC_Props_._percentHeight = a, this.invalidateParentSizeAndDisplayList())
                },
                enumerable: !0, configurable: !0
            });
            a.setLayoutBoundsSize = function (a, b) {
                isNaN(a) ? (this._UIC_Props_._layoutWidthExplicitlySet = !1, a = this.preferredWidth) : this._UIC_Props_._layoutWidthExplicitlySet = !0;
                isNaN(b) ? (this._UIC_Props_._layoutHeightExplicitlySet = !1, b = this.preferredHeight) : this._UIC_Props_._layoutHeightExplicitlySet = !0;
                this.setActualSize(a / this._DO_Props_._scaleX, b / this._DO_Props_._scaleY)
            };
            a.setLayoutBoundsPosition = function (a, b) {
                0 > this._DO_Props_._scaleX && (a += this.layoutBoundsWidth);
                0 > this._DO_Props_._scaleY &&
                (b += this.layoutBoundsHeight);
                var c = !1;
                this._DO_Props_._x != a && (this._setX(a), c = !0);
                this._DO_Props_._y != b && (this._setY(b), c = !0);
                c && this.dispatchMoveEvent()
            };
            Object.defineProperty(a, "preferredWidth", {
                get: function () {
                    var a = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth : this._UIC_Props_._measuredWidth, b = this._DO_Props_._scaleX;
                    0 > b && (b = -b);
                    return a * b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "preferredHeight", {
                get: function () {
                    var a = this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight :
                        this._UIC_Props_._measuredHeight, b = this._DO_Props_._scaleY;
                    0 > b && (b = -b);
                    return a * b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "preferredX", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleX ? this._DO_Props_._x : this._DO_Props_._x - this.preferredWidth
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "preferredY", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleY ? this._DO_Props_._y : this._DO_Props_._y - this.preferredHeight
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsX",
                {
                    get: function () {
                        return 0 <= this._DO_Props_._scaleX ? this._DO_Props_._x : this._DO_Props_._x - this.layoutBoundsWidth
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "layoutBoundsY", {
                get: function () {
                    return 0 <= this._DO_Props_._scaleY ? this._DO_Props_._y : this._DO_Props_._y - this.layoutBoundsHeight
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsWidth", {
                get: function () {
                    var a = 0, a = this._UIC_Props_._layoutWidthExplicitlySet ? this._UIC_Props_._width : this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth :
                        this._UIC_Props_._measuredWidth, b = this._DO_Props_._scaleX;
                    0 > b && (b = -b);
                    return a * b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "layoutBoundsHeight", {
                get: function () {
                    var a = 0, a = this._UIC_Props_._layoutHeightExplicitlySet ? this._UIC_Props_._height : this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight : this._UIC_Props_._measuredHeight, b = this.scaleY;
                    0 > b && (b = -b);
                    return a * b
                }, enumerable: !0, configurable: !0
            });
            b.prototypeCanSet = void 0;
            b.emptyStyleChain = {};
            return b
        }(d.DisplayObjectContainer);
        g.UIComponent = f;
        f.prototype.__class__ = "egret.gui.UIComponent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this);
                this.generator = null;
                this.generator = a
            }

            __extends(b, c);
            b.prototype.newInstance = function () {
                return new this.generator
            };
            return b
        }(d.HashObject);
        g.ClassFactory = f;
        f.prototype.__class__ = "egret.gui.ClassFactory"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this)
            }

            __extends(b, c);
            var a = b.prototype;
            a.initialize = function (a) {
            };
            a.apply = function (a) {
            };
            a.remove = function (a) {
            };
            a.initializeFromObject = function (a) {
                for (var b in a)this[b] = a[b];
                return this
            };
            return b
        }(d.HashObject);
        g.OverrideBase = f;
        f.prototype.__class__ = "egret.gui.OverrideBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a, d, f, g) {
                c.call(this);
                this.propertyName = "";
                this.position = b.LAST;
                this.target = this.relativeTo = null;
                this.target = a;
                this.propertyName = d;
                this.position = f;
                this.relativeTo = g
            }

            __extends(b, c);
            var a = b.prototype;
            a.initialize = function (a) {
                if ((a = a[this.target]) && !(a instanceof d.SkinnableComponent) && "_initialize"in a)try {
                    a._initialize()
                } catch (b) {
                }
            };
            a.apply = function (a) {
                var c, d;
                try {
                    d = a[this.relativeTo]
                } catch (f) {
                }
                var g = a[this.target];
                a = this.propertyName ? a[this.propertyName] :
                    a;
                if (g && a) {
                    switch (this.position) {
                        case b.FIRST:
                            c = 0;
                            break;
                        case b.LAST:
                            c = -1;
                            break;
                        case b.BEFORE:
                            c = a.getElementIndex(d);
                            break;
                        case b.AFTER:
                            c = a.getElementIndex(d) + 1
                    }
                    -1 == c && (c = a.numElements);
                    a.addElementAt(g, c)
                }
            };
            a.remove = function (a) {
                var b = null == this.propertyName || "" == this.propertyName ? a : a[this.propertyName];
                (a = a[this.target]) && b && -1 != b.getElementIndex(a) && b.removeElement(a)
            };
            b.FIRST = "first";
            b.LAST = "last";
            b.BEFORE = "before";
            b.AFTER = "after";
            return b
        }(d.OverrideBase);
        d.AddItems = f;
        f.prototype.__class__ = "egret.gui.AddItems"
    })(d.gui ||
    (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a, b, d) {
                c.call(this);
                this.oldValue = this.value = this.target = this.name = null;
                this.target = a;
                this.name = b;
                this.value = d
            }

            __extends(b, c);
            var a = b.prototype;
            a.apply = function (a) {
                a = null == this.target || "" == this.target ? a : a[this.target];
                null != a && (this.oldValue = a[this.name], this.setPropertyValue(a, this.name, this.value, this.oldValue))
            };
            a.remove = function (a) {
                a = null == this.target || "" == this.target ? a : a[this.target];
                null != a && (this.setPropertyValue(a, this.name, this.oldValue,
                    this.oldValue), this.oldValue = null)
            };
            a.setPropertyValue = function (a, b, c, d) {
                a[b] = void 0 === c || null === c ? c : "number" == typeof d ? parseFloat(c) : "boolean" == typeof d ? this.toBoolean(c) : c
            };
            a.toBoolean = function (a) {
                return "string" == typeof a ? "true" == a.toLowerCase() : !1 != a
            };
            return b
        }(d.OverrideBase);
        d.SetProperty = f;
        f.prototype.__class__ = "egret.gui.SetProperty"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a, b, d) {
                c.call(this);
                this.target = a;
                this.name = b;
                this.value = d
            }

            __extends(b, c);
            var a = b.prototype;
            a.apply = function (a) {
                a = null == this.target || "" == this.target ? a : a[this.target];
                null != a && (this.oldValue = a.getStyle(this.name), this.setStyleValue(a, this.name, this.value, this.oldValue))
            };
            a.remove = function (a) {
                a = null == this.target || "" == this.target ? a : a[this.target];
                null != a && (this.setStyleValue(a, this.name, this.oldValue, this.oldValue), this.oldValue = null)
            };
            a.setStyleValue =
                function (a, b, c, d) {
                    void 0 === c ? a.clearStyle(b) : null === c ? a.setStyle(b, c) : "number" == typeof d ? a.setStyle(b, parseFloat(c)) : "boolean" == typeof d ? a.setStyle(b, this.toBoolean(c)) : a.setStyle(b, c)
                };
            a.toBoolean = function (a) {
                return "string" == typeof a ? "true" == a.toLowerCase() : !1 != a
            };
            return b
        }(d.OverrideBase);
        d.SetStyle = f;
        f.prototype.__class__ = "egret.gui.SetStyle"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, e) {
                c.call(this);
                this.initialized = !1;
                this.name = null;
                this.name = a;
                this.overrides = e
            }

            __extends(b, c);
            b.prototype.initialize = function (a) {
                if (!this.initialized) {
                    this.initialized = !0;
                    for (var e = 0; e < this.overrides.length; e++)this.overrides[e].initialize(a)
                }
            };
            return b
        }(d.HashObject);
        g.State = f;
        f.prototype.__class__ = "egret.gui.State"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            c.adjustRelativeByXY = function (b, a) {
                void 0 === a && (a = null);
                if (b && (a || (a = b.parent), a)) {
                    var e = b.x, c = b.y, d = b.layoutBoundsHeight, f = b.layoutBoundsWidth, g = a.width, n = a.height;
                    isNaN(b.left) || (b.left = e);
                    isNaN(b.right) || (b.right = g - e - f);
                    isNaN(b.horizontalCenter) || (b.horizontalCenter = e + 0.5 * f - 0.5 * g);
                    isNaN(b.top) || (b.top = c);
                    isNaN(b.bottom) || (b.bottom = n - c - d);
                    isNaN(b.verticalCenter) || (b.verticalCenter = 0.5 * d - 0.5 * n + c)
                }
            };
            return c
        }();
        d.LayoutUtil = f;
        f.prototype.__class__ =
            "egret.gui.LayoutUtil"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = {};
        g.getScale9Grid = function (c) {
            if (f[c])return f[c];
            if (!c)return null;
            var b = c.split(","), b = new d.Rectangle(parseInt(b[0]), parseInt(b[1]), parseInt(b[2]), parseInt(b[3]));
            return f[c] = b
        }
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        d.setProperties = function (d, c, b) {
            for (var a = c.length, e = 0; e < a; e++)d[c[e]] = b[e];
            return d
        }
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c(a) {
                void 0 === a && (a = 0.5);
                this._easeInFraction = 0.5;
                this.easeInFraction = a
            }

            var b = c.prototype;
            Object.defineProperty(b, "easeInFraction", {
                get: function () {
                    return this._easeInFraction
                }, set: function (a) {
                    this._easeInFraction = a
                }, enumerable: !0, configurable: !0
            });
            b.ease = function (a) {
                var e = 1 - this._easeInFraction;
                return a <= this._easeInFraction && 0 < this._easeInFraction ? this._easeInFraction * this._easeIn(a / this._easeInFraction) : this._easeInFraction + e * this._easeOut((a -
                this._easeInFraction) / e)
            };
            b._easeIn = function (a) {
                return a
            };
            b._easeOut = function (a) {
                return a
            };
            return c
        }();
        d.EaseInOutBase = f;
        f.prototype.__class__ = "egret.gui.EaseInOutBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c(a, e) {
                void 0 === a && (a = 0);
                void 0 === e && (e = 0);
                this._easeOutFraction = this._easeInFraction = 0;
                this.easeInFraction = a;
                this.easeOutFraction = e
            }

            var b = c.prototype;
            Object.defineProperty(b, "easeInFraction", {
                get: function () {
                    return this._easeInFraction
                }, set: function (a) {
                    this._easeInFraction = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "easeOutFraction", {
                get: function () {
                    return this._easeOutFraction
                }, set: function (a) {
                    this._easeOutFraction = a
                }, enumerable: !0,
                configurable: !0
            });
            b.ease = function (a) {
                if (0 == this.easeInFraction && 0 == this.easeOutFraction)return a;
                var e = 1 / (1 - this.easeInFraction / 2 - this.easeOutFraction / 2);
                return a < this.easeInFraction ? a / this.easeInFraction * e * a / 2 : a > 1 - this.easeOutFraction ? (a -= 1 - this.easeOutFraction, e * (1 - this.easeInFraction / 2 - this.easeOutFraction + a * (2 - a / this.easeOutFraction) / 2)) : e * (a - this.easeInFraction / 2)
            };
            return c
        }();
        d.Linear = f;
        f.prototype.__class__ = "egret.gui.Linear"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = 0.5);
                c.call(this, a)
            }

            __extends(b, c);
            var a = b.prototype;
            a._easeIn = function (a) {
                return 1 - Math.cos(a * Math.PI / 2)
            };
            a._easeOut = function (a) {
                return Math.sin(a * Math.PI / 2)
            };
            return b
        }(d.EaseInOutBase);
        d.Sine = f;
        f.prototype.__class__ = "egret.gui.Sine"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            var b = c.prototype;
            c.getInstance = function () {
                c.theInstance || (c.theInstance = new c);
                return c.theInstance
            };
            b.interpolate = function (a, e, b) {
                return 0 == a ? e : 1 == a ? b : e + a * (b - e)
            };
            b.increment = function (a, e) {
                return a + e
            };
            b.decrement = function (a, e) {
                return a - e
            };
            return c
        }();
        d.NumberInterpolator = f;
        f.prototype.__class__ = "egret.gui.NumberInterpolator"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            c.LOOP = "loop";
            c.REVERSE = "reverse";
            return c
        }();
        d.RepeatBehavior = f;
        f.prototype.__class__ = "egret.gui.RepeatBehavior"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c(b, a, e) {
                void 0 === b && (b = NaN);
                void 0 === a && (a = null);
                void 0 === e && (e = null);
                this.value = a;
                this.time = b;
                this.valueBy = e
            }

            c.prototype.clone = function () {
                var b = new c(this.time, this.value, this.valueBy);
                b.easer = this.easer;
                b._timeFraction = this._timeFraction;
                return b
            };
            return c
        }();
        d.Keyframe = f;
        f.prototype.__class__ = "egret.gui.Keyframe"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c(a) {
                void 0 === a && (a = null);
                this.interpolator = d.NumberInterpolator.getInstance();
                this.property = a
            }

            var b = c.prototype;
            b.clone = function () {
                var a = new c(this.property);
                a.interpolator = this.interpolator;
                if (null !== this.keyframes) {
                    a.keyframes = [];
                    for (var e = 0; e < this.keyframes.length; ++e)a.keyframes[e] = this.keyframes[e].clone()
                }
                return a
            };
            b._scaleKeyframes = function (a) {
                for (var e = this.keyframes.length, b = 0; b < e; ++b) {
                    var c = this.keyframes[b];
                    c._timeFraction = c.time / a
                }
            };
            b.getValue = function (a) {
                if (!this.keyframes)return null;
                var e = this.keyframes.length;
                if (2 == e && 1 == this.keyframes[1]._timeFraction) {
                    var b = null != this.keyframes[1].easer ? this.keyframes[1].easer.ease(a) : a;
                    return this.interpolator.interpolate(b, this.keyframes[0].value, this.keyframes[1].value)
                }
                isNaN(this.keyframes[0]._timeFraction) && this._scaleKeyframes(this.keyframes[this.keyframes.length - 1].time);
                for (var c = 0, b = this.keyframes[0].value, d = 1; d < e; ++d) {
                    var f = this.keyframes[d];
                    if (a >= c && a < f._timeFraction)return a =
                        (a - c) / (f._timeFraction - c), a = null != f.easer ? f.easer.ease(a) : a, this.interpolator.interpolate(a, b, f.value);
                    c = f._timeFraction;
                    b = f.value
                }
                return this.keyframes[e - 1].value
            };
            return c
        }();
        d.MotionPath = f;
        f.prototype.__class__ = "egret.gui.MotionPath"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a, b, f, C) {
                void 0 === a && (a = null);
                void 0 === b && (b = null);
                void 0 === f && (f = null);
                void 0 === C && (C = null);
                c.call(this);
                this.property = a;
                this.keyframes = [new d.Keyframe(0, b), new d.Keyframe(NaN, f, C)]
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "valueFrom", {
                get: function () {
                    return this.keyframes[0].value
                }, set: function (a) {
                    this.keyframes[0].value = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "valueTo", {
                get: function () {
                    return this.keyframes[this.keyframes.length -
                    1].value
                }, set: function (a) {
                    this.keyframes[this.keyframes.length - 1].value = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "valueBy", {
                get: function () {
                    return this.keyframes[this.keyframes.length - 1].valueBy
                }, set: function (a) {
                    this.keyframes[this.keyframes.length - 1].valueBy = a
                }, enumerable: !0, configurable: !0
            });
            return b
        }(d.MotionPath);
        d.SimpleMotionPath = f;
        f.prototype.__class__ = "egret.gui.SimpleMotionPath"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c(a, e) {
                this._easer = c.defaultEaser;
                this.repeatFunction = this.stopFunction = this.updateFunction = this.endFunction = this.startFunction = this.thisObject = null;
                this.id = -1;
                this.started = this._invertValues = this._doReverse = this._isPlaying = this._doSeek = !1;
                this.delayedStartTime = this.delayTime = -1;
                this._playheadTime = 0;
                this.duration = 500;
                this._repeatBehavior = g.RepeatBehavior.LOOP;
                this._repeatCount = 1;
                this._startDelay = this._repeatDelay = 0;
                this.interpolator = null;
                this._cycleTime =
                    0;
                this.updateFunction = a;
                this.thisObject = e
            }

            var b = c.prototype;
            Object.defineProperty(b, "easer", {
                get: function () {
                    return this._easer
                }, set: function (a) {
                    a || (a = c.defaultEaser);
                    this._easer = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "playheadTime", {
                get: function () {
                    return this._playheadTime + this.startDelay
                }, set: function (a) {
                    this._invertValues = !1;
                    this.seek(a, !0)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "isPlaying", {
                get: function () {
                    return this._isPlaying
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "repeatBehavior", {
                get: function () {
                    return this._repeatBehavior
                }, set: function (a) {
                    this._repeatBehavior = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "repeatCount", {
                get: function () {
                    return this._repeatCount
                }, set: function (a) {
                    this._repeatCount = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                }, set: function (a) {
                    this._repeatDelay = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "startDelay", {
                get: function () {
                    return this._startDelay
                },
                set: function (a) {
                    this._startDelay = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "cycleTime", {
                get: function () {
                    return this._cycleTime
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "cycleFraction", {
                get: function () {
                    return this._cycleFraction
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(b, "playReversed", {
                get: function () {
                    return this._playReversed
                }, set: function (a) {
                    this._isPlaying && this._invertValues != a && (this._invertValues = a, this.seek(this.duration - this._cycleTime, !0));
                    this._playReversed =
                        this._doReverse = a
                }, enumerable: !0, configurable: !0
            });
            c.addAnimation = function (a) {
                if (a.motionPaths && 0 < a.motionPaths.length && a.motionPaths[0] && ("width" == a.motionPaths[0].property || "height" == a.motionPaths[0].property)) {
                    c.activeAnimations.splice(0, 0, a);
                    a.id = 0;
                    for (var e = 1; e < c.activeAnimations.length; ++e)c.activeAnimations[e].id = e
                } else a.id = c.activeAnimations.length, c.activeAnimations.push(a);
                c.timer || (c.pulse(), c.timer = new d.Timer(c.TIMER_RESOLUTION), c.timer.addEventListener(d.TimerEvent.TIMER, c.timerHandler,
                    c), c.timer.start());
                c.intervalTime = c.currentTime;
                a.cycleStartTime = c.intervalTime
            };
            c.removeAnimationAt = function (a) {
                void 0 === a && (a = 0);
                if (0 <= a && a < c.activeAnimations.length) {
                    c.activeAnimations.splice(a, 1);
                    for (var e = c.activeAnimations.length; a < e; a++)c.activeAnimations[a].id--
                }
                c.stopTimerIfDone()
            };
            c.removeAnimation = function (a) {
                c.removeAnimationAt(a.id)
            };
            c.timerHandler = function (a) {
                c.intervalTime = c.pulse();
                for (a = 0; a < c.activeAnimations.length;) {
                    var e = !0, b = c.activeAnimations[a];
                    b && (e = !b.doInterval());
                    e && ++a
                }
                for (; 0 <
                       c.delayedStartAnims.length;)if (a = c.delayedStartAnims[0], a.delayedStartTime < c.currentTime)a.playReversed ? a.end() : a.start(); else break
            };
            b.doInterval = function () {
                var a = !1, e = !1;
                if (this._isPlaying || this._doSeek) {
                    var b = c.intervalTime - this.cycleStartTime;
                    this._playheadTime = c.intervalTime - this.startTime;
                    if (b >= this.duration) {
                        var f = 2;
                        0 < this.duration + this.repeatDelay && (f += Math.floor((this._playheadTime - this.duration) / (this.duration + this.repeatDelay)));
                        if (0 == this.repeatCount || f <= this.repeatCount)if (0 == this.repeatDelay)this._cycleTime =
                            b % this.duration, this.cycleStartTime = c.intervalTime - this._cycleTime, b = this._cycleTime, this.repeatBehavior == g.RepeatBehavior.REVERSE && (this._invertValues = 1 < this.repeatCount ? !(f % 2) : !this._invertValues), e = !0; else return this._doSeek ? (this._cycleTime = b % (this.duration + this.repeatDelay), this._cycleTime > this.duration && (this._cycleTime = this.duration), this.calculateValue(this._cycleTime), this.sendUpdateEvent()) : (this._cycleTime = this.duration, this.calculateValue(this._cycleTime), this.sendUpdateEvent(), c.removeAnimation(this),
                            a = new d.Timer(this.repeatDelay, 1), a.addEventListener(d.TimerEvent.TIMER, this.repeat, this), a.start()), !1; else b > this.duration && (this._playheadTime = b = this.duration)
                    }
                    this._cycleTime = b;
                    this.calculateValue(b);
                    b >= this.duration && !this._doSeek ? this.playReversed && 0 != this.startDelay ? (this.stopAnimation(), this.addToDelayedAnimations(this.startDelay)) : (this.end(), a = !0) : (e && this.sendAnimationEvent("repeatFunction"), this.sendUpdateEvent())
                }
                return a
            };
            b.sendUpdateEvent = function () {
                this.sendAnimationEvent("updateFunction")
            };
            b.sendAnimationEvent = function (a) {
                null != this[a] && this[a].call(this.thisObject, this)
            };
            b.calculateValue = function (a) {
                var e = 0;
                this.currentValue = {};
                if (0 == this.duration)for (e = 0; e < this.motionPaths.length; ++e)this.currentValue[this.motionPaths[e].property] = this._invertValues ? this.motionPaths[e].keyframes[0].value : this.motionPaths[e].keyframes[this.motionPaths[e].keyframes.length - 1].value; else if (this._invertValues && (a = this.duration - a), this._cycleFraction = this.easer.ease(a / this.duration), this.motionPaths)for (e =
                                                                                                                                                                                                                                                                                                                                                                                                                               0; e < this.motionPaths.length; ++e)this.currentValue[this.motionPaths[e].property] = this.motionPaths[e].getValue(this._cycleFraction)
            };
            b.removeFromDelayedAnimations = function () {
                if (0 <= this.delayedStartTime) {
                    for (var a = 0; a < c.delayedStartAnims.length; ++a)if (c.delayedStartAnims[a] == this) {
                        c.delayedStartAnims.splice(a, 1);
                        break
                    }
                    this.delayedStartTime = -1
                }
            };
            b.end = function () {
                0 < this.startDelay && 0 < c.delayedStartAnims.length && this.removeFromDelayedAnimations();
                this.started || this.sendAnimationEvent("startFunction");
                1 <
                this.repeatCount && "reverse" == this.repeatBehavior && 0 == this.repeatCount % 2 && (this._invertValues = !0);
                this._doReverse && 0 < this.startDelay || (this.calculateValue(this.duration), this.sendUpdateEvent());
                this.sendAnimationEvent("endFunction");
                this.isPlaying ? this.stopAnimation() : c.stopTimerIfDone()
            };
            c.stopTimerIfDone = function () {
                c.timer && 0 == c.activeAnimations.length && 0 == c.delayedStartAnims.length && (c.intervalTime = NaN, c.timer.reset(), c.timer = null)
            };
            b.addToDelayedAnimations = function (a) {
                c.timer || (c.pulse(), c.timer =
                    new d.Timer(c.TIMER_RESOLUTION), c.timer.addEventListener(d.TimerEvent.TIMER, c.timerHandler, c), c.timer.start());
                a = c.currentTime + a;
                for (var e = -1, b = 0; b < c.delayedStartAnims.length; ++b)if (a < c.delayedStartAnims[b].delayedStartTime) {
                    e = b;
                    break
                }
                0 <= e ? c.delayedStartAnims.splice(e, 0, this) : c.delayedStartAnims.push(this);
                this.delayedStartTime = a
            };
            b.play = function () {
                this.stopAnimation();
                for (var a = 0, e = 0, a = 0; a < this.motionPaths.length; ++a) {
                    var b = this.motionPaths[a].keyframes;
                    isNaN(b[0].time) ? b[0].time = 0 : 0 < b[0].time &&
                    (e = b[0].time, b.splice(0, 0, new g.Keyframe(0, null)), b.splice(1, 0, new g.Keyframe(e - 1, null)), this.playReversed && (b[0].value = b[2].value, b[1].value = b[2].value));
                    for (e = 1; e < b.length; ++e)isNaN(b[e].time) && (b[e].time = this.duration)
                }
                for (a = 0; a < this.motionPaths.length; ++a)this.motionPaths[a]._scaleKeyframes(this.duration);
                this._doReverse && (this._invertValues = !0);
                0 < this.startDelay && !this.playReversed ? this.addToDelayedAnimations(this.startDelay) : this.start()
            };
            b.seek = function (a, e) {
                void 0 === e && (e = !1);
                this.startTime =
                    this.cycleStartTime = c.intervalTime - a;
                this._doSeek = !0;
                if (!this._isPlaying || this.playReversed) {
                    var b = this._isPlaying;
                    c.intervalTime = c.currentTime;
                    if (e && 0 < this.startDelay && 0 <= this.delayedStartTime) {
                        this.removeFromDelayedAnimations();
                        b = a - this.startDelay;
                        this.playReversed && (b -= this.duration);
                        0 > b ? this.addToDelayedAnimations(this.startDelay - a) : (a -= this.startDelay, this.isPlaying || this.start(), this.startTime = this.cycleStartTime = c.intervalTime - a, this.doInterval(), this._doSeek = !1);
                        return
                    }
                    b || (this.sendAnimationEvent("startFunction"),
                        this.setupInterpolation());
                    this.startTime = this.cycleStartTime = c.intervalTime - a
                }
                this.doInterval();
                this._doSeek = !1
            };
            b.setupInterpolation = function () {
                if (this.interpolator && this.motionPaths)for (var a = 0; a < this.motionPaths.length; ++a)this.motionPaths[a].interpolator = this.interpolator
            };
            b.reverse = function () {
                this._isPlaying ? (this._doReverse = !1, this.seek(this.duration - this._cycleTime), this._invertValues = !this._invertValues) : this._doReverse = !this._doReverse
            };
            b.pause = function () {
                0 <= this.delayedStartTime && (this.delayTime =
                    this.delayedStartTime - c.currentTime, this.removeFromDelayedAnimations());
                this._isPlaying = !1
            };
            b.stopAnimation = function () {
                this.removeFromDelayedAnimations();
                0 <= this.id && (c.removeAnimationAt(this.id), this.id = -1, this._isPlaying = this._invertValues = !1)
            };
            b.stop = function () {
                this.stopAnimation();
                this.sendAnimationEvent("stopFunction")
            };
            b.resume = function () {
                this._isPlaying = !0;
                0 <= this.delayTime ? this.addToDelayedAnimations(this.delayTime) : (this.cycleStartTime = c.intervalTime - this._cycleTime, this.startTime = c.intervalTime -
                this._playheadTime, this._doReverse && (this.reverse(), this._doReverse = !1))
            };
            b.repeat = function (a) {
                this.repeatBehavior == g.RepeatBehavior.REVERSE && (this._invertValues = !this._invertValues);
                this.calculateValue(0);
                this.sendAnimationEvent("repeatFunction");
                this.sendUpdateEvent();
                c.addAnimation(this)
            };
            b.start = function (a) {
                a = 0;
                if (!this.playReversed && 0 <= this.delayedStartTime) {
                    var e = c.currentTime - this.delayedStartTime;
                    0 < e && (a = Math.min(e, this.duration));
                    this.removeFromDelayedAnimations()
                }
                this.sendAnimationEvent("startFunction");
                this.setupInterpolation();
                this.calculateValue(0);
                this.sendUpdateEvent();
                c.addAnimation(this);
                this.startTime = this.cycleStartTime;
                this._isPlaying = !0;
                0 < a && this.seek(a);
                this.started = !0
            };
            c.pulse = function () {
                if (0 > c.startTime)return c.startTime = d.getTimer(), c._currentTime = 0, c._currentTime;
                c._currentTime = d.getTimer() - c.startTime;
                return c._currentTime
            };
            Object.defineProperty(c, "currentTime", {
                get: function () {
                    return 0 > c._currentTime ? c.pulse() : c._currentTime
                }, enumerable: !0, configurable: !0
            });
            c.TIMER_RESOLUTION = 1E3 /
            60;
            c.defaultEaser = new g.Sine(0.5);
            c.intervalTime = NaN;
            c.activeAnimations = [];
            c.timer = null;
            c.delayedStartAnims = [];
            c.startTime = -1;
            c._currentTime = -1;
            return c
        }();
        g.Animation = f;
        f.prototype.__class__ = "egret.gui.Animation"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                c.call(this);
                this.delayElapsedTime = this.delayStartTime = 0;
                this.durationExplicitlySet = !1;
                this._playCount = 0;
                this._stopRepeat = !1;
                this._duration = 500;
                this._startDelay = this._repeatDelay = this._repeatCount = 0;
                this.target = a
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "_actualDuration", {
                get: function () {
                    var a = NaN;
                    0 < this.repeatCount && (a = this.duration * this.repeatCount + this.repeatDelay * (this.repeatCount - 1) + this.startDelay);
                    return a
                }, enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "duration", {
                get: function () {
                    return !this.durationExplicitlySet && this.parentCompositeEffectInstance ? this.parentCompositeEffectInstance.duration : this._duration
                }, set: function (a) {
                    this.durationExplicitlySet = !0;
                    this._duration = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "effect", {
                get: function () {
                    return this._effect
                }, set: function (a) {
                    this._effect = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    return Math.max(this._playCount -
                        1, 0) * (this.duration + this.repeatDelay) + (this.playReversed ? 0 : this.startDelay)
                }, set: function (a) {
                    this._setPlayheadTime(a)
                }, enumerable: !0, configurable: !0
            });
            a._setPlayheadTime = function (a) {
                this._delayTimer && this._delayTimer.running && (this._delayTimer.reset(), a < this.startDelay ? (this._delayTimer = new d.Timer(this.startDelay - a, 1), this.delayStartTime = d.getTimer(), this._delayTimer.addEventListener(d.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) : (this._playCount = 0, this.play()))
            };
            Object.defineProperty(a,
                "playReversed", {
                    get: function () {
                        return this._playReversed
                    }, set: function (a) {
                        this._setPlayReversed(a)
                    }, enumerable: !0, configurable: !0
                });
            a._setPlayReversed = function (a) {
                this._playReversed = a
            };
            Object.defineProperty(a, "repeatCount", {
                get: function () {
                    return this._repeatCount
                }, set: function (a) {
                    this._repeatCount = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                }, set: function (a) {
                    this._repeatDelay = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a,
                "startDelay", {
                    get: function () {
                        return this._startDelay
                    }, set: function (a) {
                        this._startDelay = a
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                }, set: function (a) {
                    this._target = a
                }, enumerable: !0, configurable: !0
            });
            a.startEffect = function () {
                0 < this.startDelay && !this.playReversed ? (this._delayTimer = new d.Timer(this.startDelay, 1), this.delayStartTime = d.getTimer(), this._delayTimer.addEventListener(d.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) :
                    this.play()
            };
            a.play = function () {
                this._playCount++;
                this.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_START, !1, !1, this));
                this.target && "dispatchEvent"in this.target && this.target.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_START, !1, !1, this))
            };
            a.pause = function () {
                this._delayTimer && this._delayTimer.running && !isNaN(this.delayStartTime) && (this._delayTimer.stop(), this.delayElapsedTime = d.getTimer() - this.delayStartTime)
            };
            a.stop = function () {
                this._delayTimer && this._delayTimer.reset();
                this._stopRepeat = !0;
                this.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_STOP, !1, !1, this));
                this.target && "dispatchEvent"in this.target && this.target.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_STOP, !1, !1, this));
                this.finishEffect()
            };
            a.resume = function () {
                !this._delayTimer || this._delayTimer.running || isNaN(this.delayElapsedTime) || (this._delayTimer.delay = this.playReversed ? this.delayElapsedTime : this._delayTimer.delay - this.delayElapsedTime, this.delayStartTime = d.getTimer(), this._delayTimer.start())
            };
            a.reverse =
                function () {
                    0 < this.repeatCount && (this._playCount = this.repeatCount - this._playCount + 1)
                };
            a.end = function () {
                this._delayTimer && this._delayTimer.reset();
                this._stopRepeat = !0;
                this.finishEffect()
            };
            a.finishEffect = function () {
                this._playCount = 0;
                this.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_END, !1, !1, this));
                this.target && "dispatchEvent"in this.target && this.target.dispatchEvent(new g.EffectEvent(g.EffectEvent.EFFECT_END, !1, !1, this))
            };
            a.finishRepeat = function () {
                !this._stopRepeat && 0 != this._playCount && (this._playCount <
                this.repeatCount || 0 == this.repeatCount) ? 0 < this.repeatDelay ? (this._delayTimer = new d.Timer(this.repeatDelay, 1), this.delayStartTime = d.getTimer(), this._delayTimer.addEventListener(d.TimerEvent.TIMER, this.delayTimerHandler, this), this._delayTimer.start()) : this.play() : this.finishEffect()
            };
            a._playWithNoDuration = function () {
                this.duration = 0;
                this.repeatCount = 1;
                this.startDelay = this.repeatDelay = 0;
                this.startEffect()
            };
            a.delayTimerHandler = function (a) {
                this._delayTimer.reset();
                this.delayElapsedTime = this.delayStartTime =
                    NaN;
                this.play()
            };
            return b
        }(d.EventDispatcher);
        g.EffectInstance = f;
        f.prototype.__class__ = "egret.gui.EffectInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c() {
            }

            c.transformAround = function (b, a, e, h, f, g) {
                void 0 === e && (e = null);
                void 0 === h && (h = NaN);
                void 0 === f && (f = NaN);
                void 0 === g && (g = NaN);
                if (null == e && null != a) {
                    d.Point.identity.x = a.x;
                    d.Point.identity.y = a.y;
                    var v = c.transformPointToParent(b, d.Point.identity)
                }
                isNaN(g) || (b.rotation = g);
                isNaN(h) || (b.scaleX = h);
                isNaN(f) || (b.scaleY = f);
                null == a ? null != e && (b.x = e.x, b.y = e.y) : (d.Point.identity.x = a.x, d.Point.identity.y = a.y, a = c.transformPointToParent(b, d.Point.identity), null !=
                e ? (b.x += e.x - a.x, b.y += e.y - a.y) : (b.x += v.x - a.x, b.y += v.y - a.y))
            };
            c.transformPointToParent = function (b, a) {
                void 0 === a && (a = null);
                var e = new d.Point;
                a && (e.x = a.x, e.y = a.y);
                b.parent && (b.localToGlobal(e.x, e.y, e), b.parent.globalToLocal(e.x, e.y, e));
                return e
            };
            return c
        }();
        g.TransformUtil = f;
        f.prototype.__class__ = "egret.gui.TransformUtil"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                c.call(this, a);
                this._activeEffectQueue = [];
                this._playheadTime = 0;
                this._childSets = []
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "_actualDuration", {
                get: function () {
                    var a = NaN;
                    0 < this.repeatCount && (a = this._durationWithoutRepeat * this.repeatCount + this.repeatDelay * (this.repeatCount - 1) + this.startDelay);
                    return a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    return this._playheadTime
                }, enumerable: !0,
                configurable: !0
            });
            a._setPlayheadTime = function (a) {
                this._timerAnimation ? this._timerAnimation.playheadTime = a : this._playheadTime = a;
                c.prototype._setPlayheadTime.call(this, a)
            };
            Object.defineProperty(a, "_durationWithoutRepeat", {
                get: function () {
                    return 0
                }, enumerable: !0, configurable: !0
            });
            a.play = function () {
                this._timerAnimation = new d.Animation(this.animationUpdate, this);
                this._timerAnimation.duration = this._durationWithoutRepeat;
                this._timerAnimation.motionPaths = [new d.SimpleMotionPath("timer", 0, 0)];
                this._timerAnimation.endFunction =
                    this.animationEnd;
                this._timerAnimation.play();
                c.prototype.play.call(this)
            };
            a.pause = function () {
                c.prototype.pause.call(this);
                this._timerAnimation && this._timerAnimation.pause()
            };
            a.stop = function () {
                c.prototype.stop.call(this);
                this._timerAnimation && this._timerAnimation.stop()
            };
            a.end = function () {
                c.prototype.end.call(this);
                this._timerAnimation && this._timerAnimation.end()
            };
            a.resume = function () {
                c.prototype.resume.call(this);
                this._timerAnimation && this._timerAnimation.resume()
            };
            a.reverse = function () {
                c.prototype.reverse.call(this);
                this._setPlayReversed(!this.playReversed);
                this._timerAnimation && this._timerAnimation.reverse()
            };
            a.finishEffect = function () {
                this._activeEffectQueue = null;
                c.prototype.finishEffect.call(this)
            };
            a.addChildSet = function (a) {
                if (a) {
                    var b = a.length;
                    if (0 < b) {
                        this._childSets ? this._childSets.push(a) : this._childSets = [a];
                        for (var c = 0; c < b; c++)a[c].addEventListener(d.EffectEvent.EFFECT_END, this._effectEndHandler, this), a[c].parentCompositeEffectInstance = this
                    }
                }
            };
            a._playWithNoDuration = function () {
                c.prototype._playWithNoDuration.call(this);
                this.end()
            };
            a.animationUpdate = function (a) {
                this._playheadTime = this._timerAnimation ? this._timerAnimation.playheadTime : this._playheadTime
            };
            a.animationEnd = function (a) {
                this._playheadTime = this._timerAnimation ? this._timerAnimation.playheadTime : this._playheadTime
            };
            a._onEffectEnd = function (a) {
            };
            a._effectEndHandler = function (a) {
                this._onEffectEnd(a.effectInstance)
            };
            return b
        }(d.EffectInstance);
        d.CompositeEffectInstance = f;
        f.prototype.__class__ = "egret.gui.CompositeEffectInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret =
{}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                c.call(this, a);
                this.isReversed = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "_durationWithoutRepeat", {
                get: function () {
                    for (var a = 0, b = this._childSets.length, c = 0; c < b; c++)a = Math.max(this._childSets[c][0]._actualDuration, a);
                    return a
                }, enumerable: !0, configurable: !0
            });
            a._setPlayheadTime = function (a) {
                this._setPlayheadTime(a);
                var b = this.effect.compositeDuration, c = b + this.startDelay + this.repeatDelay, d = b + this.repeatDelay, f = c + d * (this.repeatCount - 1);
                a <= c ? (a = Math.min(a - this.startDelay, b), this._playCount = 1) : a >= f && 0 != this.repeatCount ? (a = b, this._playCount = this.repeatCount) : (b = a - c, a = b % d, this._playCount = 1 + b / d);
                for (d = 0; d < this._childSets.length; d++)for (b = this._childSets[d], c = b.length, f = 0; f < c; f++)b[f].playheadTime = this.playReversed ? Math.max(0, a - (this._durationWithoutRepeat - b[f]._actualDuration)) : a;
                if (this.playReversed && null != this.replayEffectQueue && 0 < this.replayEffectQueue.length)for (a = this._durationWithoutRepeat - this.playheadTime, d = this.replayEffectQueue.length -
                1; 0 <= d; d--)b = this.replayEffectQueue[d], a <= b._actualDuration && (null == this._activeEffectQueue && (this._activeEffectQueue = []), this._activeEffectQueue.push(b), this.replayEffectQueue.splice(d, 1), b.playReversed = this.playReversed, b.startEffect())
            };
            a.play = function () {
                this.doneEffectQueue = [];
                this._activeEffectQueue = [];
                this.replayEffectQueue = [];
                c.prototype.play.call(this);
                for (var a = 0, b = 0, a = this._childSets.length, b = 0; b < a; b++)for (var d = this._childSets[b], f = d.length, g = 0; g < f && null != this._activeEffectQueue; g++) {
                    var n =
                        d[g];
                    this.playReversed && n._actualDuration < this._durationWithoutRepeat ? (this.replayEffectQueue.push(n), this.startTimer()) : (n.playReversed = this.playReversed, this._activeEffectQueue.push(n))
                }
                if (0 < this._activeEffectQueue.length)for (a = this._activeEffectQueue.slice(0), b = 0; b < a.length; b++)a[b].startEffect()
            };
            a.pause = function () {
                c.prototype.pause.call(this);
                if (this._activeEffectQueue)for (var a = this._activeEffectQueue.length, b = 0; b < a; b++)this._activeEffectQueue[b].pause()
            };
            a.stop = function () {
                this.stopTimer();
                if (this._activeEffectQueue) {
                    var a = this._activeEffectQueue.concat();
                    this._activeEffectQueue = null;
                    for (var b = a.length, d = 0; d < b; d++)a[d] && a[d].stop()
                }
                c.prototype.stop.call(this)
            };
            a.resume = function () {
                c.prototype.resume.call(this);
                if (this._activeEffectQueue)for (var a = this._activeEffectQueue.length, b = 0; b < a; b++)this._activeEffectQueue[b].resume()
            };
            a.reverse = function () {
                c.prototype.reverse.call(this);
                var a = 0, b = 0;
                if (this.isReversed) {
                    a = this._activeEffectQueue.length;
                    for (b = 0; b < a; b++)this._activeEffectQueue[b].reverse();
                    this.stopTimer()
                } else {
                    this.replayEffectQueue = this.doneEffectQueue.splice(0);
                    a = this._activeEffectQueue.length;
                    for (b = 0; b < a; b++)this._activeEffectQueue[b].reverse();
                    this.startTimer()
                }
                this.isReversed = !this.isReversed
            };
            a.end = function () {
                this._endEffectCalled = !0;
                this.stopTimer();
                if (this._activeEffectQueue) {
                    var a = this._activeEffectQueue.concat();
                    this._activeEffectQueue = null;
                    for (var b = a.length, d = 0; d < b; d++)a[d] && a[d].end()
                }
                c.prototype.end.call(this)
            };
            a._onEffectEnd = function (a) {
                if (!this._endEffectCalled && null !=
                    this._activeEffectQueue) {
                    for (var b = this._activeEffectQueue.length, c = 0; c < b; c++)if (a == this._activeEffectQueue[c]) {
                        this.doneEffectQueue.push(a);
                        this._activeEffectQueue.splice(c, 1);
                        break
                    }
                    1 == b && this.finishRepeat()
                }
            };
            a.startTimer = function () {
                this.timer || (this.timer = new d.Timer(10), this.timer.addEventListener(d.TimerEvent.TIMER, this.timerHandler, this));
                this.timer.start()
            };
            a.stopTimer = function () {
                this.timer && this.timer.reset()
            };
            a.timerHandler = function (a) {
                a = this._durationWithoutRepeat - this.playheadTime;
                var b =
                    this.replayEffectQueue.length;
                if (0 == b)this.stopTimer(); else for (b -= 1; 0 <= b; b--) {
                    var c = this.replayEffectQueue[b];
                    a <= c._actualDuration && (null == this._activeEffectQueue && (this._activeEffectQueue = []), this._activeEffectQueue.push(c), this.replayEffectQueue.splice(b, 1), c.playReversed = this.playReversed, c.startEffect())
                }
            };
            return b
        }(g.CompositeEffectInstance);
        g.ParallelInstance = f;
        f.prototype.__class__ = "egret.gui.ParallelInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                c.call(this, a);
                this.currentInstanceDuration = 0;
                this.currentSetIndex = -1;
                this.isPaused = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "_durationWithoutRepeat", {
                get: function () {
                    for (var a = 0, b = this._childSets.length, c = 0; c < b; c++)a += this._childSets[c][0]._actualDuration;
                    return a
                }, enumerable: !0, configurable: !0
            });
            a._setPlayheadTime = function (a) {
                this._setPlayheadTime(a);
                var b, c;
                b = 0;
                var d = this.effect.compositeDuration;
                b = d + this.startDelay + this.repeatDelay;
                var f = d + this.repeatDelay;
                c = b + f * (this.repeatCount - 1);
                a <= b ? (a = Math.min(a - this.startDelay, d), this._playCount = 1) : a >= c && 0 != this.repeatCount ? (a = d, this._playCount = this.repeatCount) : (b = a - b, a = Math.min(b % f, d), this._playCount = 1 + b / f);
                if (this._activeEffectQueue && 0 < this._activeEffectQueue.length) {
                    c = 0;
                    var g = this._activeEffectQueue.length;
                    for (b = 0; b < g; ++b) {
                        var f = this.playReversed ? g - 1 - b : b, d = c, k = c + this._childSets[f][0]._actualDuration;
                        c = k;
                        if (d <= a && a <= k) {
                            this._endEffectCalled = !0;
                            if (this.currentSetIndex == f)for (b = 0; b <
                            this.currentSet.length; b++)this.currentSet[b].playheadTime = a - d; else {
                                if (f < this.currentSetIndex)if (this.playReversed) {
                                    for (b = 0; b < this.currentSet.length; b++)this.currentSet[b].end();
                                    for (b = this.currentSetIndex - 1; b > f; --b)for (g = this._activeEffectQueue[b], c = 0; c < g.length; c++)this.playReversed && (g[c].playReversed = !0), g[c].play(), g[c].end()
                                } else {
                                    for (b = 0; b < this.currentSet.length; b++)this.currentSet[b].playheadTime = 0, this.currentSet[b].stop();
                                    for (b = this.currentSetIndex - 1; b > f; --b)for (g = this._activeEffectQueue[b],
                                                                                           c = 0; c < g.length; c++)g[c].play(), g[c].stop()
                                } else if (this.playReversed) {
                                    for (b = 0; b < this.currentSet.length; b++)this.currentSet[b].playheadTime = 0, this.currentSet[b].stop();
                                    for (c = this.currentSetIndex + 1; c < f; c++)for (g = this._activeEffectQueue[c], b = 0; b < g.length; b++)g[b].playheadTime = 0, g[b].stop()
                                } else {
                                    c = this.currentSet.concat();
                                    for (b = 0; b < c.length; b++)c[b].end();
                                    for (c = this.currentSetIndex + 1; c < f; c++)for (g = this._activeEffectQueue[c], b = 0; b < g.length; b++)g[b].play(), g[b].end()
                                }
                                this.currentSetIndex = f;
                                this.playCurrentChildSet();
                                for (c = 0; c < this.currentSet.length; c++)this.currentSet[c].playheadTime = a - d, this.isPaused && this.currentSet[c].pause()
                            }
                            this._endEffectCalled = !1;
                            break
                        }
                    }
                }
            };
            a.play = function () {
                this.isPaused = !1;
                this._activeEffectQueue = [];
                this.currentSetIndex = this.playReversed ? this._childSets.length : -1;
                for (var a = 0, b = 0, a = this._childSets.length, b = 0; b < a; b++)this._activeEffectQueue.push(this._childSets[b]);
                c.prototype.play.call(this);
                0 == this._activeEffectQueue.length ? this.finishRepeat() : this.playNextChildSet()
            };
            a.pause = function () {
                c.prototype.pause.call(this);
                this.isPaused = !0;
                if (this.currentSet && 0 < this.currentSet.length)for (var a = this.currentSet.length, b = 0; b < a; b++)this.currentSet[b].pause()
            };
            a.stop = function () {
                this.isPaused = !1;
                if (this._activeEffectQueue && 0 < this._activeEffectQueue.length) {
                    var a = this._activeEffectQueue.concat();
                    this._activeEffectQueue = null;
                    var b = a[this.currentSetIndex];
                    if (b)for (var d = b.length, f = 0; f < d; f++)b[f].stop();
                    b = a.length;
                    for (d = this.currentSetIndex + 1; d < b; d++)for (var f = a[d], g = f.length, n = 0; n < g; n++) {
                        var k = f[n];
                        k.effect.deleteInstance(k)
                    }
                }
                c.prototype.stop.call(this)
            };
            a.resume = function () {
                c.prototype.resume.call(this);
                this.isPaused = !1;
                if (this.currentSet && 0 < this.currentSet.length)for (var a = this.currentSet.length, b = 0; b < a; b++)this.currentSet[b].resume()
            };
            a.reverse = function () {
                c.prototype.reverse.call(this);
                if (this.currentSet && 0 < this.currentSet.length)for (var a = this.currentSet.length, b = 0; b < a; b++)this.currentSet[b].reverse()
            };
            a.end = function () {
                this._endEffectCalled = !0;
                if (this._activeEffectQueue && 0 < this._activeEffectQueue.length) {
                    var a = this._activeEffectQueue.concat();
                    this._activeEffectQueue = null;
                    var b = a[this.currentSetIndex];
                    if (b)for (var d = b.length, f = 0; f < d; f++)b[f].end();
                    b = a.length;
                    for (d = this.currentSetIndex + 1; d < b; d++)for (var f = a[d], g = f.length, n = 0; n < g; n++)f[n]._playWithNoDuration()
                }
                this.isPaused = !1;
                c.prototype.end.call(this)
            };
            a._onEffectEnd = function (a) {
                for (var b = 0; b < this.currentSet.length; b++)if (a == this.currentSet[b]) {
                    this.currentSet.splice(b, 1);
                    break
                }
                this._endEffectCalled || 0 == this.currentSet.length && !1 == this.playNextChildSet() && this.finishRepeat()
            };
            a.playCurrentChildSet =
                function () {
                    var a, b = this._activeEffectQueue[this.currentSetIndex];
                    this.currentSet = [];
                    for (var c = 0; c < b.length; c++)a = b[c], this.currentSet.push(a), a.playReversed = this.playReversed, a.startEffect();
                    this.currentInstanceDuration += a._actualDuration
                };
            a.playNextChildSet = function (a) {
                if (!this.playReversed) {
                    if (!this._activeEffectQueue || this.currentSetIndex++ >= this._activeEffectQueue.length - 1)return !1
                } else if (0 >= this.currentSetIndex--)return !1;
                this.playCurrentChildSet();
                return !0
            };
            return b
        }(d.CompositeEffectInstance);
        d.SequenceInstance = f;
        f.prototype.__class__ = "egret.gui.SequenceInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                c.call(this, a);
                this.isStyleMap = {};
                this.numUpdateListeners = this._seekTime = 0
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "motionPaths", {
                get: function () {
                    return this._motionPaths
                }, set: function (a) {
                    this._motionPaths || (this._motionPaths = a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "easer", {
                get: function () {
                    return this._easer
                }, set: function (a) {
                    this._easer = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "interpolator",
                {
                    get: function () {
                        return this._interpolator
                    }, set: function (a) {
                    this._interpolator = a
                }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "repeatBehavior", {
                get: function () {
                    return this._repeatBehavior
                }, set: function (a) {
                    this._repeatBehavior = a
                }, enumerable: !0, configurable: !0
            });
            a._setPlayReversed = function (a) {
                c.prototype._setPlayReversed.call(this, a);
                a && this.animation && this.animation.reverse();
                this.reverseAnimation = a
            };
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    return this.animation ? this.animation.playheadTime :
                        this._seekTime
                }, set: function (a) {
                    this.animation && (this.animation.playheadTime = a);
                    this._seekTime = a
                }, enumerable: !0, configurable: !0
            });
            a.pause = function () {
                c.prototype.pause.call(this);
                this.animation && this.animation.pause()
            };
            a.stop = function () {
                c.prototype.stop.call(this);
                this.animation && this.animation.stop()
            };
            a.resume = function () {
                c.prototype.resume.call(this);
                this.animation && this.animation.resume()
            };
            a.reverse = function () {
                c.prototype.reverse.call(this);
                this.animation && this.animation.reverse();
                this.reverseAnimation = !this.reverseAnimation
            };
            a.end = function () {
                this.animation && (this.animation.end(), this.animation = null);
                c.prototype.end.call(this)
            };
            a.startEffect = function () {
                this.play()
            };
            a.play = function () {
                c.prototype.play.call(this);
                if (this.motionPaths && 0 != this.motionPaths.length) {
                    this.isStyleMap = Array(this.motionPaths.length);
                    for (var a = 0, b = 0, a = 0; a < this.motionPaths.length; ++a) {
                        var b = this.motionPaths[a], f = b.keyframes;
                        if (f && (this.interpolator && (b.interpolator = this.interpolator), 0 < this.duration))for (b = 0; b < f.length; ++b)isNaN(f[b].time) ||
                        (this.duration = Math.max(this.duration, f[b].time))
                    }
                    this.animation = new g.Animation(this.animationUpdate, this);
                    this.animation.duration = this.duration;
                    this.animation.startFunction = this.animationStart;
                    this.animation.endFunction = this.animationEnd;
                    this.animation.stopFunction = this.animationStop;
                    this.animation.repeatFunction = this.animationRepeat;
                    this.animation.motionPaths = this.motionPaths;
                    this.reverseAnimation && (this.animation.playReversed = !0);
                    this.animation.interpolator = this.interpolator;
                    this.animation.repeatCount =
                        this.repeatCount;
                    this.animation.repeatDelay = this.repeatDelay;
                    this.animation.repeatBehavior = this.repeatBehavior;
                    this.animation.easer = this.easer;
                    this.animation.startDelay = this.startDelay;
                    this.animation.play();
                    0 < this._seekTime && (this.animation.playheadTime = this._seekTime)
                } else a = new d.Timer(this.duration, 1), a.addEventListener(d.TimerEvent.TIMER, this.noopAnimationHandler, this), a.start()
            };
            a.applyValues = function (a) {
                for (var b = 0; b < this.motionPaths.length; ++b) {
                    var c = this.motionPaths[b].property;
                    this.setValue(c,
                        a.currentValue[c])
                }
            };
            a._isValidValue = function (a) {
                return "number" == typeof a && !isNaN(a) || "number" != typeof a && null !== a
            };
            a.finalizeValues = function () {
                for (var a = 0, b, c = 0; c < this.motionPaths.length; ++c) {
                    var d = this.motionPaths[c], f = d.keyframes;
                    if (f && 0 != f.length)for (this._isValidValue(f[0].value) || (0 < f.length && this._isValidValue(f[1].valueBy) && this._isValidValue(f[1].value) ? f[0].value = d.interpolator.decrement(f[1].value, f[1].valueBy) : f[0].value = this.getCurrentValue(d.property)), b = f[0].value, a = 1; a < f.length; ++a) {
                        var g =
                            f[a];
                        this._isValidValue(g.value) || (this._isValidValue(g.valueBy) ? g.value = d.interpolator.increment(b, g.valueBy) : a <= f.length - 2 && this._isValidValue(f[a + 1].value) && this._isValidValue(f[a + 1].valueBy) ? g.value = d.interpolator.decrement(f[a + 1].value, f[a + 1].valueBy) : g.value = b);
                        b = g.value
                    }
                }
            };
            a.animationStart = function (a) {
                if (this.disableLayout)this.cacheConstraints(); else if (this.disabledConstraintsMap) {
                    for (var b in this.disabledConstraintsMap)this.cacheConstraint(b);
                    this.disabledConstraintsMap = null
                }
                this.finalizeValues()
            };
            a.animationUpdate = function (a) {
                this.applyValues(a);
                0 < this.numUpdateListeners && (a = new g.EffectEvent(g.EffectEvent.EFFECT_UPDATE), a.effectInstance = this, this.dispatchEvent(a))
            };
            a.animationRepeat = function (a) {
                a = new g.EffectEvent(g.EffectEvent.EFFECT_REPEAT);
                a.effectInstance = this;
                this.dispatchEvent(a)
            };
            a.animationCleanup = function () {
                this.disableLayout && this.reenableConstraints()
            };
            a.animationEnd = function (a) {
                this.animationCleanup();
                this.finishEffect()
            };
            a.animationStop = function (a) {
                this.animationCleanup()
            };
            a.noopAnimationHandler =
                function (a) {
                    this.finishEffect()
                };
            a.addEventListener = function (a, b, d, f, v) {
                void 0 === f && (f = !1);
                void 0 === v && (v = 0);
                c.prototype.addEventListener.call(this, a, b, d, f, v);
                a == g.EffectEvent.EFFECT_UPDATE && ++this.numUpdateListeners
            };
            a.removeEventListener = function (a, b, d) {
                void 0 === d && (d = !1);
                c.prototype.removeEventListener.call(this, a, b, this, d);
                a == g.EffectEvent.EFFECT_UPDATE && --this.numUpdateListeners
            };
            a.reenableConstraint = function (a) {
                var b = this.constraintsHolder[a];
                void 0 !== b && (a in this.target ? this.target[a] = b : this.target.setStyle(a,
                    b), delete this.constraintsHolder[a]);
                return b
            };
            a.reenableConstraints = function () {
                if (this.constraintsHolder) {
                    var a = this.reenableConstraint("left"), b = this.reenableConstraint("right"), c = this.reenableConstraint("top"), d = this.reenableConstraint("bottom");
                    this.reenableConstraint("horizontalCenter");
                    this.reenableConstraint("verticalCenter");
                    this.constraintsHolder = null;
                    void 0 != a && void 0 != b && "explicitWidth"in this.target && (this.target.width = this.oldWidth);
                    void 0 != c && void 0 != d && "explicitHeight"in this.target &&
                    (this.target.height = this.oldHeight)
                }
            };
            a.cacheConstraint = function (a) {
                var b = a in this.target, c;
                c = b ? this.target[a] : this.target.getStyle(a);
                isNaN(c) || null == c || (this.constraintsHolder || (this.constraintsHolder = {}), this.constraintsHolder[a] = c, b ? this.target[a] = NaN : "setStyle"in this.target && this.target.setStyle(a, void 0));
                return c
            };
            a.cacheConstraints = function () {
                var a = this.cacheConstraint("left"), b = this.cacheConstraint("right"), c = this.cacheConstraint("top"), d = this.cacheConstraint("bottom");
                this.cacheConstraint("verticalCenter");
                this.cacheConstraint("horizontalCenter");
                void 0 != a && void 0 != b && "explicitWidth"in this.target && (a = this.target.width, this.oldWidth = this.target.explicitWidth, this.target.width = a);
                void 0 != c && void 0 != d && "explicitHeight"in this.target && (c = this.target.height, this.oldHeight = this.target.explicitHeight, this.target.height = c)
            };
            a._setupStyleMapEntry = function (a) {
                if (void 0 == this.isStyleMap[a])if (a in this.target)this.isStyleMap[a] = !1; else try {
                    this.target.getStyle(a), this.isStyleMap[a] = !0
                } catch (b) {
                    d.$error(3014)
                }
            };
            a.setValue = function (a, b) {
                this._setupStyleMapEntry(a);
                this.isStyleMap[a] ? this.target.setStyle(a, b) : this.target[a] = b
            };
            a.getCurrentValue = function (a) {
                this._setupStyleMapEntry(a);
                return this.isStyleMap[a] ? this.target.getStyle(a) : this.target[a]
            };
            return b
        }(g.EffectInstance);
        g.AnimateInstance = f;
        f.prototype.__class__ = "egret.gui.AnimateInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                c.call(this, a);
                this.started = !1;
                this.instanceStartTime = 0;
                this.currentValues = {rotation: NaN, scaleX: NaN, scaleY: NaN, translationX: NaN, translationY: NaN};
                this.initialized = !1
            }

            __extends(b, c);
            var a = b.prototype;
            a.startEffect = function () {
                this.started || (this.started = !0, c.prototype.startEffect.call(this))
            };
            a.insertKeyframe = function (a, b, c, d) {
                void 0 === c && (c = 0);
                void 0 === d && (d = !1);
                b.time += c;
                for (c = 0; c < a.length; c++)if (a[c].time >= b.time) {
                    a[c].time == b.time ? d ? (b.time +=
                        0.01, a.splice(c + 1, 0, b)) : (b.time -= 0.01, a.splice(c, 0, b)) : a.splice(c, 0, b);
                    return
                }
                a.push(b)
            };
            a.addMotionPath = function (a, b) {
                void 0 === b && (b = 0);
                var c = !1;
                if (this.motionPaths) {
                    var d = 0, f = 0, g, k = this.motionPaths.length;
                    if (b < this.instanceStartTime) {
                        for (var l = this.instanceStartTime - b, d = 0; d < k; d++)for (g = this.motionPaths[d], f = 0; f < g.keyframes.length; f++)g.keyframes[f].time += l;
                        this.instanceStartTime = b
                    }
                    for (d = 0; d < k; d++)if (g = this.motionPaths[d], g.property == a.property) {
                        for (f = 0; f < a.keyframes.length; f++)this.insertKeyframe(g.keyframes,
                            a.keyframes[f], b - this.instanceStartTime, 0 == f);
                        c = !0;
                        break
                    }
                } else this.motionPaths = [], this.instanceStartTime = b;
                if (!c) {
                    if (b > this.instanceStartTime)for (f = 0; f < a.keyframes.length; f++)a.keyframes[f].time += b - this.instanceStartTime;
                    this.motionPaths.push(a)
                }
                k = this.motionPaths.length;
                for (d = 0; d < k; d++)g = this.motionPaths[d], c = g.keyframes[g.keyframes.length - 1], isNaN(c.time) || (this.duration = Math.max(this.duration, c.time))
            };
            a.play = function () {
                if (this.motionPaths) {
                    var a = 0, b = 0;
                    this.updateTransformCenter();
                    for (var d = 0 !=
                        this.transformCenter.x || 0 != this.transformCenter.y, a = 0; a < this.motionPaths.length; ++a) {
                        var f = this.motionPaths[a];
                        if (d && ("translationX" == f.property || "translationY" == f.property))for (b = 0; b < f.keyframes.length; ++b) {
                            var g = f.keyframes[b];
                            this._isValidValue(g.value) && (g.value = "translationX" == f.property ? g.value + this.transformCenter.x : g.value + this.transformCenter.y)
                        }
                    }
                }
                c.prototype.play.call(this)
            };
            a.animationEnd = function (a) {
                this.started = !1;
                c.prototype.animationEnd.call(this, a)
            };
            a.updateTransformCenter = function () {
                this.transformCenter ||
                (this.transformCenter = new d.Point(0, 0));
                this.autoCenterTransform && (this.transformCenter.x = this.target.width / 2, this.transformCenter.y = this.target.height / 2)
            };
            a.getCurrentValue = function (a) {
                switch (a) {
                    case "translationX":
                    case "translationY":
                        this.updateTransformCenter();
                        var b = g.TransformUtil.transformPointToParent(this.target, this.transformCenter);
                        if ("translationX" == a)return b.x;
                        if ("translationY" == a)return b.y;
                        break;
                    default:
                        return c.prototype.getCurrentValue.call(this, a)
                }
            };
            a.applyValues = function (a) {
                var c,
                    d;
                for (c = 0; c < this.motionPaths.length; ++c)void 0 !== this.currentValues[this.motionPaths[c].property] ? this.currentValues[this.motionPaths[c].property] = a.currentValue[this.motionPaths[c].property] : this.setValue(this.motionPaths[c].property, a.currentValue[this.motionPaths[c].property]);
                d = isNaN(this.currentValues.rotation) ? this.getCurrentValue("rotation") : this.currentValues.rotation;
                a = isNaN(this.currentValues.scaleX) ? this.getCurrentValue("scaleX") : this.currentValues.scaleX;
                c = isNaN(this.currentValues.scaleY) ?
                    this.getCurrentValue("scaleY") : this.currentValues.scaleY;
                b.position.x = isNaN(this.currentValues.translationX) ? this.getCurrentValue("translationX") : this.currentValues.translationX;
                b.position.y = isNaN(this.currentValues.translationY) ? this.getCurrentValue("translationY") : this.currentValues.translationY;
                this.lastTranslationPoint || (this.lastTranslationPoint = b.position.clone());
                isNaN(this.currentValues.translationX) && 0.1 > Math.abs(b.position.x - this.lastTranslationPoint.x) && (b.position.x = this.lastTranslationPoint.x);
                isNaN(this.currentValues.translationY) && 0.1 > Math.abs(b.position.y - this.lastTranslationPoint.y) && (b.position.y = this.lastTranslationPoint.y);
                this.lastTranslationPoint.x = b.position.x;
                this.lastTranslationPoint.y = b.position.y;
                g.TransformUtil.transformAround(this.target, this.transformCenter, b.position, a, c, d)
            };
            b.position = new d.Point;
            return b
        }(g.AnimateInstance);
        g.AnimateTransformInstance = f;
        f.prototype.__class__ = "egret.gui.AnimateTransformInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                c.call(this, a)
            }

            __extends(b, c);
            b.prototype.play = function () {
                var a = this.alphaFrom, b = this.alphaTo;
                "visible"in this.target && !this.target.visible && (isNaN(a) && (a = this.target.alpha), isNaN(b) && (b = this.target.alpha), 0 == a && 0 != b && (this.target.alpha = 0, this.target.visible = !0));
                this.motionPaths = [new d.MotionPath("alpha")];
                this.motionPaths[0].keyframes = [new d.Keyframe(0, this.alphaFrom), new d.Keyframe(this.duration, this.alphaTo)];
                c.prototype.play.call(this)
            };
            return b
        }(d.AnimateInstance);
        d.FadeInstance = f;
        f.prototype.__class__ = "egret.gui.FadeInstance"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this);
                this._instances = [];
                this._isPaused = !1;
                this._duration = 500;
                this.durationExplicitlySet = !1;
                this._perElementOffset = 0;
                this.repeatCount = 1;
                this.startDelay = this.repeatDelay = 0;
                this._targets = [];
                this._playheadTime = 0;
                this.target = a
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "duration", {
                get: function () {
                    return !this.durationExplicitlySet && this._parentCompositeEffect ? this._parentCompositeEffect.duration : this._duration
                },
                set: function (a) {
                    this.durationExplicitlySet = !0;
                    this._duration = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "isPlaying", {
                get: function () {
                    return this._instances && 0 < this._instances.length
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "isPaused", {
                get: function () {
                    return this.isPlaying ? this._isPaused : !1
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "perElementOffset", {
                get: function () {
                    return this._perElementOffset
                }, set: function (a) {
                    this._perElementOffset = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "target", {
                get: function () {
                    return 0 < this._targets.length ? this._targets[0] : null
                }, set: function (a) {
                    this._targets.splice(0);
                    a && (this._targets[0] = a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "targets", {
                get: function () {
                    return this._targets
                }, set: function (a) {
                    for (var b = a.length - 1; 0 <= b; b--)null == a[b] && a.splice(b, 1);
                    this._targets = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "playheadTime", {
                get: function () {
                    for (var a = 0; a < this._instances.length; a++)if (this._instances[a])return this._instances[a].playheadTime;
                    return this._playheadTime
                }, set: function (a) {
                    var b = !1;
                    0 == this._instances.length && (this.play(), b = !0);
                    for (var c = 0; c < this._instances.length; c++)this._instances[c] && (this._instances[c].playheadTime = a);
                    b && this.pause();
                    this._playheadTime = a
                }, enumerable: !0, configurable: !0
            });
            a.createInstances = function (a) {
                void 0 === a && (a = null);
                a || (a = this.targets);
                for (var b = [], c = 0, d = a.length, f = 0; f < d; f++) {
                    var g = this.createInstance(a[f]);
                    g && (g.startDelay += c, c += this.perElementOffset, b.push(g))
                }
                return b
            };
            a.createInstance = function (a) {
                void 0 ===
                a && (a = null);
                a || (a = this.target);
                a = new this.instanceClass(a);
                this._initInstance(a);
                a.addEventListener(g.EffectEvent.EFFECT_START, this._effectStartHandler, this);
                a.addEventListener(g.EffectEvent.EFFECT_STOP, this._effectStopHandler, this);
                a.addEventListener(g.EffectEvent.EFFECT_END, this._effectEndHandler, this);
                this._instances.push(a);
                return a
            };
            a._initInstance = function (a) {
                a.duration = this.duration;
                a.durationExplicitlySet = this.durationExplicitlySet;
                a.effect = this;
                a.repeatCount = this.repeatCount;
                a.repeatDelay =
                    this.repeatDelay;
                a.startDelay = this.startDelay
            };
            a.deleteInstance = function (a) {
                a.removeEventListener(g.EffectEvent.EFFECT_START, this._effectStartHandler, this);
                a.removeEventListener(g.EffectEvent.EFFECT_STOP, this._effectStopHandler, this);
                a.removeEventListener(g.EffectEvent.EFFECT_END, this._effectEndHandler, this);
                for (var b = this._instances.length, c = 0; c < b; c++)this._instances[c] === a && this._instances.splice(c, 1)
            };
            a.play = function (a, b) {
                void 0 === a && (a = null);
                void 0 === b && (b = !1);
                this._isPaused = this.effectStopped = !1;
                this.playReversed = b;
                for (var c = this.createInstances(a), d = c.length, f = 0; f < d; f++) {
                    var g = c[f];
                    g.playReversed = b;
                    g.startEffect()
                }
                return c
            };
            a.pause = function () {
                if (this.isPlaying && !this._isPaused) {
                    this._isPaused = !0;
                    for (var a = this._instances.length, b = 0; b < a; b++)this._instances[b].pause()
                }
            };
            a.stop = function () {
                for (var a = this._instances.length - 1; 0 <= a; a--) {
                    var b = this._instances[a];
                    b && b.stop()
                }
            };
            a.resume = function () {
                if (this.isPlaying && this._isPaused) {
                    this._isPaused = !1;
                    for (var a = this._instances.length, b = 0; b < a; b++)this._instances[b].resume()
                }
            };
            a.reverse = function () {
                if (this.isPlaying)for (var a = this._instances.length, b = 0; b < a; b++)this._instances[b].reverse()
            };
            a.end = function (a) {
                void 0 === a && (a = null);
                if (a)a.end(); else for (a = this._instances.length - 1; 0 <= a; a--) {
                    var b = this._instances[a];
                    b && b.end()
                }
            };
            a._effectStartHandler = function (a) {
                this.dispatchEvent(a)
            };
            a._effectStopHandler = function (a) {
                this.dispatchEvent(a);
                this.effectStopped = !0
            };
            a._effectEndHandler = function (a) {
                this.deleteInstance(a.effectInstance);
                this.dispatchEvent(a)
            };
            return b
        }(d.EventDispatcher);
        g.Effect = f;
        f.prototype.__class__ = "egret.gui.Effect"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this._children = [];
                this.instanceClass = d.CompositeEffectInstance
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "children", {
                get: function () {
                    return this._children
                }, set: function (a) {
                    var b = 0;
                    if (this._children)for (b = 0; b < this._children.length; ++b)this._children[b] && (this._children[b]._parentCompositeEffect = null);
                    if (this._children = a)for (b = 0; b < this._children.length; ++b)this._children[b] && (this._children[b]._parentCompositeEffect =
                        this)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "compositeDuration", {
                get: function () {
                    return this.duration
                }, enumerable: !0, configurable: !0
            });
            a.createInstance = function (a) {
                void 0 === a && (a = null);
                this.childTargets || (this.childTargets = [a]);
                a = c.prototype.createInstance.call(this, a);
                this.childTargets = null;
                return a
            };
            a.createInstances = function (a) {
                void 0 === a && (a = null);
                a || (a = this.targets);
                this.childTargets = a;
                a = this.createInstance();
                this.childTargets = null;
                return a ? [a] : []
            };
            a._initInstance = function (a) {
                c.prototype._initInstance.call(this,
                    a);
                var b = this.childTargets;
                b instanceof Array || (b = [b]);
                if (this.children)for (var d = this.children.length, f = 0; f < d; f++) {
                    var g = this.children[f];
                    0 == g.targets.length ? a.addChildSet(this.children[f].createInstances(b)) : a.addChildSet(this.children[f].createInstances(g.targets))
                }
            };
            a.addChild = function (a) {
                this.children.push(a);
                a._parentCompositeEffect = this
            };
            return b
        }(d.Effect);
        d.CompositeEffect = f;
        f.prototype.__class__ = "egret.gui.CompositeEffect"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.ParallelInstance
            }

            __extends(b, c);
            Object.defineProperty(b.prototype, "compositeDuration", {
                get: function () {
                    for (var a = 0, b = 0; b < this.children.length; ++b) {
                        var c, f = this.children[b];
                        c = f instanceof d.CompositeEffect ? f.compositeDuration : f.duration;
                        c = c * f.repeatCount + f.repeatDelay * (f.repeatCount - 1) + f.startDelay;
                        a = Math.max(a, c)
                    }
                    return a
                }, enumerable: !0, configurable: !0
            });
            return b
        }(d.CompositeEffect);
        d.Parallel =
            f;
        f.prototype.__class__ = "egret.gui.Parallel"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.SequenceInstance
            }

            __extends(b, c);
            Object.defineProperty(b.prototype, "compositeDuration", {
                get: function () {
                    for (var a = 0, b = 0; b < this.children.length; ++b) {
                        var c, f = this.children[b];
                        c = f instanceof d.CompositeEffect ? f.compositeDuration : f.duration;
                        c = c * f.repeatCount + f.repeatDelay * (f.repeatCount - 1) + f.startDelay;
                        a += c
                    }
                    return a
                }, enumerable: !0, configurable: !0
            });
            return b
        }(d.CompositeEffect);
        d.Sequence = f;
        f.prototype.__class__ = "egret.gui.Sequence"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.numUpdateListeners = 0;
                this._interpolator = null;
                this._repeatBehavior = d.RepeatBehavior.LOOP;
                this._disableLayout = !1;
                this.instanceClass = d.AnimateInstance
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "motionPaths", {
                get: function () {
                    return this._motionPaths
                }, set: function (a) {
                    this._motionPaths = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "easer", {
                get: function () {
                    return this._easer
                }, set: function (a) {
                    this._easer =
                        a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "interpolator", {
                get: function () {
                    return this._interpolator
                }, set: function (a) {
                    this._interpolator = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "repeatBehavior", {
                get: function () {
                    return this._repeatBehavior
                }, set: function (a) {
                    this._repeatBehavior = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "disableLayout", {
                get: function () {
                    return this._disableLayout
                }, set: function (a) {
                    this._disableLayout = a
                }, enumerable: !0, configurable: !0
            });
            a._initInstance =
                function (a) {
                    c.prototype._initInstance.call(this, a);
                    a.addEventListener(d.EffectEvent.EFFECT_REPEAT, this.animationEventHandler, this);
                    0 < this.numUpdateListeners && a.addEventListener(d.EffectEvent.EFFECT_UPDATE, this.animationEventHandler, this);
                    a.easer = this.easer;
                    this.interpolator && (a.interpolator = this.interpolator);
                    isNaN(this.repeatCount) && (a.repeatCount = this.repeatCount);
                    a.repeatBehavior = this.repeatBehavior;
                    a.disableLayout = this.disableLayout;
                    if (this.motionPaths) {
                        a.motionPaths = [];
                        for (var b = 0; b < this.motionPaths.length; ++b)a.motionPaths[b] =
                            this.motionPaths[b].clone()
                    }
                };
            a.addEventListener = function (a, b, f, C, v) {
                void 0 === C && (C = !1);
                void 0 === v && (v = 0);
                c.prototype.addEventListener.call(this, a, b, f, C, v);
                a == d.EffectEvent.EFFECT_UPDATE && ++this.numUpdateListeners
            };
            a.removeEventListener = function (a, b, f) {
                void 0 === f && (f = !1);
                c.prototype.removeEventListener.call(this, a, b, this, f);
                a == d.EffectEvent.EFFECT_UPDATE && --this.numUpdateListeners
            };
            a.animationEventHandler = function (a) {
                this.dispatchEvent(a)
            };
            return b
        }(d.Effect);
        d.Animate = f;
        f.prototype.__class__ = "egret.gui.Animate"
    })(d.gui ||
    (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.autoCenterTransform = !1;
                this.instanceClass = g.AnimateTransformInstance
            }

            __extends(b, c);
            var a = b.prototype;
            a.getOwningParallelEffect = function () {
                for (var a = null, b = this._parentCompositeEffect; b && !(b instanceof g.Sequence);)a = b, b = b._parentCompositeEffect;
                return a
            };
            a.createInstance = function (a) {
                void 0 === a && (a = null);
                a || (a = this.target);
                var d = null, f = this.getOwningParallelEffect();
                null != f && (d = b.getSharedInstance(f,
                    a));
                if (d)return this._initInstance(d), null;
                d = c.prototype.createInstance.call(this, a);
                f && b.storeSharedInstance(f, a, d);
                return d
            };
            a._effectStartHandler = function (a) {
                c.prototype._effectStartHandler.call(this, a);
                var d = this.getOwningParallelEffect();
                null != d && b.removeSharedInstance(d, a.effectInstance.target)
            };
            a.computeTransformCenterForTarget = function (a, b) {
                void 0 === b && (b = null);
                var c;
                this.autoCenterTransform ? c = new d.Point((null != b && void 0 !== b.width ? b.width : a.width) / 2, (null != b && void 0 !== b.height ? b.height : a.height) /
                2) : (c = new d.Point(0, 0), isNaN(this.transformX) || (c.x = this.transformX), isNaN(this.transformY) || (c.y = this.transformY));
                return c
            };
            a.insertKeyframe = function (a, b) {
                for (var c = 0; c < a.length; c++)if (a[c].time > b.time) {
                    a.splice(c, 0, b);
                    return
                }
                a.push(b)
            };
            a._addMotionPath = function (a, b, c, d) {
                void 0 === b && (b = NaN);
                void 0 === c && (c = NaN);
                void 0 === d && (d = NaN);
                isNaN(b) && (isNaN(c) || isNaN(d) || (b = c - d));
                a = new g.MotionPath(a);
                a.keyframes = [new g.Keyframe(0, b), new g.Keyframe(this.duration, c, d)];
                a.keyframes[1].easer = this.easer;
                if (this.motionPaths)for (c =
                                              this.motionPaths.length, d = 0; d < c; d++) {
                    if (b = this.motionPaths[d], b.property == a.property) {
                        for (c = 0; c < a.keyframes.length; c++)this.insertKeyframe(b.keyframes, a.keyframes[c]);
                        return
                    }
                } else this.motionPaths = [];
                this.motionPaths.push(a)
            };
            a._initInstance = function (a) {
                var f = 0, g = this.duration;
                if (this.motionPaths) {
                    for (var C = [], f = 0; f < this.motionPaths.length; ++f) {
                        C[f] = this.motionPaths[f].clone();
                        var v = C[f];
                        if (v.keyframes) {
                            for (var n = 0; n < v.keyframes.length; ++n) {
                                var k = v.keyframes[n];
                                isNaN(k.time) && (k.time = this.duration);
                                0 != this.startDelay && (k.time += this.startDelay)
                            }
                            g = Math.max(g, v.keyframes[v.keyframes.length - 1].time)
                        }
                    }
                    v = this.getGlobalStartTime();
                    for (f = 0; f < C.length; ++f)a.addMotionPath(C[f], v)
                }
                a.initialized || (a.initialized = !0, this.autoCenterTransform || (a.transformCenter = this.computeTransformCenterForTarget(a.target)), a.autoCenterTransform = this.autoCenterTransform, f = this.startDelay, this.startDelay = 0, C = this.motionPaths, this.motionPaths = null, c.prototype._initInstance.call(this, a), this.startDelay = f, this.motionPaths = C,
                    a.duration = Math.max(this.duration, g), d.getQualifiedClassName(this) != d.getQualifiedClassName(b) && (a.easer = b.linearEaser))
            };
            a.getGlobalStartTime = function () {
                for (var a = 0, b = this._parentCompositeEffect; b;) {
                    a += b.startDelay;
                    if (b instanceof g.Sequence)for (var c = b, d = 0; d < c.children.length; ++d) {
                        var f = c.children[d];
                        if (f == this)break;
                        a = f instanceof g.CompositeEffect ? a + f.compositeDuration : a + (f.startDelay + f.duration * f.repeatCount + (f.repeatDelay + (f.repeatCount - 1)))
                    }
                    b = b._parentCompositeEffect
                }
                return a
            };
            b.getSharedInstance =
                function (a, c) {
                    if (null != a) {
                        var d = b.sharedObjectMaps[a.hashCode];
                        if (null != d)return d[c.hashCode]
                    }
                    return null
                };
            b.removeSharedInstance = function (a, c) {
                if (null != a) {
                    var d = b.sharedObjectMaps[a.hashCode];
                    d && d[c.hashCode] && (delete d[c.hashCode], b.sharedObjectRefcounts[a.hashCode] -= 1, 0 >= b.sharedObjectRefcounts[a.hashCode] && (delete b.sharedObjectMaps[a.hashCode], delete b.sharedObjectRefcounts[a.hashCode]))
                }
            };
            b.storeSharedInstance = function (a, c, d) {
                if (null != a) {
                    var f = b.sharedObjectMaps[a.hashCode];
                    f || (f = {}, b.sharedObjectMaps[a.hashCode] =
                        f);
                    f[c.hashCode] || (b.sharedObjectRefcounts[a.hashCode] = b.sharedObjectRefcounts[a.hashCode] ? b.sharedObjectRefcounts[a.hashCode] + 1 : 1);
                    f[c.hashCode] = d
                }
            };
            b.linearEaser = new g.Linear;
            b.sharedObjectMaps = {};
            b.sharedObjectRefcounts = {};
            return b
        }(g.Animate);
        g.AnimateTransform = f;
        f.prototype.__class__ = "egret.gui.AnimateTransform"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.AnimateTransformInstance
            }

            __extends(b, c);
            var a = b.prototype;
            a.createInstance = function (a) {
                void 0 === a && (a = null);
                this.motionPaths = [];
                return c.prototype.createInstance.call(this, a)
            };
            a._initInstance = function (a) {
                this._addMotionPath("translationX", this.xFrom, this.xTo, this.xBy);
                this._addMotionPath("translationY", this.yFrom, this.yTo, this.yBy);
                c.prototype._initInstance.call(this, a)
            };
            return b
        }(d.AnimateTransform);
        d.Move = f;
        f.prototype.__class__ = "egret.gui.Move"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.AnimateTransformInstance
            }

            __extends(b, c);
            var a = b.prototype;
            a.createInstance = function (a) {
                void 0 === a && (a = null);
                this.motionPaths = [];
                return c.prototype.createInstance.call(this, a)
            };
            a._initInstance = function (a) {
                this._addMotionPath("rotation", this.angleFrom, this.angleTo, this.angleBy);
                c.prototype._initInstance.call(this, a)
            };
            return b
        }(d.AnimateTransform);
        d.Rotate = f;
        f.prototype.__class__ = "egret.gui.Rotate"
    })(d.gui ||
    (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.AnimateTransformInstance
            }

            __extends(b, c);
            var a = b.prototype;
            a.createInstance = function (a) {
                void 0 === a && (a = null);
                this.motionPaths = [];
                return c.prototype.createInstance.call(this, a)
            };
            a._initInstance = function (a) {
                this._addMotionPath("scaleX", this.scaleXFrom, this.scaleXTo, this.scaleXBy);
                this._addMotionPath("scaleY", this.scaleYFrom, this.scaleYTo, this.scaleYBy);
                c.prototype._initInstance.call(this, a)
            };
            return b
        }(d.AnimateTransform);
        d.Scale = f;
        f.prototype.__class__ = "egret.gui.Scale"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b(a) {
                void 0 === a && (a = null);
                c.call(this, a);
                this.instanceClass = d.FadeInstance
            }

            __extends(b, c);
            b.prototype._initInstance = function (a) {
                c.prototype._initInstance.call(this, a);
                a.alphaFrom = this.alphaFrom;
                a.alphaTo = this.alphaTo
            };
            return b
        }(d.Animate);
        d.Fade = f;
        f.prototype.__class__ = "egret.gui.Fade"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            c.END = "end";
            c.STOP = "stop";
            return c
        }();
        d.InterruptionBehavior = f;
        f.prototype.__class__ = "egret.gui.InterruptionBehavior"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            return function () {
                this.toState = this.fromState = "*";
                this.autoReverse = !1;
                this.interruptionBehavior = d.InterruptionBehavior.END
            }
        }();
        d.Transition = f;
        f.prototype.__class__ = "egret.gui.Transition"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b) {
                void 0 === b && (b = !0);
                c.call(this);
                this.scale9Grid = null;
                this.fillMode = "scale";
                this.sourceChanged = !1;
                this._content = this._source = null;
                this.contentReused = this.createChildrenCalled = this._contentIsTexture = !1;
                this.autoScale = !0;
                this.touchChildren = !1;
                a && (this.source = a);
                this.autoScale = b
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "source", {
                get: function () {
                    return this._source
                }, set: function (a) {
                    this._source != a && (this._source = a, this.createChildrenCalled ?
                        this.parseSource() : this.sourceChanged = !0, this._setSizeDirty())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "content", {
                get: function () {
                    return this._content
                }, enumerable: !0, configurable: !0
            });
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                this.sourceChanged && this.parseSource();
                this.createChildrenCalled = !0
            };
            a.parseSource = function () {
                this.sourceChanged = !1;
                var a = b.assetAdapter;
                a || (a = this.getAdapter());
                if (this._source) {
                    var c = this.contentReused ? null : this._content;
                    this.contentReused = !0;
                    a.getAsset(this._source, this.contentChanged, this, c)
                } else this.contentChanged(null, null)
            };
            a.getAdapter = function () {
                var a;
                try {
                    a = d.Injector.getInstance("egret.gui.IAssetAdapter")
                } catch (c) {
                    a = new g.DefaultAssetAdapter
                }
                return b.assetAdapter = a
            };
            a.contentChanged = function (a, b) {
                if (b === this._source) {
                    var c = this._content;
                    this._content = a;
                    this._content instanceof d.Texture ? (this._texture_to_render = a, this._contentIsTexture = !0) : (this._texture_to_render = null, this._contentIsTexture = !1);
                    c !== a && (c instanceof d.DisplayObject &&
                    c.parent == this && (c._sizeChangeCallBack = null, c._sizeChangeCallTarget = null, this._removeFromDisplayList(c)), a instanceof d.DisplayObject && (a._sizeChangeCallBack = this.invalidateSize, a._sizeChangeCallTarget = this, this._addToDisplayListAt(a, 0)));
                    this.invalidateSize();
                    this.invalidateDisplayList();
                    this.contentReused = !1;
                    this.hasEventListener(g.UIEvent.CONTENT_CHANGED) && g.UIEvent.dispatchUIEvent(this, g.UIEvent.CONTENT_CHANGED)
                }
            };
            a.measure = function () {
                c.prototype.measure.call(this);
                var a = this._content;
                if (a instanceof
                    d.DisplayObject)if ("preferredWidth"in a)this.measuredWidth = a.preferredWidth, this.measuredHeight = a.preferredHeight; else {
                    var b = a.explicitWidth, f = a.explicitHeight;
                    a.width = NaN;
                    a.height = NaN;
                    this.measuredWidth = a.measuredWidth * a.scaleX;
                    this.measuredHeight = a.measuredHeight * a.scaleY;
                    a.width = b;
                    a.height = f
                } else this._contentIsTexture && (this.measuredWidth = a._textureWidth, this.measuredHeight = a._textureHeight)
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                var f = this._content;
                this.autoScale &&
                f instanceof d.DisplayObject && ("setLayoutBoundsSize"in f ? f.setLayoutBoundsSize(a, b) : (f.width = a / f.scaleX, f.height = b / f.scaleY));
                this._setSizeDirty()
            };
            a._render = function (a) {
                if (this._contentIsTexture) {
                    var b = this._content, f, g;
                    this.autoScale ? (f = this._UIC_Props_._width, g = this._UIC_Props_._height) : (f = b._textureWidth, g = b._textureHeight);
                    this._texture_to_render = b;
                    d.Bitmap._drawBitmap(a, f, g, this)
                }
                c.prototype._render.call(this, a)
            };
            a._measureBounds = function () {
                if (this._contentIsTexture) {
                    var a = this._content, b = this.width,
                        f = this.height;
                    return d.Rectangle.identity.initialize(Math.floor(a._offsetX * b / a._textureWidth), Math.floor(a._offsetY * f / a._textureHeight), b, f)
                }
                return c.prototype._measureBounds.call(this)
            };
            a.addChild = function (a) {
                throw Error(d.getString(3004, d.getString(3003)));
            };
            a.addChildAt = function (a, b) {
                throw Error(d.getString(3005, d.getString(3003)));
            };
            a.removeChild = function (a) {
                throw Error(d.getString(3006, d.getString(3003)));
            };
            a.removeChildAt = function (a) {
                throw Error(d.getString(3007, d.getString(3003)));
            };
            a.setChildIndex =
                function (a, b) {
                    throw Error(d.getString(3008, d.getString(3003)));
                };
            a.swapChildren = function (a, b) {
                throw Error(d.getString(3009, d.getString(3003)));
            };
            a.swapChildrenAt = function (a, b) {
                throw Error(d.getString(3010, d.getString(3003)));
            };
            b.assetAdapter = null;
            return b
        }(g.UIComponent);
        g.UIAsset = f;
        f.prototype.__class__ = "egret.gui.UIAsset"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.hostComponentKey = null;
                this._skinNameExplicitlySet = !1;
                this._skinName = null;
                this._createChildrenCalled = !1;
                this._skin = null;
                this.stateIsDirty = this.skinLayoutEnabled = !1;
                this.explicitMouseEnabled = this.explicitMouseChildren = this._autoMouseEnabled = !0
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "skinName", {
                get: function () {
                    return this._skinName
                }, set: function (a) {
                    this._skinName != a && (this._skinName = a, this._skinNameExplicitlySet = !0, this._createChildrenCalled && this.parseSkinName())
                }, enumerable: !0, configurable: !0
            });
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                this.parseSkinName();
                this._createChildrenCalled = !0
            };
            a.parseSkinName = function () {
                var a = b.skinAdapter;
                a || (a = this.getSkinAdapter());
                var c = this.hostComponentKey || d.getQualifiedClassName(this), a = a.getSkin(this._skinName, c);
                a || (c = b._defaultTheme) && (a = c.getDefaultSkin(this));
                this._setSkin(a)
            };
            a.getSkinAdapter = function () {
                var a;
                try {
                    a = d.Injector.getInstance("egret.gui.ISkinAdapter")
                } catch (c) {
                    a =
                        new g.DefaultSkinAdapter
                }
                return b.skinAdapter = a
            };
            Object.defineProperty(a, "skin", {
                get: function () {
                    return this._skin
                }, enumerable: !0, configurable: !0
            });
            a._setSkin = function (a) {
                var b = this._skin;
                this.detachSkin(b);
                b instanceof d.DisplayObject && this._removeFromDisplayList(b);
                this._skin = a;
                a instanceof d.DisplayObject && this._addToDisplayListAt(this._skin, 0);
                this.attachSkin(a);
                this.invalidateSkinState();
                this.invalidateSize();
                this.invalidateDisplayList();
                this.hasEventListener(g.UIEvent.SKIN_CHANGED) && g.UIEvent.dispatchUIEvent(this,
                    g.UIEvent.SKIN_CHANGED)
            };
            a.attachSkin = function (a) {
                this.skinLayoutEnabled = !a || a instanceof d.DisplayObject ? !1 : !0;
                a && "hostComponent"in a && (a.hostComponent = this, this.findSkinParts())
            };
            a.findSkinParts = function () {
                var a = this._skin;
                if (a && "skinParts"in a)for (var b = a.skinParts, c = b.length, d = 0; d < c; d++) {
                    var f = b[d];
                    if (f in a)try {
                        this[f] = a[f], this.partAdded(f, a[f])
                    } catch (g) {
                    }
                }
            };
            a.detachSkin = function (a) {
                if (a) {
                    if ("skinParts"in a)for (var b = a.skinParts, c = b.length, d = 0; d < c; d++) {
                        var f = b[d];
                        f in this && (null != this[f] &&
                        this.partRemoved(f, this[f]), this[f] = null)
                    }
                    a.hostComponent = null
                }
            };
            a.partAdded = function (a, b) {
                g.SkinPartEvent.dispatchSkinPartEvent(this, g.SkinPartEvent.PART_ADDED, a, b)
            };
            a.partRemoved = function (a, b) {
                g.SkinPartEvent.dispatchSkinPartEvent(this, g.SkinPartEvent.PART_REMOVED, a, b)
            };
            a.invalidateSkinState = function () {
                this.stateIsDirty || (this.stateIsDirty = !0, this.invalidateProperties())
            };
            a.validateSkinState = function () {
                var a = this.getCurrentSkinState(), b = this._skin;
                b && "currentState"in b && (b.currentState = a);
                this.hasEventListener("stateChanged") &&
                this.dispatchEventWith("stateChanged")
            };
            Object.defineProperty(a, "autoTouchEnabled", {
                get: function () {
                    return this._autoMouseEnabled
                }, set: function (a) {
                    this._autoMouseEnabled != a && ((this._autoMouseEnabled = a) ? (this._touchChildren = this.enabled ? this.explicitMouseChildren : !1, this._DO_Props_._touchEnabled = this.enabled ? this.explicitMouseEnabled : !1) : (this._touchChildren = this.explicitMouseChildren, this._DO_Props_._touchEnabled = this.explicitMouseEnabled))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a,
                "touchChildren", {
                    get: function () {
                        return this._touchChildren
                    }, set: function (a) {
                        this.enabled && (this._touchChildren = a);
                        this.explicitMouseChildren = a
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "touchEnabled", {
                get: function () {
                    return this._DO_Props_._touchEnabled
                }, set: function (a) {
                    this.enabled && (this._DO_Props_._touchEnabled = a);
                    this.explicitMouseEnabled = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "enabled", {
                get: function () {
                    return this._UIC_Props_._enabled
                }, set: function (a) {
                    this._setEnabled(a)
                },
                enumerable: !0, configurable: !0
            });
            a._setEnabled = function (a) {
                this._UIC_Props_._enabled != a && (this._UIC_Props_._enabled = a, this._autoMouseEnabled && (this._touchChildren = a ? this.explicitMouseChildren : !1, this._DO_Props_._touchEnabled = a ? this.explicitMouseEnabled : !1), this.invalidateSkinState())
            };
            a.getCurrentSkinState = function () {
                return this.enabled ? "normal" : "disabled"
            };
            a.commitProperties = function () {
                c.prototype.commitProperties.call(this);
                this.stateIsDirty && (this.stateIsDirty = !1, this.validateSkinState())
            };
            a._childXYChanged =
                function () {
                    this.skinLayoutEnabled && (this.invalidateSize(), this.invalidateDisplayList())
                };
            a.measure = function () {
                c.prototype.measure.call(this);
                var a = this._skin;
                a && (this.skinLayoutEnabled ? (a.measure(), this.measuredWidth = a.preferredWidth, this.measuredHeight = a.preferredHeight) : "preferredWidth"in a ? (this.measuredWidth = a.preferredWidth, this.measuredHeight = a.preferredHeight) : (this.measuredWidth = a.width, this.measuredHeight = a.height))
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this,
                    a, b);
                var f = this._skin;
                f && (this.skinLayoutEnabled ? f.updateDisplayList(a, b) : "setLayoutBoundsSize"in f ? f.setLayoutBoundsSize(a, b) : f instanceof d.DisplayObject && (f.scaleX = 0 == f.width ? 1 : a / f.width, f.scaleY = 0 == f.height ? 1 : b / f.height))
            };
            a.addChild = function (a) {
                throw Error(d.getString(3004, d.getString(3003)));
            };
            a.addChildAt = function (a, b) {
                throw Error(d.getString(3005, d.getString(3003)));
            };
            a.removeChild = function (a) {
                throw Error(d.getString(3006, d.getString(3003)));
            };
            a.removeChildAt = function (a) {
                throw Error(d.getString(3007,
                    d.getString(3003)));
            };
            a.setChildIndex = function (a, b) {
                throw Error(d.getString(3008, d.getString(3003)));
            };
            a.swapChildren = function (a, b) {
                throw Error(d.getString(3009, d.getString(3003)));
            };
            a.swapChildrenAt = function (a, b) {
                throw Error(d.getString(3010, d.getString(3003)));
            };
            b.skinAdapter = null;
            b._defaultTheme = null;
            return b
        }(g.UIComponent);
        g.SkinnableComponent = f;
        f.prototype.__class__ = "egret.gui.SkinnableComponent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c() {
            }

            c.prototype.getSkin = function (b, a) {
                if (!b)return null;
                if (b.prototype)return new b;
                if ("string" == typeof b) {
                    var e = d.getDefinitionByName(b);
                    return e ? new e : null
                }
                return b
            };
            return c
        }();
        g.DefaultSkinAdapter = f;
        f.prototype.__class__ = "egret.gui.DefaultSkinAdapter"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c() {
            }

            c.prototype.getAsset = function (b, a, e, c) {
                var f = b;
                b.prototype && (f = new b);
                if (f instanceof d.DisplayObject || f instanceof d.Texture)a.call(e, f, b); else if ("string" == typeof b) {
                    var g = new d.URLLoader;
                    g.dataFormat = d.URLLoaderDataFormat.TEXTURE;
                    g.addEventListener(d.Event.COMPLETE, function (c) {
                        f = g.data;
                        a.call(e, f, b)
                    }, this);
                    g.load(new d.URLRequest(b))
                } else a.call(e, f, b)
            };
            return c
        }();
        g.DefaultAssetAdapter = f;
        f.prototype.__class__ = "egret.gui.DefaultAssetAdapter"
    })(d.gui ||
    (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c(a) {
                this.skinMap = {};
                this.delyList = [];
                this.loadConfig(a)
            }

            var b = c.prototype;
            c.load = function (a) {
                this.initialized || (this.initialized = !0, g.SkinnableComponent._defaultTheme = new c(a))
            };
            b.loadConfig = function (a) {
                var b = new d.URLLoader;
                b.addEventListener(d.Event.COMPLETE, this.onLoadComplete, this);
                b.addEventListener(d.IOErrorEvent.IO_ERROR, this.onLoadError, this);
                b.dataFormat = d.URLLoaderDataFormat.TEXT;
                b.load(new d.URLRequest(a))
            };
            b.onLoadComplete = function (a) {
                a =
                    a.target;
                try {
                    this.skinMap = JSON.parse(a.data).skins
                } catch (b) {
                    d.$warn(1017, a._request.url, a.data)
                }
                this.handleDelyList()
            };
            b.onLoadError = function (a) {
                d.$warn(3E3, a.target._request.url);
                this.handleDelyList()
            };
            b.handleDelyList = function () {
                if (this.skinMap) {
                    var a = this.delyList;
                    this.delyList = [];
                    for (var b = a.length, c = 0; c < b; c++) {
                        var d = a[c];
                        if (!d._skin) {
                            var f = this.getDefaultSkin(d);
                            d._setSkin(f)
                        }
                    }
                } else this.skinMap = {}, this.delyList = []
            };
            b.getDefaultSkin = function (a) {
                var b = this.skinMap;
                if (!b)return -1 == this.delyList.indexOf(a) &&
                this.delyList.push(a), null;
                var c, f = a.hostComponentKey;
                if (f)c = b[f]; else for (; a;) {
                    f = d.getQualifiedClassName(a);
                    if (c = b[f])break;
                    a = d.getDefinitionByName(d.getQualifiedSuperclassName(a))
                }
                if (!c)return null;
                b = d.getDefinitionByName(c);
                return b ? new b : (d.$warn(3001, c), null)
            };
            c.initialized = !1;
            return c
        }();
        g.Theme = f;
        f.prototype.__class__ = "egret.gui.Theme"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._target = null
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                }, set: function (a) {
                    this._target = a
                }, enumerable: !0, configurable: !0
            });
            a.measure = function () {
                if (null != this.target) {
                    for (var a = 0, b = 0, c = this._target, d = c.numElements, f = 0; f < d; f++) {
                        var g = c.getElementAt(f);
                        if (g && g.includeInLayout) {
                            var k = g.horizontalCenter, l = g.verticalCenter, m = g.left, p = g.right, q = g.top, r = g.bottom;
                            isNaN(m) || isNaN(p) ?
                                isNaN(k) ? isNaN(m) && isNaN(p) ? k = g.preferredX : (k = isNaN(m) ? 0 : m, k += isNaN(p) ? 0 : p) : k = 2 * Math.abs(k) : k = m + p;
                            isNaN(q) || isNaN(r) ? isNaN(l) ? isNaN(q) && isNaN(r) ? l = g.preferredY : (l = isNaN(q) ? 0 : q, l += isNaN(r) ? 0 : r) : l = 2 * Math.abs(l) : l = q + r;
                            r = g.preferredHeight;
                            a = Math.ceil(Math.max(a, k + g.preferredWidth));
                            b = Math.ceil(Math.max(b, l + r))
                        }
                    }
                    this.target.measuredWidth = a;
                    this.target.measuredHeight = b
                }
            };
            a.updateDisplayList = function (a, b) {
                if (null != this.target)for (var c = this.target.numElements, d = 0; d < c; d++) {
                    var f = this.target.getElementAt(d);
                    if (null != f && f.includeInLayout) {
                        var g = f.horizontalCenter, k = f.verticalCenter, l = f.left, m = f.right, p = f.top, q = f.bottom, r = f.percentWidth, x = f.percentHeight, y = NaN, s = NaN;
                        isNaN(l) || isNaN(m) ? isNaN(r) || (y = Math.round(a * Math.min(0.01 * r, 1))) : y = a - m - l;
                        isNaN(p) || isNaN(q) ? isNaN(x) || (s = Math.round(b * Math.min(0.01 * x, 1))) : s = b - q - p;
                        f.setLayoutBoundsSize(y, s);
                        r = f.layoutBoundsWidth;
                        x = f.layoutBoundsHeight;
                        s = y = NaN;
                        y = isNaN(g) ? isNaN(l) ? isNaN(m) ? f.layoutBoundsX : a - r - m : l : Math.round((a - r) / 2 + g);
                        s = isNaN(k) ? isNaN(p) ? isNaN(q) ? f.layoutBoundsY :
                        b - x - q : p : Math.round((b - x) / 2 + k);
                        f.setLayoutBoundsPosition(y, s)
                    }
                }
            };
            return b
        }(d.HashObject);
        g.SkinBasicLayout = f;
        f.prototype.__class__ = "egret.gui.SkinBasicLayout"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._downEventFired = !1;
                this.labelDisplay = this.autoRepeatTimer = null;
                this._autoRepeat = !1;
                this._repeatInterval = this._repeatDelay = 35;
                this._keepDown = this._hovered = !1;
                this._label = "";
                this.touchChildren = this._stickyHighlighting = this._mouseCaptured = !1;
                this.addHandlers()
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "autoRepeat", {
                get: function () {
                    return this._autoRepeat
                }, set: function (a) {
                    a != this._autoRepeat && (this._autoRepeat = a,
                        this.checkAutoRepeatTimerConditions(this.isDown()))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "repeatDelay", {
                get: function () {
                    return this._repeatDelay
                }, set: function (a) {
                    this._repeatDelay = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "repeatInterval", {
                get: function () {
                    return this._repeatInterval
                }, set: function (a) {
                    this._repeatInterval = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "hovered", {
                get: function () {
                    return this._hovered
                }, set: function (a) {
                    a != this._hovered && (this._hovered =
                        a, this.invalidateSkinState(), this.checkButtonDownConditions())
                }, enumerable: !0, configurable: !0
            });
            a._setKeepDown = function (a) {
                this._keepDown != a && (this._keepDown = a, this.invalidateSkinState())
            };
            Object.defineProperty(a, "label", {
                get: function () {
                    return this._getLabel()
                }, set: function (a) {
                    this._setLabel(a)
                }, enumerable: !0, configurable: !0
            });
            a._getLabel = function () {
                return this.labelDisplay ? this.labelDisplay.text : this._label
            };
            a._setLabel = function (a) {
                this._label = a;
                this.labelDisplay && (this.labelDisplay.text = a)
            };
            Object.defineProperty(a,
                "mouseCaptured", {
                    get: function () {
                        return this._mouseCaptured
                    }, set: function (a) {
                        a != this._mouseCaptured && (this._mouseCaptured = a, this.invalidateSkinState(), a || this.removeStageMouseHandlers(), this.checkButtonDownConditions())
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "stickyHighlighting", {
                get: function () {
                    return this._stickyHighlighting
                }, set: function (a) {
                    a != this._stickyHighlighting && (this._stickyHighlighting = a, this.invalidateSkinState(), this.checkButtonDownConditions())
                }, enumerable: !0, configurable: !0
            });
            a.checkButtonDownConditions = function () {
                var a = this.isDown();
                this._downEventFired != a && (a && g.UIEvent.dispatchUIEvent(this, g.UIEvent.BUTTON_DOWN), this._downEventFired = a, this.checkAutoRepeatTimerConditions(a))
            };
            a.addHandlers = function () {
                this.addEventListener(d.TouchEvent.TOUCH_ROLL_OVER, this.mouseEventHandler, this);
                this.addEventListener(d.TouchEvent.TOUCH_ROLL_OUT, this.mouseEventHandler, this);
                this.addEventListener(d.TouchEvent.TOUCH_BEGIN, this.mouseEventHandler, this);
                this.addEventListener(d.TouchEvent.TOUCH_END,
                    this.mouseEventHandler, this);
                this.addEventListener(d.TouchEvent.TOUCH_TAP, this.mouseEventHandler, this)
            };
            a.addStageMouseHandlers = function () {
                g.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                g.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this)
            };
            a.removeStageMouseHandlers = function () {
                g.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
                g.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,
                    this.stage_mouseUpHandler, this)
            };
            a.isDown = function () {
                return this.enabled ? this.mouseCaptured && (this.hovered || this.stickyHighlighting) ? !0 : !1 : !1
            };
            a.checkAutoRepeatTimerConditions = function (a) {
                a = this.autoRepeat && a;
                a != (null != this.autoRepeatTimer) && (a ? this.startTimer() : this.stopTimer())
            };
            a.startTimer = function () {
                this.autoRepeatTimer = new d.Timer(1);
                this.autoRepeatTimer.delay = this._repeatDelay;
                this.autoRepeatTimer.addEventListener(d.TimerEvent.TIMER, this.autoRepeat_timerDelayHandler, this);
                this.autoRepeatTimer.start()
            };
            a.stopTimer = function () {
                this.autoRepeatTimer.stop();
                this.autoRepeatTimer = null
            };
            a.mouseEventHandler = function (a) {
                switch (a.type) {
                    case d.TouchEvent.TOUCH_ROLL_OVER:
                        if (a.touchDown && !this.mouseCaptured)break;
                        this.hovered = !0;
                        break;
                    case d.TouchEvent.TOUCH_ROLL_OUT:
                        this.hovered = !1;
                        break;
                    case d.TouchEvent.TOUCH_BEGIN:
                        this.addStageMouseHandlers();
                        d.InteractionMode.mode == d.InteractionMode.TOUCH && (this.hovered = !0);
                        this.mouseCaptured = !0;
                        break;
                    case d.TouchEvent.TOUCH_END:
                        a.target == this && (this.hovered = !0, this.mouseCaptured &&
                        (this.buttonReleased(), this.mouseCaptured = !1));
                        break;
                    case d.TouchEvent.TOUCH_TAP:
                        this.enabled ? this.clickHandler(a) : a.stopImmediatePropagation()
                }
            };
            a.buttonReleased = function () {
            };
            a.clickHandler = function (a) {
            };
            a.stage_mouseUpHandler = function (a) {
                a.target != this && (this.mouseCaptured = !1)
            };
            a.autoRepeat_timerDelayHandler = function (a) {
                this.autoRepeatTimer.reset();
                this.autoRepeatTimer.removeEventListener(d.TimerEvent.TIMER, this.autoRepeat_timerDelayHandler, this);
                this.autoRepeatTimer.delay = this._repeatInterval;
                this.autoRepeatTimer.addEventListener(d.TimerEvent.TIMER, this.autoRepeat_timerHandler, this);
                this.autoRepeatTimer.start()
            };
            a.autoRepeat_timerHandler = function (a) {
                g.UIEvent.dispatchUIEvent(this, g.UIEvent.BUTTON_DOWN)
            };
            a.getCurrentSkinState = function () {
                return this.enabled ? this.isDown() || this._keepDown ? "down" : d.InteractionMode.mode == d.InteractionMode.MOUSE && (this.hovered || this.mouseCaptured) ? "over" : "up" : c.prototype.getCurrentSkinState.call(this)
            };
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this,
                    a, b);
                b == this.labelDisplay && (this.labelDisplay.text = this._label)
            };
            return b
        }(g.SkinnableComponent);
        g.ButtonBase = f;
        f.prototype.__class__ = "egret.gui.ButtonBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._selected = !1;
                this._autoSelected = !0
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "selected", {
                get: function () {
                    return this._selected
                }, set: function (a) {
                    this._setSelected(a)
                }, enumerable: !0, configurable: !0
            });
            a._setSelected = function (a) {
                a != this._selected && (this._selected = a, g.UIEvent.dispatchUIEvent(this, g.UIEvent.VALUE_COMMIT), this.invalidateSkinState())
            };
            a.getCurrentSkinState = function () {
                var a = c.prototype.getCurrentSkinState.call(this);
                if (this.selected) {
                    var b = a + "AndSelected", d = this.skin;
                    return d && d.hasState(b) ? b : "disabled" == a ? "disabled" : "down"
                }
                return a
            };
            a.buttonReleased = function () {
                c.prototype.buttonReleased.call(this);
                this._autoSelected && this.enabled && (this.selected = !this.selected, this.dispatchEventWith(d.Event.CHANGE))
            };
            return b
        }(g.ButtonBase);
        g.ToggleButtonBase = f;
        f.prototype.__class__ = "egret.gui.ToggleButtonBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._textField = null;
                this.fontFamilyChanged = this.allStyleChanged = !1;
                this._fontFamily = "SimSun";
                this._sizeChanged = !1;
                this._size = 30;
                this._focusEnabled = !0;
                this.textAlignChanged = this._italic = this.italicChanged = this._bold = this.boldChanged = !1;
                this._textAlign = d.HorizontalAlign.LEFT;
                this.verticalAlignChanged = !1;
                this._verticalAlign = d.VerticalAlign.TOP;
                this.lineSpacingChanged = !1;
                this._lineSpacing = 0;
                this.textColorChanged = !1;
                this._textColor =
                    16777215;
                this._textChanged = !1;
                this._text = "";
                this._textFlow = null;
                this._textFlowChanged = !1;
                this._UIC_Props_._hasNoStyleChild = !0
            }

            __extends(b, c);
            var a = b.prototype;
            a.styleChanged = function (a) {
                if (!this.allStyleChanged) {
                    if (a)switch (a) {
                        case "textColor":
                            this.textColorChanged = !0;
                            break;
                        case "fontFamily":
                            this.fontFamilyChanged = !0;
                            break;
                        case "size":
                            this._sizeChanged = !0;
                            break;
                        case "bold":
                            this.boldChanged = !0;
                            break;
                        case "italic":
                            this.italicChanged = !0;
                            break;
                        case "textAlign":
                            this.textAlignChanged = !0;
                            break;
                        case "verticalAlign":
                            this.verticalAlignChanged = !0
                    } else this.allStyleChanged = !0;
                    this.invalidateProperties();
                    this.invalidateSize();
                    this.invalidateDisplayList()
                }
            };
            Object.defineProperty(a, "fontFamily", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.fontFamily ? a.fontFamily : this._fontFamily
                }, set: function (a) {
                    this.setStyle("fontFamily", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "size", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.size ? a.size : this._size
                }, set: function (a) {
                    void 0 ===
                    a && (a = 0);
                    this.setStyle("size", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "focusEnabled", {
                get: function () {
                    return this._focusEnabled
                }, set: function (a) {
                    this._focusEnabled = a
                }, enumerable: !0, configurable: !0
            });
            a.setFocus = function () {
                !1 != this._focusEnabled && this._textField && this._textField.setFocus()
            };
            Object.defineProperty(a, "bold", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.bold ? a.bold : this._bold
                }, set: function (a) {
                    this.setStyle("bold", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "italic", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.italic ? a.italic : this._italic
                }, set: function (a) {
                    this.setStyle("italic", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "textAlign", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.textAlign ? a.textAlign : this._textAlign
                }, set: function (a) {
                    this.setStyle("textAlign", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "verticalAlign", {
                get: function () {
                    var a =
                        this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.verticalAlign ? a.verticalAlign : this._verticalAlign
                }, set: function (a) {
                    this.setStyle("verticalAlign", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "lineSpacing", {
                get: function () {
                    return this._getLineSpacing()
                }, set: function (a) {
                    this._setLineSpacing(a)
                }, enumerable: !0, configurable: !0
            });
            a._getLineSpacing = function () {
                return this._lineSpacing
            };
            a._setLineSpacing = function (a) {
                this._lineSpacing != a && (this._lineSpacing = a, this.lineSpacingChanged = !0,
                    this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList())
            };
            Object.defineProperty(a, "textColor", {
                get: function () {
                    var a = this._UIC_Props_._styleProtoChain;
                    return a && void 0 !== a.textColor ? a.textColor : this._textColor
                }, set: function (a) {
                    this.setStyle("textColor", a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "text", {
                get: function () {
                    return this._text
                }, set: function (a) {
                    a != this._text && (this._text = a || "", this._textChanged = !0, this._textFlowChanged = !1, this._textFlow = [], this.invalidateProperties(),
                        this.invalidateSize(), this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "textFlow", {
                get: function () {
                    return this._textFlow
                }, set: function (a) {
                    this._textFlow = a || [];
                    this._textFlowChanged = !0;
                    this._textChanged = !1;
                    this._text = "";
                    this.invalidateProperties();
                    this.invalidateSize();
                    this.invalidateDisplayList()
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "textHeight", {
                get: function () {
                    return null == this._textField ? 0 : this._textField.textHeight
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "textWidth", {
                get: function () {
                    return null == this._textField ? 0 : this._textField.textWidth
                }, enumerable: !0, configurable: !0
            });
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                this._textField || this.checkTextField()
            };
            a.commitProperties = function () {
                c.prototype.commitProperties.call(this);
                this._textField || this.checkTextField();
                this.allStyleChanged && (this.allStyleChanged = !1, this.verticalAlignChanged = this.textAlignChanged = this.italicChanged = this.boldChanged = this._sizeChanged =
                    this.fontFamilyChanged = this.textColorChanged = !0);
                this.fontFamilyChanged && (this._textField.fontFamily = this.fontFamily, this.fontFamilyChanged = !1);
                this._sizeChanged && (this._textField.size = this.size, this._sizeChanged = !1);
                this.boldChanged && (this._textField.bold = this.bold, this.boldChanged = !1);
                this.italic && (this._textField.italic = this.italic, this.italicChanged = !1);
                this.textAlignChanged && (this._textField.textAlign = this.textAlign, this.textAlignChanged = !1);
                this.verticalAlignChanged && (this._textField.verticalAlign =
                    this.verticalAlign, this.verticalAlignChanged = !1);
                this.lineSpacingChanged && (this._textField.lineSpacing = this._lineSpacing, this.lineSpacingChanged = !1);
                this.textColorChanged && (this._textField.textColor = this.textColor, this.textColorChanged = !1);
                this._textChanged && (this._textField.text = this._text);
                this._textFlowChanged && (this._textField.textFlow = this._textFlow);
                if (this._textChanged || this._textFlowChanged)this._text = this._textField.text, this._textFlow = this._textField.textFlow, this._textFlowChanged = this._textChanged = !1
            };
            a.checkTextField = function () {
                this._textField || (this._createTextField(), this._textChanged && (this._textField.text = this._text), this._textFlowChanged && (this._textField.textFlow = this._textFlow), this.invalidateProperties())
            };
            a._createTextField = function () {
                this._textField = new d.TextField;
                this._textField.fontFamily = this.fontFamily;
                this._textField.size = this.size;
                this._textField.textAlign = this.textAlign;
                this._textField.verticalAlign = this.verticalAlign;
                this._textField.lineSpacing = this._lineSpacing;
                this._textField.textColor =
                    this.textColor;
                this._textField.multiline = !0;
                this._addToDisplayList(this._textField)
            };
            a._textFieldChanged = function () {
                this._text = this._textField.text;
                this._textFlow = this._textField.textFlow
            };
            a.measure = function () {
                c.prototype.measure.call(this);
                this.measuredWidth = b.DEFAULT_MEASURED_WIDTH;
                this.measuredHeight = b.DEFAULT_MEASURED_HEIGHT
            };
            a.$updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b)
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                this._textField.width =
                    a;
                this._textField.height = b
            };
            a.dispatchPropertyChangeEvent = function (a, b, c) {
                this.hasEventListener("propertyChange") && g.PropertyChangeEvent.dispatchPropertyChangeEvent(this, g.PropertyChangeEventKind.UPDATE, a, b, c, this)
            };
            b.DEFAULT_MEASURED_WIDTH = 160;
            b.DEFAULT_MEASURED_HEIGHT = 22;
            return b
        }(g.UIComponent);
        g.TextBase = f;
        f.prototype.__class__ = "egret.gui.TextBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._contentHeight = this._contentWidth = 0;
                this._layout = null;
                this._clipAndEnableScrolling = !1;
                this._verticalScrollPosition = this._horizontalScrollPosition = 0;
                this.touchEnabled = this._layoutInvalidateSizeFlag = this._layoutInvalidateDisplayListFlag = !1
            }

            __extends(b, c);
            var a = b.prototype;
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                this._layout || (this.layout = new g.BasicLayout)
            };
            Object.defineProperty(a, "contentWidth", {
                get: function () {
                    return this._contentWidth
                },
                enumerable: !0, configurable: !0
            });
            a.setContentWidth = function (a) {
                if (a != this._contentWidth) {
                    var b = this._contentWidth;
                    this._contentWidth = a;
                    this.hasEventListener("propertyChange") && g.PropertyChangeEvent.dispatchPropertyChangeEvent(this, g.PropertyChangeEventKind.UPDATE, "contentWidth", b, a, this)
                }
            };
            Object.defineProperty(a, "contentHeight", {
                get: function () {
                    return this._contentHeight
                }, enumerable: !0, configurable: !0
            });
            a.setContentHeight = function (a) {
                if (a != this._contentHeight) {
                    var b = this._contentHeight;
                    this._contentHeight =
                        a;
                    this.hasEventListener("propertyChange") && g.PropertyChangeEvent.dispatchPropertyChangeEvent(this, g.PropertyChangeEventKind.UPDATE, "contentHeight", b, a, this)
                }
            };
            a.setContentSize = function (a, b) {
                if (a != this._contentWidth || b != this._contentHeight)this.setContentWidth(a), this.setContentHeight(b)
            };
            Object.defineProperty(a, "layout", {
                get: function () {
                    return this._layout
                }, set: function (a) {
                    this._setLayout(a)
                }, enumerable: !0, configurable: !0
            });
            a._setLayout = function (a) {
                if (this._layout != a) {
                    this._layout && (this._layout.target =
                        null);
                    if (this._layout = a)this._layout.target = this;
                    this.invalidateSize();
                    this.invalidateDisplayList();
                    this.dispatchEventWith("layoutChanged")
                }
            };
            Object.defineProperty(a, "clipAndEnableScrolling", {
                get: function () {
                    return this._clipAndEnableScrolling
                }, set: function (a) {
                    a != this._clipAndEnableScrolling && (this.scrollRect = (this._clipAndEnableScrolling = a) ? new d.Rectangle(this._horizontalScrollPosition, this._verticalScrollPosition, this.width, this.height) : null)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a,
                "horizontalScrollPosition", {
                    get: function () {
                        return this._horizontalScrollPosition
                    }, set: function (a) {
                        if (a != this._horizontalScrollPosition) {
                            var b = this._horizontalScrollPosition;
                            this._horizontalScrollPosition = a;
                            this.scrollPositionChanged();
                            g.PropertyChangeEvent.dispatchPropertyChangeEvent(this, g.PropertyChangeEventKind.UPDATE, "horizontalScrollPosition", b, a, this)
                        }
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "verticalScrollPosition", {
                get: function () {
                    return this._verticalScrollPosition
                }, set: function (a) {
                    if (a !=
                        this._verticalScrollPosition) {
                        var b = this._verticalScrollPosition;
                        this._verticalScrollPosition = a;
                        this.scrollPositionChanged();
                        g.PropertyChangeEvent.dispatchPropertyChangeEvent(this, g.PropertyChangeEventKind.UPDATE, "verticalScrollPosition", b, a, this)
                    }
                }, enumerable: !0, configurable: !0
            });
            a.scrollPositionChanged = function () {
                this._clipAndEnableScrolling && (this.updateScrollRect(this.width, this.height), this._invalidateDisplayListExceptLayout(), this._layout && this._layout.scrollPositionChanged())
            };
            a.updateScrollRect =
                function (a, b) {
                    var c = this._DO_Props_._scrollRect;
                    this._clipAndEnableScrolling ? c ? (c.x = this._horizontalScrollPosition, c.y = this._verticalScrollPosition, c.width = a, c.height = b) : this._DO_Props_._scrollRect = new d.Rectangle(this._horizontalScrollPosition, this._verticalScrollPosition, a, b) : c && (this._DO_Props_._scrollRect = null)
                };
            a.measure = function () {
                this._layout && this._layoutInvalidateSizeFlag && (c.prototype.measure.call(this), this._layout.measure())
            };
            a._invalidateDisplayListExceptLayout = function () {
                c.prototype.invalidateDisplayList.call(this)
            };
            a.invalidateDisplayList = function () {
                c.prototype.invalidateDisplayList.call(this);
                this._layoutInvalidateDisplayListFlag = !0
            };
            a._childXYChanged = function () {
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a._invalidateSizeExceptLayout = function () {
                c.prototype.invalidateSize.call(this)
            };
            a.invalidateSize = function () {
                c.prototype.invalidateSize.call(this);
                this._layoutInvalidateSizeFlag = !0
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                this._layoutInvalidateDisplayListFlag &&
                this._layout && (this._layoutInvalidateDisplayListFlag = !1, this._layout.updateDisplayList(a, b), this.updateScrollRect(a, b))
            };
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return -1
                }, enumerable: !0, configurable: !0
            });
            a.getElementAt = function (a) {
                return null
            };
            a.getElementIndex = function (a) {
                return -1
            };
            a.getElementIndicesInView = function () {
                var a = [], b;
                if (this.scrollRect)for (b = 0; b < this.numChildren; b++) {
                    var c = this.getChildAt(b);
                    if (c) {
                        var f = new d.Rectangle;
                        f.x = c.layoutBoundsX;
                        f.y = c.layoutBoundsY;
                        f.width = c.layoutBoundsWidth;
                        f.height = c.layoutBoundsHeight;
                        this.scrollRect.intersects(f) && a.push(b)
                    }
                } else for (b = 0; b < this.numChildren; b++)a.push(b);
                return a
            };
            a.setVirtualElementIndicesInView = function (a, b) {
            };
            a.getVirtualElementAt = function (a) {
                return this.getElementAt(a)
            };
            return b
        }(g.UIComponent);
        g.GroupBase = f;
        f.prototype.__class__ = "egret.gui.GroupBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._maximum = 100;
                this.maxChanged = !1;
                this._minimum = 0;
                this.minChanged = !1;
                this._stepSize = 1;
                this.stepSizeChanged = !1;
                this._changedValue = this._value = 0;
                this.valueChanged = !1;
                this._snapInterval = 1;
                this._explicitSnapInterval = this.snapIntervalChanged = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "maximum", {
                get: function () {
                    return this._maximum
                }, set: function (a) {
                    this._setMaximun(a)
                }, enumerable: !0, configurable: !0
            });
            a._setMaximun =
                function (a) {
                    a != this._maximum && (this._maximum = a, this.maxChanged = !0, this.invalidateProperties())
                };
            Object.defineProperty(a, "minimum", {
                get: function () {
                    return this._minimum
                }, set: function (a) {
                    this._setMinimun(a)
                }, enumerable: !0, configurable: !0
            });
            a._setMinimun = function (a) {
                a != this._minimum && (this._minimum = a, this.minChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "stepSize", {
                get: function () {
                    return this._stepSize
                }, set: function (a) {
                    a != this._stepSize && (this._stepSize = a, this.stepSizeChanged = !0, this.invalidateProperties())
                },
                enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "value", {
                get: function () {
                    return this._getValue()
                }, set: function (a) {
                    this._setValue(a)
                }, enumerable: !0, configurable: !0
            });
            a._setValue = function (a) {
                a != this.value && (this._changedValue = a, this.valueChanged = !0, this.invalidateProperties())
            };
            a._getValue = function () {
                return this.valueChanged ? this._changedValue : this._value
            };
            Object.defineProperty(a, "snapInterval", {
                get: function () {
                    return this._snapInterval
                }, set: function (a) {
                    this._explicitSnapInterval = !0;
                    a != this._snapInterval &&
                    (isNaN(a) ? (this._snapInterval = 1, this._explicitSnapInterval = !1) : this._snapInterval = a, this.stepSizeChanged = this.snapIntervalChanged = !0, this.invalidateProperties())
                }, enumerable: !0, configurable: !0
            });
            a.commitProperties = function () {
                c.prototype.commitProperties.call(this);
                this.minimum > this.maximum && (this.maxChanged ? this._maximum = this._minimum : this._minimum = this._maximum);
                if (this.valueChanged || this.maxChanged || this.minChanged || this.snapIntervalChanged) {
                    var a = this.valueChanged ? this._changedValue : this._value;
                    this.snapIntervalChanged = this.minChanged = this.maxChanged = this.valueChanged = !1;
                    this.setValue(this.nearestValidValue(a, this.snapInterval))
                }
                this.stepSizeChanged && (this._explicitSnapInterval ? this._stepSize = this.nearestValidSize(this._stepSize) : (this._snapInterval = this._stepSize, this.setValue(this.nearestValidValue(this._value, this.snapInterval))), this.stepSizeChanged = !1)
            };
            a.nearestValidSize = function (a) {
                var b = this.snapInterval;
                if (0 == b)return a;
                a = Math.round(a / b) * b;
                return Math.abs(a) < b ? b : a
            };
            a.nearestValidValue =
                function (a, b) {
                    if (0 == b)return Math.max(this.minimum, Math.min(this.maximum, a));
                    var c = this.maximum - this.minimum, d = 1;
                    a -= this.minimum;
                    b != Math.round(b) && (d = (1 + b).toString().split("."), d = Math.pow(10, d[1].length), c *= d, a = Math.round(a * d), b = Math.round(b * d));
                    var f = Math.max(0, Math.floor(a / b) * b), c = Math.min(c, Math.floor((a + b) / b) * b);
                    return (a - f >= (c - f) / 2 ? c : f) / d + this.minimum
                };
            a.setValue = function (a) {
                this._value != a && (isNaN(a) && (a = 0), !isNaN(this.maximum) && !isNaN(this.minimum) && this.maximum > this.minimum ? this._value = Math.min(this.maximum,
                    Math.max(this.minimum, a)) : this._value = a, this.valueChanged = !1, d.UIEvent.dispatchUIEvent(this, d.UIEvent.VALUE_COMMIT))
            };
            a.changeValueByStep = function (a) {
                void 0 === a && (a = !0);
                0 != this.stepSize && this.setValue(this.nearestValidValue(a ? this.value + this.stepSize : this.value - this.stepSize, this.snapInterval))
            };
            return b
        }(d.SkinnableComponent);
        d.Range = f;
        f.prototype.__class__ = "egret.gui.Range"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this)
            }

            __extends(b, c);
            return b
        }(d.UIComponent);
        d.Spacer = f;
        f.prototype.__class__ = "egret.gui.Spacer"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._maxDisplayedLines = 0;
                this.lastUnscaledWidth = NaN;
                this.strokeColorChanged = !1;
                this._stroke = this._strokeColor = 0;
                this.strokeChanged = !1;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.addEventListener(d.UIEvent.UPDATE_COMPLETE, this.updateCompleteHandler, this)
            }

            __extends(b, c);
            var a = b.prototype;
            a.updateCompleteHandler = function (a) {
                this.lastUnscaledWidth = NaN
            };
            Object.defineProperty(a,
                "maxDisplayedLines", {
                    get: function () {
                        return this._maxDisplayedLines
                    }, set: function (a) {
                        this._maxDisplayedLines != a && (this._maxDisplayedLines = a, this.invalidateSize(), this.invalidateDisplayList())
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "strokeColor", {
                get: function () {
                    return this._strokeColor
                }, set: function (a) {
                    this._setStrokeColor(a)
                }, enumerable: !0, configurable: !0
            });
            a._setStrokeColor = function (a) {
                this._strokeColor != a && (this._strokeColor = a, this.strokeColorChanged = !0, this.invalidateProperties())
            };
            Object.defineProperty(a, "stroke", {
                get: function () {
                    return this._stroke
                }, set: function (a) {
                    this._stroke != a && (this._stroke = a, this.strokeChanged = !0, this.invalidateProperties())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "padding", {
                get: function () {
                    return this._padding
                }, set: function (a) {
                    this._padding != a && (this._padding = a, this.invalidateSize(), this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                }, set: function (a) {
                    this._paddingLeft !=
                    a && (this._paddingLeft = a, this.invalidateSize(), this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "paddingRight", {
                get: function () {
                    return this._paddingRight
                }, set: function (a) {
                    this._paddingRight != a && (this._paddingRight = a, this.invalidateSize(), this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "paddingTop", {
                get: function () {
                    return this._paddingTop
                }, set: function (a) {
                    this._paddingTop != a && (this._paddingTop = a, this.invalidateSize(), this.invalidateDisplayList())
                },
                enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                }, set: function (a) {
                    this._paddingBottom != a && (this._paddingBottom = a, this.invalidateSize(), this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            a.commitProperties = function () {
                c.prototype.commitProperties.call(this);
                this.strokeColorChanged && (this._textField.strokeColor = this._strokeColor, this.strokeColorChanged = !1);
                this.strokeChanged && (this._textField.stroke = this._stroke, this.strokeChanged = !1)
            };
            a.measure = function () {
                this._UIC_Props_._invalidatePropertiesFlag && this.validateProperties();
                if (this.isSpecialCase())if (isNaN(this.lastUnscaledWidth))this._UIC_Props_._oldPreferWidth = NaN, this._UIC_Props_._oldPreferHeight = NaN; else {
                    this.measureUsingWidth(this.lastUnscaledWidth);
                    return
                }
                var a;
                isNaN(this.explicitWidth) ? 1E4 != this.maxWidth && (a = this.maxWidth) : a = this.explicitWidth;
                this.measureUsingWidth(a)
            };
            a.isSpecialCase = function () {
                return 1 != this._maxDisplayedLines && (!isNaN(this.percentWidth) || !isNaN(this.left) && !isNaN(this.right)) && isNaN(this.explicitHeight) && isNaN(this.percentHeight)
            };
            a.measureUsingWidth = function (a) {
                this._textChanged && (this._textField.text = this._text);
                this._textFlowChanged && (this._textField.textFlow = this._textFlow);
                var b = isNaN(this._padding) ? 0 : this._padding, c = isNaN(this._paddingLeft) ? b : this._paddingLeft, d = isNaN(this._paddingRight) ? b : this._paddingRight, f = isNaN(this._paddingTop) ? b : this._paddingTop, b = isNaN(this._paddingBottom) ? b : this._paddingBottom;
                this._textField.width = NaN;
                this._textField.height =
                    NaN;
                isNaN(a) || (this._textField.width = a - c - d);
                this.measuredWidth = Math.ceil(this._textField.measuredWidth);
                this.measuredHeight = Math.ceil(this._textField.measuredHeight);
                0 < this._maxDisplayedLines && this._textField.numLines > this._maxDisplayedLines && (a = this._textField.lineSpacing, this.measuredHeight = (this._textField.size + a) * this._maxDisplayedLines - a);
                this.measuredWidth += c + d;
                this.measuredHeight += f + b
            };
            a.updateDisplayList = function (a, b) {
                this.$updateDisplayList(a, b);
                var c = isNaN(this._padding) ? 0 : this._padding,
                    d = isNaN(this._paddingLeft) ? c : this._paddingLeft, f = isNaN(this._paddingRight) ? c : this._paddingRight, g = isNaN(this._paddingTop) ? c : this._paddingTop, c = isNaN(this._paddingBottom) ? c : this._paddingBottom;
                this._textField.x = d;
                this._textField.y = g;
                if (this.isSpecialCase()) {
                    var k = isNaN(this.lastUnscaledWidth) || this.lastUnscaledWidth != a;
                    this.lastUnscaledWidth = a;
                    if (k) {
                        this._UIC_Props_._oldPreferWidth = NaN;
                        this._UIC_Props_._oldPreferHeight = NaN;
                        this.invalidateSize();
                        return
                    }
                }
                this._UIC_Props_._invalidateSizeFlag && this.validateSize();
                this._textField.visible || (this._textField.visible = !0);
                this._textField.width = a - d - f;
                d = b - g - c;
                this._textField.height = d;
                0 < this._maxDisplayedLines && this._textField.numLines > this._maxDisplayedLines && (f = this._textField.lineSpacing, this._textField.height = Math.min(d, (this._textField.size + f) * this._maxDisplayedLines - f))
            };
            return b
        }(d.TextBase);
        d.Label = f;
        f.prototype.__class__ = "egret.gui.Label"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._graphics = null;
                this._fillColor = 16777215;
                this._fillAlpha = 1;
                this._strokeColor = 4473924;
                this._strokeAlpha = 0;
                this._strokeWeight = 1;
                this.touchChildren = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "graphics", {
                get: function () {
                    this._graphics || (this._graphics = new d.Graphics, this.needDraw = !0);
                    return this._graphics
                }, enumerable: !0, configurable: !0
            });
            a._render = function (a) {
                this._graphics && this._graphics._draw(a);
                c.prototype._render.call(this,
                    a)
            };
            Object.defineProperty(a, "fillColor", {
                get: function () {
                    return this._fillColor
                }, set: function (a) {
                    this._fillColor != a && (this._fillColor = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "fillAlpha", {
                get: function () {
                    return this._fillAlpha
                }, set: function (a) {
                    this._fillAlpha != a && (this._fillAlpha = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "strokeColor", {
                get: function () {
                    return this._strokeColor
                }, set: function (a) {
                    this._strokeColor !=
                    a && (this._strokeColor = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "strokeAlpha", {
                get: function () {
                    return this._strokeAlpha
                }, set: function (a) {
                    this._strokeAlpha != a && (this._strokeAlpha = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "strokeWeight", {
                get: function () {
                    return this._strokeWeight
                }, set: function (a) {
                    this._strokeWeight != a && (this._strokeWeight = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            a._measureBounds =
                function () {
                    var a = c.prototype._measureBounds.call(this), b = this.width, d = this.height;
                    0 < a.x && (a.x = 0);
                    0 < a.y && (a.y = 0);
                    0 + b > a.right && (a.right = 0 + b);
                    0 + d > a.bottom && (a.bottom = 0 + d);
                    return a
                };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, a);
                var d = this.graphics;
                d.clear();
                d.beginFill(this._fillColor, this._fillAlpha);
                0 < this._strokeAlpha && d.lineStyle(this._strokeWeight, this._strokeColor, this._strokeAlpha, !0, "normal", "square", "miter");
                d.drawRect(0, 0, a, b);
                d.endFill()
            };
            a.hitTest = function (a,
                                  b, f) {
                void 0 === f && (f = !1);
                var g = c.prototype.hitTest.call(this, a, b, f);
                return g ? g : this._graphics ? d.DisplayObject.prototype.hitTest.call(this, a, b, f) : null
            };
            return b
        }(g.UIComponent);
        g.Rect = f;
        f.prototype.__class__ = "egret.gui.Rect"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._icon = this.iconDisplay = null
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "icon", {
                get: function () {
                    return this._getIcon()
                }, set: function (a) {
                    this._setIcon(a)
                }, enumerable: !0, configurable: !0
            });
            a._getIcon = function () {
                return this.iconDisplay ? this.iconDisplay.source : this._icon
            };
            a._setIcon = function (a) {
                this._icon = a;
                this.iconDisplay && (this.iconDisplay.source = a)
            };
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this, a, b);
                b == this.iconDisplay && (this.iconDisplay.source = this._icon)
            };
            return b
        }(d.ButtonBase);
        d.Button = f;
        f.prototype.__class__ = "egret.gui.Button"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._icon = this.iconDisplay = null
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "icon", {
                get: function () {
                    return this._getIcon()
                }, set: function (a) {
                    this._setIcon(a)
                }, enumerable: !0, configurable: !0
            });
            a._getIcon = function () {
                return this.iconDisplay ? this.iconDisplay.source : this._icon
            };
            a._setIcon = function (a) {
                this._icon = a;
                this.iconDisplay && (this.iconDisplay.source = a)
            };
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this, a, b);
                b == this.iconDisplay && (this.iconDisplay.source = this._icon)
            };
            return b
        }(d.ToggleButtonBase);
        d.ToggleButton = f;
        f.prototype.__class__ = "egret.gui.ToggleButton"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.elementsContentChanged = this.createChildrenCalled = !1;
                this._elementsContent = []
            }

            __extends(b, c);
            var a = b.prototype;
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                this.createChildrenCalled = !0;
                this.elementsContentChanged && (this.elementsContentChanged = !1, this.setElementsContent(this._elementsContent))
            };
            a._getElementsContent = function () {
                return this._elementsContent
            };
            Object.defineProperty(a, "elementsContent", {
                set: function (a) {
                    null ==
                    a && (a = []);
                    if (a != this._elementsContent)if (this.createChildrenCalled)this.setElementsContent(a); else {
                        this.elementsContentChanged = !0;
                        for (var b = this._elementsContent.length - 1; 0 <= b; b--)this._elementRemoved(this._elementsContent[b], b);
                        this._elementsContent = a
                    }
                }, enumerable: !0, configurable: !0
            });
            a.setElementsContent = function (a) {
                var b;
                for (b = this._elementsContent.length - 1; 0 <= b; b--)this._elementRemoved(this._elementsContent[b], b);
                this._elementsContent = a.concat();
                a = this._elementsContent.length;
                for (b = 0; b < a; b++) {
                    var c =
                        this._elementsContent[b];
                    c.parent && "removeElement"in c.parent ? c.parent.removeElement(c) : c.owner && "removeElement"in c.owner && c.owner.removeElement(c);
                    this._elementAdded(c, b)
                }
            };
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._elementsContent.length
                }, enumerable: !0, configurable: !0
            });
            a.getElementAt = function (a) {
                this.checkForRangeError(a);
                return this._elementsContent[a]
            };
            a.checkForRangeError = function (a, b) {
                void 0 === b && (b = !1);
                var c = this._elementsContent.length - 1;
                b && c++;
                (0 > a || a > c) && d.$error(3011,
                    a)
            };
            a.addElement = function (a) {
                var b = this.numElements;
                a.parent == this && (b = this.numElements - 1);
                return this.addElementAt(a, b)
            };
            a.addElementAt = function (a, b) {
                if (a == this)return a;
                this.checkForRangeError(b, !0);
                var c = a.owner;
                if (c == this || a.parent == this)return this.setElementIndex(a, b), a;
                c && "removeElement"in c && a.owner.removeElement(a);
                this._elementsContent.splice(b, 0, a);
                this.elementsContentChanged || this._elementAdded(a, b);
                return a
            };
            a.removeElement = function (a) {
                return this.removeElementAt(this.getElementIndex(a))
            };
            a.removeElementAt = function (a) {
                this.checkForRangeError(a);
                var b = this._elementsContent[a];
                this.elementsContentChanged || this._elementRemoved(b, a);
                this._elementsContent.splice(a, 1);
                return b
            };
            a.removeAllElements = function () {
                for (var a = this.numElements - 1; 0 <= a; a--)this.removeElementAt(a)
            };
            a.getElementIndex = function (a) {
                return this._elementsContent.indexOf(a)
            };
            a.setElementIndex = function (a, b) {
                this.checkForRangeError(b);
                var c = this.getElementIndex(a);
                -1 != c && c != b && (this.elementsContentChanged || this._elementRemoved(a,
                    c, !1), this._elementsContent.splice(c, 1), this._elementsContent.splice(b, 0, a), this.elementsContentChanged || this._elementAdded(a, b, !1))
            };
            a.swapElements = function (a, b) {
                this.swapElementsAt(this.getElementIndex(a), this.getElementIndex(b))
            };
            a.swapElementsAt = function (a, b) {
                this.checkForRangeError(a);
                this.checkForRangeError(b);
                if (a > b) {
                    var c = b;
                    b = a;
                    a = c
                } else if (a == b)return;
                var c = this._elementsContent, d = c[a], f = c[b];
                this.elementsContentChanged || (this._elementRemoved(d, a, !1), this._elementRemoved(f, b, !1));
                c[a] = f;
                c[b] =
                    d;
                this.elementsContentChanged || (this._elementAdded(f, a, !1), this._elementAdded(d, b, !1))
            };
            a._elementAdded = function (a, b, c) {
                void 0 === c && (c = !0);
                a instanceof d.DisplayObject && this._addToDisplayListAt(a, b, c);
                c && this.hasEventListener(g.ElementExistenceEvent.ELEMENT_ADD) && g.ElementExistenceEvent.dispatchElementExistenceEvent(this, g.ElementExistenceEvent.ELEMENT_ADD, a, b);
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a._elementRemoved = function (a, b, c) {
                void 0 === c && (c = !0);
                c && this.hasEventListener(g.ElementExistenceEvent.ELEMENT_REMOVE) &&
                g.ElementExistenceEvent.dispatchElementExistenceEvent(this, g.ElementExistenceEvent.ELEMENT_REMOVE, a, b);
                a instanceof d.DisplayObject && a.parent == this && this._removeFromDisplayList(a, c);
                this.invalidateSize();
                this.invalidateDisplayList()
            };
            a.addChild = function (a) {
                d.$error(3004, d.getString(3003));
                return null
            };
            a.addChildAt = function (a, b) {
                d.$error(3005, d.getString(3003));
                return null
            };
            a.removeChild = function (a) {
                d.$error(3006, d.getString(3003));
                return null
            };
            a.removeChildAt = function (a) {
                d.$error(3007, d.getString(3003));
                return null
            };
            a.setChildIndex = function (a, b) {
                d.$error(3008, d.getString(3003))
            };
            a.swapChildren = function (a, b) {
                d.$error(3009, d.getString(3003))
            };
            a.swapChildrenAt = function (a, b) {
                d.$error(3010, d.getString(3003))
            };
            return b
        }(g.GroupBase);
        g.Group = f;
        f.prototype.__class__ = "egret.gui.Group"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.maxWidth = 1E4;
                this.minWidth = 0;
                this.maxHeight = 1E4;
                this.minHeight = 0;
                this._hasWidthSet = !1;
                this._width = NaN;
                this._hasHeightSet = !1;
                this._height = NaN;
                this.measuredHeight = this.measuredWidth = 0;
                this._initialized = !1;
                this._hostComponent = null;
                this._elementsContent = [];
                this.skinLayout = null;
                this._states = [];
                this.playStateTransition = !0;
                this.currentStateChanged = !1;
                this.requestedCurrentState = this._currentState = null;
                this.initialized = !1;
                this.skinLayout =
                    new g.SkinBasicLayout;
                this.skinLayout.target = this
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._width
                }, set: function (a) {
                    this._width != a && (this._width = a, this._hasWidthSet = d.NumberUtils.isNumber(a))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._height
                }, set: function (a) {
                    this._height != a && (this._height = a, this._hasHeightSet = d.NumberUtils.isNumber(a))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "preferredWidth",
                {
                    get: function () {
                        return this._hasWidthSet ? this._width : this.measuredWidth
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "preferredHeight", {
                get: function () {
                    return this._hasHeightSet ? this._height : this.measuredHeight
                }, enumerable: !0, configurable: !0
            });
            a.createChildren = function () {
            };
            Object.defineProperty(a, "hostComponent", {
                get: function () {
                    return this._hostComponent
                }, set: function (a) {
                    this._setHostComponent(a)
                }, enumerable: !0, configurable: !0
            });
            a._setHostComponent = function (a) {
                if (this._hostComponent != a) {
                    var b;
                    if (this._hostComponent)for (b = this._elementsContent.length - 1; 0 <= b; b--)this._elementRemoved(this._elementsContent[b], b);
                    this._hostComponent = a;
                    this._initialized || (this._initialized = !0, this.createChildren());
                    if (this._hostComponent) {
                        a = this._elementsContent.length;
                        for (b = 0; b < a; b++)this._elementAdded(this._elementsContent[b], b);
                        this.initializeStates();
                        this.currentStateChanged && this.commitCurrentState()
                    }
                }
            };
            a._getElementsContent = function () {
                return this._elementsContent
            };
            Object.defineProperty(a, "elementsContent",
                {
                    set: function (a) {
                        null == a && (a = []);
                        if (a != this._elementsContent)if (this._hostComponent) {
                            var b;
                            for (b = this._elementsContent.length - 1; 0 <= b; b--)this._elementRemoved(this._elementsContent[b], b);
                            this._elementsContent = a.concat();
                            a = this._elementsContent.length;
                            for (b = 0; b < a; b++) {
                                var c = this._elementsContent[b];
                                c.parent && "removeElement"in c.parent ? c.parent.removeElement(c) : c.owner && "removeElement"in c.owner && c.owner.removeElement(c);
                                this._elementAdded(c, b)
                            }
                        } else this._elementsContent = a.concat()
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._elementsContent.length
                }, enumerable: !0, configurable: !0
            });
            a.getElementAt = function (a) {
                this.checkForRangeError(a);
                return this._elementsContent[a]
            };
            a.checkForRangeError = function (a, b) {
                void 0 === b && (b = !1);
                var c = this._elementsContent.length - 1;
                b && c++;
                (0 > a || a > c) && d.$error(3011, a)
            };
            a.addElement = function (a) {
                var b = this.numElements;
                a.owner == this && (b = this.numElements - 1);
                return this.addElementAt(a, b)
            };
            a.addElementAt = function (a, b) {
                this.checkForRangeError(b,
                    !0);
                var c = a.owner;
                if (c == this)return this.setElementIndex(a, b), a;
                c && "removeElement"in c && c.removeElement(a);
                this._elementsContent.splice(b, 0, a);
                this._hostComponent ? this._elementAdded(a, b) : a.ownerChanged(this);
                return a
            };
            a.removeElement = function (a) {
                return this.removeElementAt(this.getElementIndex(a))
            };
            a.removeElementAt = function (a) {
                this.checkForRangeError(a);
                var b = this._elementsContent[a];
                this._hostComponent ? this._elementRemoved(b, a) : b.ownerChanged(null);
                this._elementsContent.splice(a, 1);
                return b
            };
            a.getElementIndex =
                function (a) {
                    return this._elementsContent.indexOf(a)
                };
            a.setElementIndex = function (a, b) {
                this.checkForRangeError(b);
                var c = this.getElementIndex(a);
                -1 != c && c != b && (this._hostComponent && this._elementRemoved(a, c, !1), this._elementsContent.splice(c, 1), this._elementsContent.splice(b, 0, a), this._hostComponent && this._elementAdded(a, b, !1))
            };
            a._elementAdded = function (a, b, c) {
                void 0 === c && (c = !0);
                a.ownerChanged(this);
                a instanceof d.DisplayObject && this._hostComponent._addToDisplayListAt(a, b, c);
                c && this.hasEventListener(g.ElementExistenceEvent.ELEMENT_ADD) &&
                g.ElementExistenceEvent.dispatchElementExistenceEvent(this, g.ElementExistenceEvent.ELEMENT_ADD, a, b);
                this._hostComponent.invalidateSize();
                this._hostComponent.invalidateDisplayList()
            };
            a._elementRemoved = function (a, b, c) {
                void 0 === c && (c = !0);
                c && this.hasEventListener(g.ElementExistenceEvent.ELEMENT_REMOVE) && g.ElementExistenceEvent.dispatchElementExistenceEvent(this, g.ElementExistenceEvent.ELEMENT_REMOVE, a, b);
                a instanceof d.DisplayObject && a.parent == this._hostComponent && this._hostComponent._removeFromDisplayList(a,
                    c);
                a.ownerChanged(null);
                this._hostComponent.invalidateSize();
                this._hostComponent.invalidateDisplayList()
            };
            a.measure = function () {
                this.skinLayout.measure();
                this.measuredWidth < this.minWidth && (this.measuredWidth = this.minWidth);
                this.measuredWidth > this.maxWidth && (this.measuredWidth = this.maxWidth);
                this.measuredHeight < this.minHeight && (this.measuredHeight = this.minHeight);
                this.measuredHeight > this.maxHeight && (this.measuredHeight = this.maxHeight)
            };
            a.updateDisplayList = function (a, b) {
                this.skinLayout.updateDisplayList(a,
                    b)
            };
            Object.defineProperty(a, "states", {
                get: function () {
                    return this._states
                }, set: function (a) {
                    this._setStates(a)
                }, enumerable: !0, configurable: !0
            });
            a._setStates = function (a) {
                a || (a = []);
                if ("string" == typeof a[0])for (var b = a.length, c = 0; c < b; c++) {
                    var d = new g.State(a[c], []);
                    a[c] = d
                }
                this._states = a;
                this.currentStateChanged = !0;
                this.requestedCurrentState = this._currentState;
                this.hasState(this.requestedCurrentState) || (this.requestedCurrentState = this.getDefaultState())
            };
            Object.defineProperty(a, "transitions", {
                get: function () {
                    return this._transitions
                },
                set: function (a) {
                    this._transitions = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "currentState", {
                get: function () {
                    return this.currentStateChanged ? this.requestedCurrentState : this._currentState ? this._currentState : this.getDefaultState()
                }, set: function (a) {
                    a || (a = this.getDefaultState());
                    a != this.currentState && a && this.currentState && (this.requestedCurrentState = a, this.currentStateChanged = !0, this._hostComponent && this.commitCurrentState())
                }, enumerable: !0, configurable: !0
            });
            a.hasState = function (a) {
                return null !=
                    this.getState(a)
            };
            a.getDefaultState = function () {
                return 0 < this._states.length ? this._states[0].name : null
            };
            a.commitCurrentState = function () {
                if (this.currentStateChanged) {
                    this.currentStateChanged = !1;
                    this.getState(this.requestedCurrentState) || (this.requestedCurrentState = this.getDefaultState());
                    var a;
                    this.playStateTransition && (a = this.getTransition(this._currentState, this.requestedCurrentState));
                    var b, c;
                    this._currentTransition && (this._currentTransition.effect.removeEventListener(g.EffectEvent.EFFECT_END, this.transition_effectEndHandler,
                        this), a && this._currentTransition.interruptionBehavior == g.InterruptionBehavior.STOP ? (c = this._currentTransition.effect, c.stop()) : (this._currentTransition.autoReverse && this.transitionFromState == this.requestedCurrentState && this.transitionToState == this._currentState && (b = 0 == this._currentTransition.effect.duration ? 0 : this._currentTransition.effect.playheadTime / this.getTotalDuration(this._currentTransition.effect)), this._currentTransition.effect.end()), this._currentTransition = null);
                    c = this._currentState ? this._currentState :
                        "";
                    this.hasEventListener(g.StateChangeEvent.CURRENT_STATE_CHANGING) && g.StateChangeEvent.dispatchStateChangeEvent(this, g.StateChangeEvent.CURRENT_STATE_CHANGING, c, this.requestedCurrentState ? this.requestedCurrentState : "");
                    this.removeState(this._currentState);
                    (this._currentState = this.requestedCurrentState) && this.applyState(this._currentState);
                    this.hasEventListener(g.StateChangeEvent.CURRENT_STATE_CHANGE) && g.StateChangeEvent.dispatchStateChangeEvent(this, g.StateChangeEvent.CURRENT_STATE_CHANGE, c, this._currentState ?
                        this._currentState : "");
                    if (a) {
                        var d = a && a.autoReverse && (a.toState == c || a.fromState == this._currentState);
                        g.UIGlobals._layoutManager.validateNow();
                        this._currentTransition = a;
                        this.transitionFromState = c;
                        this.transitionToState = this._currentState;
                        a.effect.addEventListener(g.EffectEvent.EFFECT_END, this.transition_effectEndHandler, this);
                        a.effect.play(null, d);
                        isNaN(b) || 0 == a.effect.duration || (a.effect.playheadTime = (1 - b) * this.getTotalDuration(a.effect))
                    } else this.hasEventListener(g.StateChangeEvent.STATE_CHANGE_COMPLETE) &&
                    g.StateChangeEvent.dispatchStateChangeEvent(this, g.StateChangeEvent.STATE_CHANGE_COMPLETE, c, this._currentState)
                }
            };
            a.transition_effectEndHandler = function (a) {
                this._currentTransition = null;
                this.hasEventListener(g.StateChangeEvent.STATE_CHANGE_COMPLETE) && g.StateChangeEvent.dispatchStateChangeEvent(this, g.StateChangeEvent.STATE_CHANGE_COMPLETE, this.transitionFromState, this.transitionToState)
            };
            a.getState = function (a) {
                if (!a)return null;
                for (var b = this._states, c = b.length, d = 0; d < c; d++) {
                    var f = b[d];
                    if (f.name == a)return f
                }
                return null
            };
            a.removeState = function (a) {
                if (a = this.getState(a)) {
                    a = a.overrides;
                    for (var b = a.length - 1; 0 <= b; b--)a[b].remove(this)
                }
            };
            a.applyState = function (a) {
                if (a = this.getState(a)) {
                    a = a.overrides;
                    for (var b = a.length, c = 0; c < b; c++)a[c].apply(this)
                }
            };
            a.initializeStates = function () {
                if (!this.initialized) {
                    this.initialized = !0;
                    for (var a = this._states, b = a.length, c = 0; c < b; c++)a[c].initialize(this)
                }
            };
            a.getTransition = function (a, b) {
                var c = null, d = 0;
                if (!this.transitions)return null;
                a || (a = "");
                b || (b = "");
                for (var f = 0; f < this.transitions.length; f++) {
                    var g =
                        this.transitions[f];
                    if ("*" == g.fromState && "*" == g.toState && 1 > d)c = g, d = 1; else if (g.toState == a && "*" == g.fromState && g.autoReverse && 2 > d)c = g, d = 2; else if ("*" == g.toState && g.fromState == b && g.autoReverse && 3 > d)c = g, d = 3; else if (g.toState == a && g.fromState == b && g.autoReverse && 4 > d)c = g, d = 4; else if (g.fromState == a && "*" == g.toState && 5 > d)c = g, d = 5; else if ("*" == g.fromState && g.toState == b && 6 > d)c = g, d = 6; else if (g.fromState == a && g.toState == b && 7 > d) {
                        c = g;
                        break
                    }
                }
                c && !c.effect && (c = null);
                return c
            };
            a.getTotalDuration = function (a) {
                var b = 0, b = a instanceof
                g.CompositeEffect ? a.compositeDuration : a.duration, c = "repeatCount"in a ? a.repeatCount : 0;
                return b = b * c + ("repeatDelay"in a ? a.repeatDelay : 0) * (c - 1) + ("startDelay"in a ? a.startDelay : 0)
            };
            return b
        }(d.EventDispatcher);
        g.Skin = f;
        f.prototype.__class__ = "egret.gui.Skin"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, f) {
                void 0 === a && (a = null);
                void 0 === b && (b = null);
                void 0 === f && (f = null);
                c.call(this);
                this.labelDisplay = new d.gui.Label;
                this.iconDisplay = new d.gui.UIAsset;
                var g = {};
                g.up = a;
                g.down = b;
                g.disabled = f;
                this.stateMap = g;
                this._setStates(["up", "down", "disabled"])
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                }, enumerable: !0, configurable: !0
            });
            a.createChildren = function () {
                c.prototype.createChildren.call(this);
                var a = new g.UIAsset;
                a.left = a.top = a.bottom = a.right = 0;
                this.addElement(a);
                this.backgroundAsset = a;
                this.iconDisplay.includeInLayout = !1;
                this.addElement(this.iconDisplay);
                this.labelDisplay.includeInLayout = !1;
                this.labelDisplay.paddingLeft = 5;
                this.labelDisplay.paddingRight = 5;
                this.addElement(this.labelDisplay)
            };
            a.commitCurrentState = function () {
                c.prototype.commitCurrentState.call(this);
                var a = this.currentState;
                this.stateMap[a] && (this.backgroundAsset.source = this.stateMap[a])
            };
            a.measure = function () {
                c.prototype.measure.call(this);
                var a = this.iconDisplay.preferredWidth + this.labelDisplay.preferredWidth + 20, b = Math.max(this.iconDisplay.preferredHeight, this.labelDisplay.preferredHeight) + 20;
                a > this.measuredWidth && (a < this.minWidth && (a = this.minWidth), a > this.maxWidth && (a = this.maxWidth), this.measuredWidth = a);
                b > this.measuredHeight && (b < this.minHeight && (b = this.minHeight), b > this.maxHeight && (b = this.maxHeight), this.measuredHeight = b)
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                var d = this.iconDisplay.layoutBoundsWidth,
                    f = this.labelDisplay.layoutBoundsHeight, g = 0.5 * (a - d - this.labelDisplay.layoutBoundsWidth);
                this.iconDisplay.setLayoutBoundsPosition(g, 0.5 * (b - this.iconDisplay.layoutBoundsHeight));
                this.labelDisplay.setLayoutBoundsPosition(g + d, 0.5 * (b - f))
            };
            b._skinParts = ["labelDisplay", "iconDisplay"];
            return b
        }(g.Skin);
        g.ButtonSkin = f;
        f.prototype.__class__ = "egret.gui.ButtonSkin"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._placeHolderGroup = this.contentGroup = null;
                this.contentGroupProperties = {}
            }

            __extends(b, c);
            var a = b.prototype;
            a._getCurrentContentGroup = function () {
                return null == this.contentGroup ? (null == this._placeHolderGroup && (this._placeHolderGroup = new d.Group, this._placeHolderGroup.visible = !1, this._addToDisplayList(this._placeHolderGroup)), this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD, this._contentGroup_elementAddedHandler,
                    this), this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE, this._contentGroup_elementRemovedHandler, this), this._placeHolderGroup) : this.contentGroup
            };
            Object.defineProperty(a, "elementsContent", {
                set: function (a) {
                    this._getCurrentContentGroup().elementsContent = a
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "numElements", {
                get: function () {
                    return this._getCurrentContentGroup().numElements
                }, enumerable: !0, configurable: !0
            });
            a.getElementAt = function (a) {
                return this._getCurrentContentGroup().getElementAt(a)
            };
            a.addElement = function (a) {
                return this._getCurrentContentGroup().addElement(a)
            };
            a.addElementAt = function (a, b) {
                return this._getCurrentContentGroup().addElementAt(a, b)
            };
            a.removeElement = function (a) {
                return this._getCurrentContentGroup().removeElement(a)
            };
            a.removeElementAt = function (a) {
                return this._getCurrentContentGroup().removeElementAt(a)
            };
            a.removeAllElements = function () {
                this._getCurrentContentGroup().removeAllElements()
            };
            a.getElementIndex = function (a) {
                return this._getCurrentContentGroup().getElementIndex(a)
            };
            a.setElementIndex = function (a, b) {
                this._getCurrentContentGroup().setElementIndex(a, b)
            };
            a.swapElements = function (a, b) {
                this._getCurrentContentGroup().swapElements(a, b)
            };
            a.swapElementsAt = function (a, b) {
                this._getCurrentContentGroup().swapElementsAt(a, b)
            };
            Object.defineProperty(a, "layout", {
                get: function () {
                    return null != this.contentGroup ? this.contentGroup.layout : this.contentGroupProperties.layout
                }, set: function (a) {
                    null != this.contentGroup ? this.contentGroup.layout = a : this.contentGroupProperties.layout = a
                }, enumerable: !0,
                configurable: !0
            });
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this, a, b);
                if (b == this.contentGroup) {
                    void 0 !== this.contentGroupProperties.layout && (this.contentGroup.layout = this.contentGroupProperties.layout, this.contentGroupProperties = {});
                    if (this._placeHolderGroup) {
                        this._placeHolderGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_ADD, this._contentGroup_elementAddedHandler, this);
                        this._placeHolderGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE, this._contentGroup_elementRemovedHandler,
                            this);
                        for (var f = this._placeHolderGroup._getElementsContent().concat(), C = this._placeHolderGroup.numElements; 0 < C; C--) {
                            var v = this._placeHolderGroup.removeElementAt(0);
                            v.ownerChanged(null)
                        }
                        this._removeFromDisplayList(this._placeHolderGroup);
                        this.contentGroup.elementsContent = f;
                        for (C = f.length - 1; 0 <= C; C--)v = f[C], v.ownerChanged(this);
                        this._placeHolderGroup = null
                    }
                    this.contentGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD, this._contentGroup_elementAddedHandler, this);
                    this.contentGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,
                        this._contentGroup_elementRemovedHandler, this)
                }
            };
            a.partRemoved = function (a, b) {
                c.prototype.partRemoved.call(this, a, b);
                if (b == this.contentGroup && (this.contentGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_ADD, this._contentGroup_elementAddedHandler, this), this.contentGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE, this._contentGroup_elementRemovedHandler, this), this.contentGroupProperties.layout = this.contentGroup.layout, this.contentGroup.layout = null, 0 < this.contentGroup.numElements)) {
                    for (this._placeHolderGroup =
                             new d.Group; 0 < this.contentGroup.numElements;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));
                    this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD, this._contentGroup_elementAddedHandler, this);
                    this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE, this._contentGroup_elementRemovedHandler, this)
                }
            };
            a._contentGroup_elementAddedHandler = function (a) {
                a.element.ownerChanged(this);
                this.dispatchEvent(a)
            };
            a._contentGroup_elementRemovedHandler =
                function (a) {
                    a.element.ownerChanged(null);
                    this.dispatchEvent(a)
                };
            return b
        }(d.SkinnableComponent);
        d.SkinnableContainer = f;
        f.prototype.__class__ = "egret.gui.SkinnableContainer"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.titleDisplay = null;
                this._title = "";
                this.touchEnabled = this.titleChanged = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "title", {
                get: function () {
                    return this._title
                }, set: function (a) {
                    this._title = a;
                    this.titleDisplay && (this.titleDisplay.text = this.title)
                }, enumerable: !0, configurable: !0
            });
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this, a, b);
                b == this.titleDisplay && (this.titleDisplay.text = this.title)
            };
            return b
        }(d.SkinnableContainer);
        d.Panel = f;
        f.prototype.__class__ = "egret.gui.Panel"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.moveArea = this.closeButton = null;
                this._autoBackToStage = this._showCloseButton = !0;
                this._offsetPointY = this._offsetPointX = NaN;
                this.addEventListener(d.TouchEvent.TOUCH_BEGIN, this.onWindowMouseDown, this, !0, 100)
            }

            __extends(b, c);
            var a = b.prototype;
            a.onWindowMouseDown = function (a) {
                this.enabled && this.isPopUp && a.target != this.closeButton && g.PopUpManager.bringToFront(this)
            };
            Object.defineProperty(a, "showCloseButton", {
                get: function () {
                    return this._showCloseButton
                },
                set: function (a) {
                    this._showCloseButton != a && (this._showCloseButton = a, this.closeButton && (this.closeButton.visible = this._showCloseButton))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "autoBackToStage", {
                get: function () {
                    return this._autoBackToStage
                }, set: function (a) {
                    this._autoBackToStage = a
                }, enumerable: !0, configurable: !0
            });
            a.partAdded = function (a, b) {
                c.prototype.partAdded.call(this, a, b);
                b == this.moveArea ? this.moveArea.addEventListener(d.TouchEvent.TOUCH_BEGIN, this.moveArea_mouseDownHandler, this) :
                b == this.closeButton && (this.closeButton.addEventListener(d.TouchEvent.TOUCH_TAP, this.closeButton_clickHandler, this), this.closeButton.visible = this._showCloseButton)
            };
            a.partRemoved = function (a, b) {
                c.prototype.partRemoved.call(this, a, b);
                b == this.moveArea ? this.moveArea.removeEventListener(d.TouchEvent.TOUCH_BEGIN, this.moveArea_mouseDownHandler, this) : b == this.closeButton && this.closeButton.removeEventListener(d.TouchEvent.TOUCH_TAP, this.closeButton_clickHandler, this)
            };
            a.closeButton_clickHandler = function (a) {
                g.CloseEvent.dispatchCloseEvent(this,
                    g.CloseEvent.CLOSE)
            };
            a.moveArea_mouseDownHandler = function (a) {
                this.enabled && this.isPopUp && (a = this.globalToLocal(a.stageX, a.stageY, d.Point.identity), this._offsetPointX = a.x, this._offsetPointY = a.y, this._UIC_Props_._includeInLayout = !1, g.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_MOVE, this.moveArea_mouseMoveHandler, this), g.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END, this.moveArea_mouseUpHandler, this), g.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE, this.moveArea_mouseUpHandler,
                    this))
            };
            a.moveArea_mouseMoveHandler = function (a) {
                a = this.globalToLocal(a.stageX, a.stageY, d.Point.identity);
                this.x += a.x - this._offsetPointX;
                this.y += a.y - this._offsetPointY
            };
            a.moveArea_mouseUpHandler = function (a) {
                g.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE, this.moveArea_mouseMoveHandler, this);
                g.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END, this.moveArea_mouseUpHandler, this);
                g.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE, this.moveArea_mouseUpHandler, this);
                this._autoBackToStage &&
                this.adjustPosForStage();
                g.LayoutUtil.adjustRelativeByXY(this);
                this.includeInLayout = !0
            };
            a.adjustPosForStage = function () {
                if (this.moveArea && this.stage) {
                    var a = this.moveArea.localToGlobal(0, 0), b = a.x, c = a.y;
                    35 > a.x + this.moveArea.width && (b = 35 - this.moveArea.width);
                    a.x > this.stage.stageWidth - 20 && (b = this.stage.stageWidth - 20);
                    20 > a.y + this.moveArea.height && (c = 20 - this.moveArea.height);
                    a.y > this.stage.stageHeight - 20 && (c = this.stage.stageHeight - 20);
                    this.x += b - a.x;
                    this.y += c - a.y
                }
            };
            return b
        }(g.Panel);
        g.TitleWindow = f;
        f.prototype.__class__ =
            "egret.gui.TitleWindow"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._labelFunction = this.labelDisplay = this.track = this.thumb = null;
                this._slideDuration = 500;
                this._direction = g.ProgressBarDirection.LEFT_TO_RIGHT;
                this.animator = null;
                this.slideToValue = NaN;
                this.animationValue = 0;
                this.trackResizedOrMoved = !1
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "labelFunction", {
                get: function () {
                    return this._labelFunction
                }, set: function (a) {
                    this._labelFunction != a && (this._labelFunction = a, this.invalidateDisplayList())
                },
                enumerable: !0, configurable: !0
            });
            a.valueToLabel = function (a, b) {
                return null != this.labelFunction ? this._labelFunction(a, b) : a + " / " + b
            };
            Object.defineProperty(a, "slideDuration", {
                get: function () {
                    return this._slideDuration
                }, set: function (a) {
                    this._slideDuration != a && (this._slideDuration = a, this.animator && this.animator.isPlaying && (this.animator.stop(), this._setValue(this.slideToValue)))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "direction", {
                get: function () {
                    return this._direction
                }, set: function (a) {
                    this._direction !=
                    a && (this._direction = a, this.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "value", {
                get: function () {
                    return this._getValue()
                }, set: function (a) {
                    this._getValue() != a && (this._setValue(a), 0 < this._slideDuration && this.stage ? (this.validateProperties(), this.animator || (this.animator = new g.Animation(this.animationUpdateHandler, this)), this.animator.isPlaying && (this.animationValue = this.slideToValue, this.invalidateDisplayList(), this.animator.stop()), this.slideToValue = this.nearestValidValue(a,
                        this.snapInterval), this.slideToValue != this.animationValue && (a = this._slideDuration * (Math.abs(this.animationValue - this.slideToValue) / (this.maximum - this.minimum)), this.animator.duration = Infinity === a ? 0 : a, this.animator.motionPaths = [new g.SimpleMotionPath("value", this.animationValue, this.slideToValue)], this.animator.play())) : this.animationValue = this._getValue())
                }, enumerable: !0, configurable: !0
            });
            a.animationUpdateHandler = function (a) {
                a = this.nearestValidValue(a.currentValue.value, this.snapInterval);
                this.animationValue =
                    Math.min(this.maximum, Math.max(this.minimum, a));
                this.invalidateDisplayList()
            };
            a.setValue = function (a) {
                c.prototype.setValue.call(this, a);
                this.invalidateDisplayList()
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                this.updateSkinDisplayList()
            };
            a.partAdded = function (a, b) {
                b == this.track && this.track instanceof g.UIComponent && (this.track.addEventListener(g.ResizeEvent.RESIZE, this.onTrackResizeOrMove, this), this.track.addEventListener(g.MoveEvent.MOVE, this.onTrackResizeOrMove,
                    this))
            };
            a.partRemoved = function (a, b) {
                b == this.track && this.track instanceof g.UIComponent && (this.track.removeEventListener(g.ResizeEvent.RESIZE, this.onTrackResizeOrMove, this), this.track.removeEventListener(g.MoveEvent.MOVE, this.onTrackResizeOrMove, this))
            };
            a.onTrackResizeOrMove = function (a) {
                this.trackResizedOrMoved = !0;
                this.invalidateProperties()
            };
            a.commitProperties = function () {
                c.prototype.commitProperties.call(this);
                this.trackResizedOrMoved && (this.trackResizedOrMoved = !1, this.updateSkinDisplayList())
            };
            a.updateSkinDisplayList =
                function () {
                    this.trackResizedOrMoved = !1;
                    var a = this.value;
                    this.animator && this.animator.isPlaying ? a = this.animationValue : (a = this.value, isNaN(a) && (a = 0));
                    var b = isNaN(this.maximum) ? 0 : this.maximum;
                    if (this.thumb && this.track) {
                        var c = isNaN(this.track.width) ? 0 : this.track.width, c = c * this.track.scaleX, f = isNaN(this.track.height) ? 0 : this.track.height, f = f * this.track.scaleY, v = Math.round(a / b * c);
                        if (isNaN(v) || 0 > v || Infinity === v)v = 0;
                        var n = Math.round(a / b * f);
                        if (isNaN(n) || 0 > n || Infinity === n)n = 0;
                        var k = this.track.localToGlobal(0,
                            0), l = this.globalToLocal(k.x, k.y, d.Point.identity), k = l.x, l = l.y;
                        switch (this._direction) {
                            case g.ProgressBarDirection.LEFT_TO_RIGHT:
                                this.thumb.width = v;
                                this.thumb.height = f;
                                this.thumb.x = k;
                                break;
                            case g.ProgressBarDirection.RIGHT_TO_LEFT:
                                this.thumb.width = v;
                                this.thumb.height = f;
                                this.thumb.x = k + c - v;
                                break;
                            case g.ProgressBarDirection.TOP_TO_BOTTOM:
                                this.thumb.width = c;
                                this.thumb.height = n;
                                this.thumb.y = l;
                                break;
                            case g.ProgressBarDirection.BOTTOM_TO_TOP:
                                this.thumb.width = c, this.thumb.height = n, this.thumb.y = l + f - n
                        }
                    }
                    this.labelDisplay &&
                    (this.labelDisplay.text = this.valueToLabel(a, b))
                };
            return b
        }(g.Range);
        g.ProgressBar = f;
        f.prototype.__class__ = "egret.gui.ProgressBar"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            c.LEFT_TO_RIGHT = "leftToRight";
            c.RIGHT_TO_LEFT = "rightToLeft";
            c.TOP_TO_BOTTOM = "topToBottom";
            c.BOTTOM_TO_TOP = "bottomToTop";
            return c
        }();
        d.ProgressBarDirection = f;
        f.prototype.__class__ = "egret.gui.ProgressBarDirection"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                c.call(this, a, b, d)
            }

            __extends(b, c);
            b.dispatchUIEvent = function (a, c) {
                d.Event._dispatchByTarget(b, a, c)
            };
            b.INITIALIZE = "initialize";
            b.CREATION_COMPLETE = "creationComplete";
            b.UPDATE_COMPLETE = "updateComplete";
            b.BUTTON_DOWN = "buttonDown";
            b.CHANGE_END = "changeEnd";
            b.CHANGE_START = "changeStart";
            b.CHANGING = "changing";
            b.VALUE_COMMIT = "valueCommit";
            b.SKIN_CHANGED = "skinChanged";
            b.CONTENT_CHANGED = "contentChanged";
            b.OPEN =
                "open";
            b.CLOSE = "close";
            b.PLAY_COMPLETE = "playComplete";
            return b
        }(d.Event);
        g.UIEvent = f;
        f.prototype.__class__ = "egret.gui.UIEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g, v, n, k) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                void 0 === v && (v = null);
                void 0 === n && (n = null);
                void 0 === k && (k = null);
                c.call(this, a, b, d);
                this.source = this.property = this.oldValue = this.newValue = this.kind = null;
                this.kind = f;
                this.property = g;
                this.oldValue = v;
                this.newValue = n;
                this.source = k
            }

            __extends(b, c);
            b.dispatchPropertyChangeEvent = function (a, c, f, g, C, v) {
                void 0 === c && (c = null);
                void 0 === f && (f = null);
                void 0 === g && (g =
                    null);
                void 0 === C && (C = null);
                void 0 === v && (v = null);
                var n = d.Event._getPropertyData(b);
                n.kind = c;
                n.property = f;
                n.oldValue = g;
                n.newValue = C;
                n.source = v;
                d.Event._dispatchByTarget(b, a, b.PROPERTY_CHANGE, n)
            };
            b.PROPERTY_CHANGE = "propertyChange";
            return b
        }(d.Event);
        g.PropertyChangeEvent = f;
        f.prototype.__class__ = "egret.gui.PropertyChangeEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c() {
            }

            c.UPDATE = "update";
            c.DELETE = "delete";
            return c
        }();
        d.PropertyChangeEventKind = f;
        f.prototype.__class__ = "egret.gui.PropertyChangeEventKind"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = NaN);
                void 0 === d && (d = NaN);
                void 0 === f && (f = !1);
                void 0 === g && (g = !1);
                c.call(this, a, f, g);
                this.oldY = this.oldX = NaN;
                this.oldX = b;
                this.oldY = d
            }

            __extends(b, c);
            b.dispatchMoveEvent = function (a, c, f) {
                void 0 === c && (c = NaN);
                void 0 === f && (f = NaN);
                var g = d.Event._getPropertyData(b);
                g.oldX = c;
                g.oldY = f;
                d.Event._dispatchByTarget(b, a, b.MOVE, g)
            };
            b.MOVE = "move";
            return b
        }(d.Event);
        g.MoveEvent = f;
        f.prototype.__class__ = "egret.gui.MoveEvent"
    })(d.gui || (d.gui =
    {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = NaN);
                void 0 === d && (d = NaN);
                void 0 === f && (f = !1);
                void 0 === g && (g = !1);
                c.call(this, a, f, g);
                this.oldWidth = this.oldHeight = NaN;
                this.oldWidth = b;
                this.oldHeight = d
            }

            __extends(b, c);
            b.dispatchResizeEvent = function (a, c, f) {
                void 0 === c && (c = NaN);
                void 0 === f && (f = NaN);
                var g = d.Event._getPropertyData(b);
                g.oldWidth = c;
                g.oldHeight = f;
                d.Event._dispatchByTarget(b, a, b.RESIZE, g)
            };
            b.RESIZE = "resize";
            return b
        }(d.Event);
        g.ResizeEvent = f;
        f.prototype.__class__ =
            "egret.gui.ResizeEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                c.call(this, a, b, d);
                this.partName = this.instance = null;
                this.partName = f;
                this.instance = g
            }

            __extends(b, c);
            b.dispatchSkinPartEvent = function (a, c, f, g) {
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                var C = d.Event._getPropertyData(b);
                C.partName = f;
                C.instance = g;
                d.Event._dispatchByTarget(b, a, c, C)
            };
            b.PART_ADDED = "partAdded";
            b.PART_REMOVED = "partRemoved";
            return b
        }(d.Event);
        g.SkinPartEvent =
            f;
        f.prototype.__class__ = "egret.gui.SkinPartEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = -1);
                c.call(this, a, b, d);
                this.detail = null;
                this.detail = f
            }

            __extends(b, c);
            b.dispatchCloseEvent = function (a, c, f) {
                void 0 === f && (f = -1);
                var g = d.Event._getPropertyData(b);
                g.detail = f;
                d.Event._dispatchByTarget(b, a, c, g)
            };
            b.CLOSE = "close";
            return b
        }(d.Event);
        g.CloseEvent = f;
        f.prototype.__class__ = "egret.gui.CloseEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                void 0 === g && (g = -1);
                c.call(this, a, b, d);
                this.index = NaN;
                this.element = null;
                this.element = f;
                this.index = g
            }

            __extends(b, c);
            b.dispatchElementExistenceEvent = function (a, c, f, g) {
                void 0 === f && (f = null);
                void 0 === g && (g = -1);
                var C = d.Event._getPropertyData(b);
                C.element = f;
                C.index = g;
                d.Event._dispatchByTarget(b, a, c, C)
            };
            b.ELEMENT_ADD = "elementAdd";
            b.ELEMENT_REMOVE = "elementRemove";
            return b
        }(d.Event);
        g.ElementExistenceEvent =
            f;
        f.prototype.__class__ = "egret.gui.ElementExistenceEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                void 0 === g && (g = !1);
                c.call(this, a, b, d);
                this.popUp = null;
                this.modal = !1;
                this.popUp = f;
                this.modal = g
            }

            __extends(b, c);
            b.dispatchPopUpEvent = function (a, c, f, g) {
                void 0 === f && (f = null);
                void 0 === g && (g = !1);
                var C = d.Event._getPropertyData(b);
                C.popUp = f;
                C.modal = g;
                d.Event._dispatchByTarget(b, a, c, C)
            };
            b.ADD_POPUP = "addPopUp";
            b.REMOVE_POPUP = "removePopUp";
            b.BRING_TO_FRONT = "bringToFront";
            return b
        }(d.Event);
        g.PopUpEvent = f;
        f.prototype.__class__ = "egret.gui.PopUpEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f, g) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                c.call(this, a, b, d);
                this.oldState = this.newState = null;
                this.oldState = f;
                this.newState = g
            }

            __extends(b, c);
            b.dispatchStateChangeEvent = function (a, c, f, g) {
                void 0 === f && (f = null);
                void 0 === g && (g = null);
                var C = d.Event._getPropertyData(b);
                C.oldState = f;
                C.newState = g;
                d.Event._dispatchByTarget(b, a, c, C)
            };
            b.CURRENT_STATE_CHANGE = "currentStateChange";
            b.CURRENT_STATE_CHANGING = "currentStateChanging";
            b.STATE_CHANGE_COMPLETE = "stateChangeComplete";
            return b
        }(d.Event);
        g.StateChangeEvent = f;
        f.prototype.__class__ = "egret.gui.StateChangeEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b(a, b, d, f) {
                void 0 === b && (b = !1);
                void 0 === d && (d = !1);
                void 0 === f && (f = null);
                c.call(this, a, b, d);
                this.effectInstance = f
            }

            __extends(b, c);
            b.EFFECT_END = "effectEnd";
            b.EFFECT_STOP = "effectStop";
            b.EFFECT_START = "effectStart";
            b.EFFECT_REPEAT = "effectRepeat";
            b.EFFECT_UPDATE = "effectUpdate";
            return b
        }(d.Event);
        g.EffectEvent = f;
        f.prototype.__class__ = "egret.gui.EffectEvent"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._target = null;
                this._useVirtualLayout = !1;
                this._typicalLayoutRect = null
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "target", {
                get: function () {
                    return this._target
                }, set: function (a) {
                    this._target != a && (this._target = a, this.clearVirtualLayoutCache())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "useVirtualLayout", {
                get: function () {
                    return this._useVirtualLayout
                }, set: function (a) {
                    this._useVirtualLayout != a && (this._useVirtualLayout =
                        a, this.dispatchEventWith("useVirtualLayoutChanged"), this._useVirtualLayout && !a && this.clearVirtualLayoutCache(), this.target && this.target.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "typicalLayoutRect", {
                get: function () {
                    return this._typicalLayoutRect
                }, set: function (a) {
                    this._typicalLayoutRect != a && (this._typicalLayoutRect = a, this.target && this.target.invalidateSize())
                }, enumerable: !0, configurable: !0
            });
            a.scrollPositionChanged = function () {
            };
            a.clearVirtualLayoutCache = function () {
            };
            a.elementAdded = function (a) {
            };
            a.elementRemoved = function (a) {
            };
            a.measure = function () {
            };
            a.updateDisplayList = function (a, b) {
            };
            return b
        }(d.EventDispatcher);
        g.LayoutBase = f;
        f.prototype.__class__ = "egret.gui.LayoutBase"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._mouseWheelSpeed = 20
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "useVirtualLayout", {
                set: function (a) {
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "mouseWheelSpeed", {
                get: function () {
                    return this._mouseWheelSpeed
                }, set: function (a) {
                    0 == a && (a = 1);
                    this._mouseWheelSpeed = a
                }, enumerable: !0, configurable: !0
            });
            a.getElementBoundsLeftOfScrollRect = function (a) {
                var b = new d.Rectangle;
                b.x = a.x - this._mouseWheelSpeed;
                b.right =
                    a.x;
                return b
            };
            a.getElementBoundsRightOfScrollRect = function (a) {
                var b = new d.Rectangle;
                b.x = a.right;
                b.right = a.right + this._mouseWheelSpeed;
                return b
            };
            a.getElementBoundsAboveScrollRect = function (a) {
                var b = new d.Rectangle;
                b.y = a.y - this._mouseWheelSpeed;
                b.bottom = a.y;
                return b
            };
            a.getElementBoundsBelowScrollRect = function (a) {
                var b = new d.Rectangle;
                b.y = a.bottom;
                b.bottom = a.bottom + this._mouseWheelSpeed;
                return b
            };
            a.measure = function () {
                c.prototype.measure.call(this);
                if (null != this.target) {
                    for (var a = 0, b = 0, d = this.target.numElements,
                             f = 0; f < d; f++) {
                        var g = this.target.getElementAt(f);
                        if (g && g.includeInLayout) {
                            var n = g.horizontalCenter, k = g.verticalCenter, l = g.left, m = g.right, p = g.top, q = g.bottom;
                            isNaN(l) || isNaN(m) ? isNaN(n) ? isNaN(l) && isNaN(m) ? n = g.preferredX : (n = isNaN(l) ? 0 : l, n += isNaN(m) ? 0 : m) : n = 2 * Math.abs(n) : n = l + m;
                            isNaN(p) || isNaN(q) ? isNaN(k) ? isNaN(p) && isNaN(q) ? k = g.preferredY : (k = isNaN(p) ? 0 : p, k += isNaN(q) ? 0 : q) : k = 2 * Math.abs(k) : k = p + q;
                            q = g.preferredHeight;
                            a = Math.ceil(Math.max(a, n + g.preferredWidth));
                            b = Math.ceil(Math.max(b, k + q))
                        }
                    }
                    this.target.measuredWidth =
                        a;
                    this.target.measuredHeight = b
                }
            };
            a.updateDisplayList = function (a, b) {
                c.prototype.updateDisplayList.call(this, a, b);
                if (null != this.target) {
                    for (var d = this.target.numElements, f = 0, g = 0, n = 0; n < d; n++) {
                        var k = this.target.getElementAt(n);
                        if (null != k && k.includeInLayout) {
                            var l = k.horizontalCenter, m = k.verticalCenter, p = k.left, q = k.right, r = k.top, x = k.bottom, y = k.percentWidth, s = k.percentHeight, w = NaN, t = NaN;
                            isNaN(p) || isNaN(q) ? isNaN(y) || (w = Math.round(a * Math.min(0.01 * y, 1))) : w = a - q - p;
                            isNaN(r) || isNaN(x) ? isNaN(s) || (t = Math.round(b *
                            Math.min(0.01 * s, 1))) : t = b - x - r;
                            k.setLayoutBoundsSize(w, t);
                            y = k.layoutBoundsWidth;
                            s = k.layoutBoundsHeight;
                            t = w = NaN;
                            w = isNaN(l) ? isNaN(p) ? isNaN(q) ? k.layoutBoundsX : a - y - q : p : Math.round((a - y) / 2 + l);
                            t = isNaN(m) ? isNaN(r) ? isNaN(x) ? k.layoutBoundsY : b - s - x : r : Math.round((b - s) / 2 + m);
                            k.setLayoutBoundsPosition(w, t);
                            f = Math.max(f, w + y);
                            g = Math.max(g, t + s)
                        }
                    }
                    this.target.setContentSize(f, g)
                }
            };
            return b
        }(g.LayoutBase);
        g.BasicLayout = f;
        f.prototype.__class__ = "egret.gui.BasicLayout"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (b) {
            function a() {
                b.call(this);
                this._horizontalAlign = d.HorizontalAlign.LEFT;
                this._verticalAlign = d.VerticalAlign.TOP;
                this._gap = 6;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.elementSizeTable = [];
                this.endIndex = this.startIndex = -1;
                this.indexInViewCalculated = !1;
                this.maxElementWidth = 0
            }

            __extends(a, b);
            var e = a.prototype;
            Object.defineProperty(e, "horizontalAlign", {
                get: function () {
                    return this._horizontalAlign
                }, set: function (a) {
                    this._horizontalAlign !=
                    a && (this._horizontalAlign = a, this.target && this.target.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "verticalAlign", {
                get: function () {
                    return this._verticalAlign
                }, set: function (a) {
                    this._verticalAlign != a && (this._verticalAlign = a, this.target && this.target.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "gap", {
                get: function () {
                    return this._gap
                }, set: function (a) {
                    this._gap != a && (this._gap = a, this.invalidateTargetSizeAndDisplayList(), this.hasEventListener("gapChanged") &&
                    this.dispatchEventWith("gapChanged"))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "padding", {
                get: function () {
                    return this._padding
                }, set: function (a) {
                    this._padding != a && (this._padding = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                }, set: function (a) {
                    this._paddingLeft != a && (this._paddingLeft = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e,
                "paddingRight", {
                    get: function () {
                        return this._paddingRight
                    }, set: function (a) {
                        this._paddingRight != a && (this._paddingRight = a, this.invalidateTargetSizeAndDisplayList())
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(e, "paddingTop", {
                get: function () {
                    return this._paddingTop
                }, set: function (a) {
                    this._paddingTop != a && (this._paddingTop = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                }, set: function (a) {
                    this._paddingBottom !=
                    a && (this._paddingBottom = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            e.invalidateTargetSizeAndDisplayList = function () {
                this.target && (this.target.invalidateSize(), this.target.invalidateDisplayList())
            };
            e.measure = function () {
                b.prototype.measure.call(this);
                this.target && (this.useVirtualLayout ? this.measureVirtual() : this.measureReal())
            };
            e.measureVirtual = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, b = Math.max(this.maxElementWidth, this.typicalLayoutRect ?
                    this.typicalLayoutRect.width : 71), c = this.getElementTotalSize(), d = this.target.getElementIndicesInView(), e = d.length, f = 0; f < e; f++) {
                    var g = d[f], m = this.target.getElementAt(g);
                    if (null != m && m.includeInLayout)var p = m.preferredWidth, c = c + m.preferredHeight, c = c - (isNaN(this.elementSizeTable[g]) ? a : this.elementSizeTable[g]), b = Math.max(b, p)
                }
                f = isNaN(this._padding) ? 0 : this._padding;
                a = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                d = isNaN(this._paddingRight) ? f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(b + (a + d));
                this.target.measuredHeight = Math.ceil(c + e)
            };
            e.measureReal = function () {
                for (var a = this.target.numElements, b = a, c = 0, d = 0, e = 0; e < a; e++) {
                    var f = this.target.getElementAt(e);
                    if (f && f.includeInLayout)var g = f.preferredWidth, d = d + f.preferredHeight, c = Math.max(c, g); else b--
                }
                a = isNaN(this._gap) ? 0 : this._gap;
                d += (b - 1) * a;
                f = isNaN(this._padding) ? 0 : this._padding;
                b = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                a = isNaN(this._paddingRight) ?
                    f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(c + (b + a));
                this.target.measuredHeight = Math.ceil(d + e)
            };
            e.updateDisplayList = function (a, c) {
                b.prototype.updateDisplayList.call(this, a, c);
                if (this.target)if (0 == this.target.numElements) {
                    var d = isNaN(this._padding) ? 0 : this._padding, e = isNaN(this._paddingLeft) ? d : this._paddingLeft, f = isNaN(this._paddingRight) ? d : this._paddingRight, g = isNaN(this._paddingTop) ? d :
                        this._paddingTop, d = isNaN(this._paddingBottom) ? d : this._paddingBottom;
                    this.target.setContentSize(Math.ceil(e + f), Math.ceil(g + d))
                } else this.useVirtualLayout ? this.updateDisplayListVirtual(a, c) : this.updateDisplayListReal(a, c)
            };
            e.getStartPosition = function (a) {
                var b = isNaN(this._padding) ? 0 : this._padding, c = isNaN(this._paddingTop) ? b : this._paddingTop, b = isNaN(this._gap) ? 0 : this._gap;
                if (!this.useVirtualLayout) {
                    var d;
                    this.target && (d = this.target.getElementAt(a));
                    return d ? d.y : c
                }
                d = this.typicalLayoutRect ? this.typicalLayoutRect.height :
                    22;
                for (var e = 0; e < a; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = d);
                    c += f + b
                }
                return c
            };
            e.getElementSize = function (a) {
                return this.useVirtualLayout ? (a = this.elementSizeTable[a], isNaN(a) && (a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22), a) : this.target ? this.target.getElementAt(a).height : 0
            };
            e.getElementTotalSize = function () {
                for (var a = isNaN(this._gap) ? 0 : this._gap, b = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, c = 0, d = this.target.numElements, e = 0; e < d; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = b);
                    c += f + a
                }
                return c - a
            };
            e.elementAdded = function (a) {
                b.prototype.elementAdded.call(this, a);
                this.elementSizeTable.splice(a, 0, this.typicalLayoutRect ? this.typicalLayoutRect.height : 22)
            };
            e.elementRemoved = function (a) {
                b.prototype.elementRemoved.call(this, a);
                this.elementSizeTable.splice(a, 1)
            };
            e.clearVirtualLayoutCache = function () {
                b.prototype.clearVirtualLayoutCache.call(this);
                this.elementSizeTable = [];
                this.maxElementWidth = 0
            };
            e.findIndexAt = function (a, b, c) {
                var d = Math.floor(0.5 * (b + c)), e = this.getStartPosition(d),
                    f = this.getElementSize(d), g = isNaN(this._gap) ? 0 : this._gap;
                return a >= e && a < e + f + g ? d : b == c ? -1 : a < e ? this.findIndexAt(a, b, Math.max(b, d - 1)) : this.findIndexAt(a, Math.min(d + 1, c), c)
            };
            e.scrollPositionChanged = function () {
                b.prototype.scrollPositionChanged.call(this);
                this.useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.target.invalidateDisplayList())
            };
            e.getIndexInView = function () {
                if (!this.target || 0 == this.target.numElements || isNaN(this.target.width) || 0 == this.target.width || isNaN(this.target.height) ||
                    0 == this.target.height)return this.startIndex = this.endIndex = -1, !1;
                var a = isNaN(this._padding) ? 0 : this._padding, b = isNaN(this._paddingTop) ? a : this._paddingTop, c = isNaN(this._paddingBottom) ? a : this._paddingBottom, a = this.target.numElements, d = this.getStartPosition(a - 1) + this.elementSizeTable[a - 1] + c, e = this.target.verticalScrollPosition;
                if (e > d - c)return this.endIndex = this.startIndex = -1, !1;
                c = this.target.verticalScrollPosition + this.target.height;
                if (c < b)return this.endIndex = this.startIndex = -1, !1;
                b = this.startIndex;
                d = this.endIndex;
                this.startIndex = this.findIndexAt(e, 0, a - 1);
                -1 == this.startIndex && (this.startIndex = 0);
                this.endIndex = this.findIndexAt(c, 0, a - 1);
                -1 == this.endIndex && (this.endIndex = a - 1);
                return b != this.startIndex || d != this.endIndex
            };
            e.updateDisplayListVirtual = function (a, b) {
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var c = isNaN(this._padding) ? 0 : this._padding, e = isNaN(this._paddingLeft) ? c : this._paddingLeft, f = isNaN(this._paddingRight) ? c : this._paddingRight, g = isNaN(this._paddingBottom) ?
                    c : this._paddingBottom, l = isNaN(this._gap) ? 0 : this._gap, m = this.target.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex)e = this.getStartPosition(m) - l + g, this.target.setContentSize(this.target.contentWidth, Math.ceil(e)); else {
                    this.target.setVirtualElementIndicesInView(this.startIndex, this.endIndex);
                    var p = this._horizontalAlign == d.HorizontalAlign.JUSTIFY || this._horizontalAlign == d.HorizontalAlign.CONTENT_JUSTIFY, q = this._horizontalAlign == d.HorizontalAlign.CONTENT_JUSTIFY, r = 0;
                    p || (this._horizontalAlign == d.HorizontalAlign.CENTER ?
                        r = 0.5 : this._horizontalAlign == d.HorizontalAlign.RIGHT && (r = 1));
                    var x = Math.max(0, a - e - f), y = Math.ceil(x), s, w = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, c = Math.max(this.typicalLayoutRect ? this.typicalLayoutRect.width : 71, this.maxElementWidth);
                    if (q) {
                        for (var t = this.startIndex; t <= this.endIndex; t++)(s = this.target.getVirtualElementAt(t)) && s.includeInLayout && (this.maxElementWidth = Math.max(this.maxElementWidth, s.preferredWidth));
                        y = Math.ceil(Math.max(x, this.maxElementWidth))
                    }
                    for (var z = 0, u = 0, t = 0, D = !1,
                             A = this.startIndex; A <= this.endIndex; A++)if (z = 0, s = this.target.getVirtualElementAt(A))s.includeInLayout ? (p ? (z = e, s.setLayoutBoundsSize(y, NaN)) : (z = (x - s.layoutBoundsWidth) * r, z = 0 < z ? z : 0, z = e + z), q || (this.maxElementWidth = Math.max(this.maxElementWidth, s.preferredWidth)), t = Math.max(t, s.layoutBoundsWidth), D || (u = isNaN(this.elementSizeTable[A]) ? w : this.elementSizeTable[A], u != s.layoutBoundsHeight && (D = !0)), 0 == A && 0 < this.elementSizeTable.length && this.elementSizeTable[A] != s.layoutBoundsHeight && (this.typicalLayoutRect =
                        null), this.elementSizeTable[A] = s.layoutBoundsHeight, u = this.getStartPosition(A), s.setLayoutBoundsPosition(Math.round(z), Math.round(u))) : this.elementSizeTable[A] = 0;
                    t += e + f;
                    e = this.getStartPosition(m) - l + g;
                    this.target.setContentSize(Math.ceil(t), Math.ceil(e));
                    (D || c < this.maxElementWidth) && this.target.invalidateSize()
                }
            };
            e.updateDisplayListReal = function (b, e) {
                var f = isNaN(this._padding) ? 0 : this._padding, g = isNaN(this._paddingLeft) ? f : this._paddingLeft, n = isNaN(this._paddingRight) ? f : this._paddingRight, k = isNaN(this._paddingTop) ?
                    f : this._paddingTop, f = isNaN(this._paddingBottom) ? f : this._paddingBottom, l = isNaN(this._gap) ? 0 : this._gap, m = Math.max(0, b - g - n), p = Math.max(0, e - k - f), q = this._verticalAlign == d.VerticalAlign.JUSTIFY, r = this._horizontalAlign == d.HorizontalAlign.JUSTIFY || this._horizontalAlign == d.HorizontalAlign.CONTENT_JUSTIFY, x = 0;
                r || (this._horizontalAlign == d.HorizontalAlign.CENTER ? x = 0.5 : this._horizontalAlign == d.HorizontalAlign.RIGHT && (x = 1));
                var y = this.target.numElements, s = y, w = g, t = k, z, u, D = 0, w = 0, A = [], E, B = p;
                for (z = 0; z < y; z++)(u = this.target.getElementAt(z)) &&
                u.includeInLayout ? (this.maxElementWidth = Math.max(this.maxElementWidth, u.preferredWidth), q ? D += u.preferredHeight : isNaN(u.percentHeight) ? B -= u.preferredHeight : (w += u.percentHeight, E = new c, E.layoutElement = u, E.percent = u.percentHeight, E.min = u.minHeight, E.max = u.maxHeight, A.push(E))) : s--;
                var B = B - (s - 1) * l, B = 0 < B ? B : 0, H = p - D - l * (s - 1), G, I = s, J = [];
                if (q) {
                    if (0 > H) {
                        G = B / s;
                        for (z = 0; z < y; z++)(u = this.target.getElementAt(z)) && u.includeInLayout && (u = u.preferredHeight, u <= G && (B -= u, I--));
                        B = 0 < B ? B : 0
                    }
                } else if (0 < w) {
                    a.flexChildrenProportionally(p,
                        B, w, A);
                    p = 0;
                    u = A.length;
                    for (z = 0; z < u; z++)E = A[z], w = Math.round(E.size + p), p += E.size - w, J[E.layoutElement.hashCode] = w, B -= w;
                    B = 0 < B ? B : 0
                }
                this._verticalAlign == d.VerticalAlign.MIDDLE ? t = k + 0.5 * B : this._verticalAlign == d.VerticalAlign.BOTTOM && (t = k + B);
                A = g;
                u = s = 0;
                E = Math.ceil(m);
                this._horizontalAlign == d.HorizontalAlign.CONTENT_JUSTIFY && (E = Math.ceil(Math.max(m, this.maxElementWidth)));
                p = 0;
                s = NaN;
                for (z = 0; z < y; z++)w = 0, (u = this.target.getElementAt(z)) && u.includeInLayout && (s = NaN, q ? (w = NaN, 0 < H ? w = B * u.preferredHeight / D : 0 > H && u.preferredHeight >
                G && (w = B / I), isNaN(w) || (s = Math.round(w + p), p += w - s)) : s = J[u.hashCode], r ? (w = g, u.setLayoutBoundsSize(E, s)) : (w = NaN, isNaN(u.percentWidth) || (w = Math.min(100, u.percentWidth), w = Math.round(m * w * 0.01)), u.setLayoutBoundsSize(w, s), w = (m - u.layoutBoundsWidth) * x, w = 0 < w ? w : 0, w = g + w), u.setLayoutBoundsPosition(Math.round(w), Math.round(t)), s = Math.ceil(u.layoutBoundsWidth), u = Math.ceil(u.layoutBoundsHeight), A = Math.max(A, w + s), k = Math.max(k, t + u), t += u + l);
                this.target.setContentSize(Math.ceil(A + n), Math.ceil(k + f))
            };
            a.flexChildrenProportionally =
                function (a, b, c, d) {
                    var e = d.length, f;
                    do {
                        f = !0;
                        var g = b - a * c / 100;
                        0 < g ? b -= g : g = 0;
                        for (var m = b / c, p = 0; p < e; p++) {
                            var q = d[p], r = q.percent * m;
                            if (r < q.min) {
                                f = q.min;
                                q.size = f;
                                d[p] = d[--e];
                                d[e] = q;
                                c -= q.percent;
                                g >= f || (b -= f - g);
                                f = !1;
                                break
                            } else if (r > q.max) {
                                f = q.max;
                                q.size = f;
                                d[p] = d[--e];
                                d[e] = q;
                                c -= q.percent;
                                g >= f || (b -= f - g);
                                f = !1;
                                break
                            } else q.size = r
                        }
                    } while (!f)
                };
            return a
        }(g.LayoutBase);
        g.VerticalLayout = f;
        f.prototype.__class__ = "egret.gui.VerticalLayout";
        var c = function () {
            return function () {
                this.layoutElement = null;
                this.size = 0;
                this.max =
                    this.min = this.percent = NaN
            }
        }();
        c.prototype.__class__ = "egret.gui.ChildInfo"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (b) {
            function a() {
                b.call(this);
                this._horizontalAlign = d.HorizontalAlign.LEFT;
                this._verticalAlign = d.VerticalAlign.TOP;
                this._gap = 6;
                this._padding = 0;
                this._paddingBottom = this._paddingTop = this._paddingRight = this._paddingLeft = NaN;
                this.elementSizeTable = [];
                this.endIndex = this.startIndex = -1;
                this.indexInViewCalculated = !1;
                this.maxElementHeight = 0
            }

            __extends(a, b);
            var e = a.prototype;
            Object.defineProperty(e, "horizontalAlign", {
                get: function () {
                    return this._horizontalAlign
                }, set: function (a) {
                    this._horizontalAlign !=
                    a && (this._horizontalAlign = a, this.target && this.target.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "verticalAlign", {
                get: function () {
                    return this._verticalAlign
                }, set: function (a) {
                    this._verticalAlign != a && (this._verticalAlign = a, this.target && this.target.invalidateDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "gap", {
                get: function () {
                    return this._gap
                }, set: function (a) {
                    this._gap != a && (this._gap = a, this.invalidateTargetSizeAndDisplayList(), this.hasEventListener("gapChanged") &&
                    this.dispatchEventWith("gapChanged"))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "padding", {
                get: function () {
                    return this._padding
                }, set: function (a) {
                    this._padding != a && (this._padding = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                }, set: function (a) {
                    this._paddingLeft != a && (this._paddingLeft = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e,
                "paddingRight", {
                    get: function () {
                        return this._paddingRight
                    }, set: function (a) {
                        this._paddingRight != a && (this._paddingRight = a, this.invalidateTargetSizeAndDisplayList())
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(e, "paddingTop", {
                get: function () {
                    return this._paddingTop
                }, set: function (a) {
                    this._paddingTop != a && (this._paddingTop = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                }, set: function (a) {
                    this._paddingBottom !=
                    a && (this._paddingBottom = a, this.invalidateTargetSizeAndDisplayList())
                }, enumerable: !0, configurable: !0
            });
            e.invalidateTargetSizeAndDisplayList = function () {
                this.target && (this.target.invalidateSize(), this.target.invalidateDisplayList())
            };
            e.measure = function () {
                b.prototype.measure.call(this);
                this.target && (this.useVirtualLayout ? this.measureVirtual() : this.measureReal())
            };
            e.measureVirtual = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, b = this.typicalLayoutRect ? this.typicalLayoutRect.width :
                    71, c = this.getElementTotalSize(), a = Math.max(this.maxElementHeight, a), d = this.target.getElementIndicesInView(), e = d.length, f = 0; f < e; f++) {
                    var g = d[f], m = this.target.getElementAt(g);
                    if (null != m && m.includeInLayout)var p = m.preferredHeight, c = c + m.preferredWidth, c = c - (isNaN(this.elementSizeTable[g]) ? b : this.elementSizeTable[g]), a = Math.max(a, p)
                }
                f = isNaN(this._padding) ? 0 : this._padding;
                b = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                d = isNaN(this._paddingRight) ? f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(c + (b + d));
                this.target.measuredHeight = Math.ceil(a + e)
            };
            e.measureReal = function () {
                for (var a = this.target.numElements, b = a, c = 0, d = 0, e = 0; e < a; e++) {
                    var f = this.target.getElementAt(e);
                    if (f && f.includeInLayout)var g = f.preferredHeight, c = c + f.preferredWidth, d = Math.max(d, g); else b--
                }
                a = isNaN(this._gap) ? 0 : this._gap;
                c += (b - 1) * a;
                f = isNaN(this._padding) ? 0 : this._padding;
                b = isNaN(this._paddingLeft) ? f : this._paddingLeft;
                a = isNaN(this._paddingRight) ?
                    f : this._paddingRight;
                e = isNaN(this._paddingTop) ? f : this._paddingTop;
                f = isNaN(this._paddingBottom) ? f : this._paddingBottom;
                e += f;
                this.target.measuredWidth = Math.ceil(c + (b + a));
                this.target.measuredHeight = Math.ceil(d + e)
            };
            e.updateDisplayList = function (a, c) {
                b.prototype.updateDisplayList.call(this, a, c);
                if (this.target)if (0 == this.target.numElements) {
                    var d = isNaN(this._padding) ? 0 : this._padding, e = isNaN(this._paddingLeft) ? d : this._paddingLeft, f = isNaN(this._paddingRight) ? d : this._paddingRight, g = isNaN(this._paddingTop) ? d :
                        this._paddingTop, d = isNaN(this._paddingBottom) ? d : this._paddingBottom;
                    this.target.setContentSize(Math.ceil(e + f), Math.ceil(g + d))
                } else this.useVirtualLayout ? this.updateDisplayListVirtual(a, c) : this.updateDisplayListReal(a, c)
            };
            e.getStartPosition = function (a) {
                var b = isNaN(this._padding) ? 0 : this._padding, c = isNaN(this._paddingLeft) ? b : this._paddingLeft, b = isNaN(this._gap) ? 0 : this._gap;
                if (!this.useVirtualLayout) {
                    var d;
                    this.target && (d = this.target.getElementAt(a));
                    return d ? d.x : c
                }
                d = this.typicalLayoutRect ? this.typicalLayoutRect.width :
                    71;
                for (var e = 0; e < a; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) && (f = d);
                    c += f + b
                }
                return c
            };
            e.getElementSize = function (a) {
                return this.useVirtualLayout ? (a = this.elementSizeTable[a], isNaN(a) && (a = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71), a) : this.target ? this.target.getElementAt(a).width : 0
            };
            e.getElementTotalSize = function () {
                for (var a = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71, b = isNaN(this._gap) ? 0 : this._gap, c = 0, d = this.target.numElements, e = 0; e < d; e++) {
                    var f = this.elementSizeTable[e];
                    isNaN(f) &&
                    (f = a);
                    c += f + b
                }
                return c - b
            };
            e.elementAdded = function (a) {
                this.useVirtualLayout && (b.prototype.elementAdded.call(this, a), this.elementSizeTable.splice(a, 0, this.typicalLayoutRect ? this.typicalLayoutRect.width : 71))
            };
            e.elementRemoved = function (a) {
                this.useVirtualLayout && (b.prototype.elementRemoved.call(this, a), this.elementSizeTable.splice(a, 1))
            };
            e.clearVirtualLayoutCache = function () {
                this.useVirtualLayout && (b.prototype.clearVirtualLayoutCache.call(this), this.elementSizeTable = [], this.maxElementHeight = 0)
            };
            e.findIndexAt =
                function (a, b, c) {
                    var d = Math.floor(0.5 * (b + c)), e = this.getStartPosition(d), f = this.getElementSize(d), g = isNaN(this._gap) ? 0 : this._gap;
                    return a >= e && a < e + f + g ? d : b == c ? -1 : a < e ? this.findIndexAt(a, b, Math.max(b, d - 1)) : this.findIndexAt(a, Math.min(d + 1, c), c)
                };
            e.scrollPositionChanged = function () {
                b.prototype.scrollPositionChanged.call(this);
                this.useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.target.invalidateDisplayList())
            };
            e.getIndexInView = function () {
                if (!this.target || 0 == this.target.numElements ||
                    isNaN(this.target.width) || 0 == this.target.width || isNaN(this.target.height) || 0 == this.target.height)return this.startIndex = this.endIndex = -1, !1;
                var a = isNaN(this._padding) ? 0 : this._padding, b = isNaN(this._paddingLeft) ? a : this._paddingLeft, c = isNaN(this._paddingRight) ? a : this._paddingRight;
                isNaN(this._paddingTop);
                isNaN(this._paddingBottom);
                var a = this.target.numElements, d = this.getStartPosition(a - 1) + this.elementSizeTable[a - 1] + c, e = this.target.horizontalScrollPosition;
                if (e > d - c)return this.endIndex = this.startIndex = -1, !1;
                c = this.target.horizontalScrollPosition + this.target.width;
                if (c < b)return this.endIndex = this.startIndex = -1, !1;
                b = this.startIndex;
                d = this.endIndex;
                this.startIndex = this.findIndexAt(e, 0, a - 1);
                -1 == this.startIndex && (this.startIndex = 0);
                this.endIndex = this.findIndexAt(c, 0, a - 1);
                -1 == this.endIndex && (this.endIndex = a - 1);
                return b != this.startIndex || d != this.endIndex
            };
            e.updateDisplayListVirtual = function (a, b) {
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var c = isNaN(this._padding) ?
                    0 : this._padding, e = isNaN(this._paddingRight) ? c : this._paddingRight, f = isNaN(this._paddingTop) ? c : this._paddingTop, g = isNaN(this._paddingBottom) ? c : this._paddingBottom, l = isNaN(this._gap) ? 0 : this._gap, m = this.target.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex)e = this.getStartPosition(m) - l + e, this.target.setContentSize(Math.ceil(e), this.target.contentHeight); else {
                    this.target.setVirtualElementIndicesInView(this.startIndex, this.endIndex);
                    var p = this._verticalAlign == d.VerticalAlign.JUSTIFY || this._verticalAlign ==
                        d.VerticalAlign.CONTENT_JUSTIFY, q = this._verticalAlign == d.VerticalAlign.CONTENT_JUSTIFY, r = 0;
                    p || (this._verticalAlign == d.VerticalAlign.MIDDLE ? r = 0.5 : this._verticalAlign == d.VerticalAlign.BOTTOM && (r = 1));
                    var x = Math.max(0, b - f - g), y = Math.ceil(x), s, w = this.typicalLayoutRect ? this.typicalLayoutRect.width : 71, c = Math.max(this.typicalLayoutRect ? this.typicalLayoutRect.height : 22, this.maxElementHeight);
                    if (q) {
                        for (var t = this.startIndex; t <= this.endIndex; t++)(s = this.target.getVirtualElementAt(t)) && s.includeInLayout && (this.maxElementHeight =
                            Math.max(this.maxElementHeight, s.preferredHeight));
                        y = Math.ceil(Math.max(x, this.maxElementHeight))
                    }
                    for (var z = 0, u = 0, t = 0, D = !1, A = this.startIndex; A <= this.endIndex; A++)if (u = 0, s = this.target.getVirtualElementAt(A))s.includeInLayout ? (p ? (u = f, s.setLayoutBoundsSize(NaN, y)) : (u = (x - s.layoutBoundsHeight) * r, u = 0 < u ? u : 0, u = f + u), q || (this.maxElementHeight = Math.max(this.maxElementHeight, s.preferredHeight)), t = Math.max(t, s.layoutBoundsHeight), D || (z = isNaN(this.elementSizeTable[A]) ? w : this.elementSizeTable[A], z != s.layoutBoundsWidth &&
                    (D = !0)), 0 == A && 0 < this.elementSizeTable.length && this.elementSizeTable[A] != s.layoutBoundsWidth && (this.typicalLayoutRect = null), this.elementSizeTable[A] = s.layoutBoundsWidth, z = this.getStartPosition(A), s.setLayoutBoundsPosition(Math.round(z), Math.round(u))) : this.elementSizeTable[A] = 0;
                    t += f + g;
                    e = this.getStartPosition(m) - l + e;
                    this.target.setContentSize(Math.ceil(e), Math.ceil(t));
                    (D || c < this.maxElementHeight) && this.target.invalidateSize()
                }
            };
            e.updateDisplayListReal = function (b, e) {
                var f = isNaN(this._padding) ? 0 : this._padding,
                    g = isNaN(this._paddingLeft) ? f : this._paddingLeft, n = isNaN(this._paddingRight) ? f : this._paddingRight, k = isNaN(this._paddingTop) ? f : this._paddingTop, f = isNaN(this._paddingBottom) ? f : this._paddingBottom, l = isNaN(this._gap) ? 0 : this._gap, m = Math.max(0, b - g - n), p = Math.max(0, e - k - f), q = this._horizontalAlign == d.HorizontalAlign.JUSTIFY, r = this._verticalAlign == d.VerticalAlign.JUSTIFY || this._verticalAlign == d.VerticalAlign.CONTENT_JUSTIFY, x = 0;
                r || (this._verticalAlign == d.VerticalAlign.MIDDLE ? x = 0.5 : this._verticalAlign == d.VerticalAlign.BOTTOM &&
                (x = 1));
                var y = this.target.numElements, s = y, w = g, t = k, z, u, D = 0, t = 0, A = [], E, B = m;
                for (z = 0; z < y; z++)(u = this.target.getElementAt(z)) && u.includeInLayout ? (this.maxElementHeight = Math.max(this.maxElementHeight, u.preferredHeight), q ? D += u.preferredWidth : isNaN(u.percentWidth) ? B -= u.preferredWidth : (t += u.percentWidth, E = new c, E.layoutElement = u, E.percent = u.percentWidth, E.min = u.minWidth, E.max = u.maxWidth, A.push(E))) : s--;
                var B = B - l * (s - 1), B = 0 < B ? B : 0, H = m - D - l * (s - 1), G, I = s, J = [];
                if (q) {
                    if (0 > H) {
                        G = B / s;
                        for (z = 0; z < y; z++)(u = this.target.getElementAt(z)) &&
                        u.includeInLayout && (u = u.preferredWidth, u <= G && (B -= u, I--));
                        B = 0 < B ? B : 0
                    }
                } else if (0 < t) {
                    a.flexChildrenProportionally(m, B, t, A);
                    m = 0;
                    u = A.length;
                    for (z = 0; z < u; z++)E = A[z], t = Math.round(E.size + m), m += E.size - t, J[E.layoutElement.hashCode] = t, B -= t;
                    B = 0 < B ? B : 0
                }
                this._horizontalAlign == d.HorizontalAlign.CENTER ? w = g + 0.5 * B : this._horizontalAlign == d.HorizontalAlign.RIGHT && (w = g + B);
                A = k;
                u = s = 0;
                E = Math.ceil(p);
                this._verticalAlign == d.VerticalAlign.CONTENT_JUSTIFY && (E = Math.ceil(Math.max(p, this.maxElementHeight)));
                for (z = m = 0; z < y; z++)t = 0,
                (u = this.target.getElementAt(z)) && u.includeInLayout && (s = NaN, q ? (t = NaN, 0 < H ? t = B * u.preferredWidth / D : 0 > H && u.preferredWidth > G && (t = B / I), isNaN(t) || (s = Math.round(t + m), m += t - s)) : s = J[u.hashCode], r ? (t = k, u.setLayoutBoundsSize(s, E)) : (t = NaN, isNaN(u.percentHeight) || (t = Math.min(100, u.percentHeight), t = Math.round(p * t * 0.01)), u.setLayoutBoundsSize(s, t), t = (p - u.layoutBoundsHeight) * x, t = 0 < t ? t : 0, t = k + t), u.setLayoutBoundsPosition(Math.round(w), Math.round(t)), s = Math.ceil(u.layoutBoundsWidth), u = Math.ceil(u.layoutBoundsHeight), g =
                    Math.max(g, w + s), A = Math.max(A, t + u), w += s + l);
                this.target.setContentSize(Math.ceil(g + n), Math.ceil(A + f))
            };
            a.flexChildrenProportionally = function (a, b, c, d) {
                var e = d.length, f;
                do {
                    f = !0;
                    var g = b - a * c / 100;
                    0 < g ? b -= g : g = 0;
                    for (var m = b / c, p = 0; p < e; p++) {
                        var q = d[p], r = q.percent * m;
                        if (r < q.min) {
                            f = q.min;
                            q.size = f;
                            d[p] = d[--e];
                            d[e] = q;
                            c -= q.percent;
                            g >= f || (b -= f - g);
                            f = !1;
                            break
                        } else if (r > q.max) {
                            f = q.max;
                            q.size = f;
                            d[p] = d[--e];
                            d[e] = q;
                            c -= q.percent;
                            g >= f || (b -= f - g);
                            f = !1;
                            break
                        } else q.size = r
                    }
                } while (!f)
            };
            return a
        }(g.LayoutBase);
        g.HorizontalLayout =
            f;
        f.prototype.__class__ = "egret.gui.HorizontalLayout";
        var c = function () {
            return function () {
                this.layoutElement = null;
                this.size = 0;
                this.max = this.min = this.percent = NaN
            }
        }();
        c.prototype.__class__ = "egret.gui.ChildInfo"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (d) {
        var f = function () {
            function c(a, b, c) {
                this.upperBoundReference = this.lowerBoundReference = this.owner = null;
                this.raw_getElementAt = "raw_getElementAt";
                this.raw_addElementAt = "raw_addElementAt";
                this.raw_getElementIndex = "raw_getElementIndex";
                this.raw_removeElement = "raw_removeElement";
                this.raw_removeElementAt = "raw_removeElementAt";
                this.raw_setElementIndex = "raw_setElementIndex";
                this.owner = a;
                this.lowerBoundReference = b;
                this.upperBoundReference = c
            }

            var b = c.prototype;
            Object.defineProperty(b,
                "numElements", {
                    get: function () {
                        return this.owner[this.upperBoundReference] - this.owner[this.lowerBoundReference]
                    }, enumerable: !0, configurable: !0
                });
            b.getElementAt = function (a) {
                return this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference] + a)
            };
            b.addElement = function (a) {
                var b = this.owner[this.upperBoundReference];
                a.parent === this.owner && b--;
                this.owner[this.upperBoundReference]++;
                this.owner[this.raw_addElementAt](a, b);
                a.ownerChanged(this);
                return a
            };
            b.addElementAt = function (a, b) {
                this.owner[this.upperBoundReference]++;
                this.owner[this.raw_addElementAt](a, this.owner[this.lowerBoundReference] + b);
                a.ownerChanged(this);
                return a
            };
            b.removeElement = function (a) {
                var b = this.owner[this.raw_getElementIndex](a);
                this.owner[this.lowerBoundReference] <= b && b < this.owner[this.upperBoundReference] && (this.owner[this.raw_removeElement](a), this.owner[this.upperBoundReference]--);
                a.ownerChanged(null);
                return a
            };
            b.removeElementAt = function (a) {
                a += this.owner[this.lowerBoundReference];
                var b;
                this.owner[this.lowerBoundReference] <= a && a < this.owner[this.upperBoundReference] &&
                (b = this.owner[this.raw_removeElementAt](a), this.owner[this.upperBoundReference]--);
                b.ownerChanged(null);
                return b
            };
            b.getElementIndex = function (a) {
                a = this.owner[this.raw_getElementIndex](a);
                return a -= this.owner[this.lowerBoundReference]
            };
            b.setElementIndex = function (a, b) {
                this.owner[this.raw_setElementIndex](a, this.owner[this.lowerBoundReference] + b)
            };
            return c
        }();
        d.UILayer = f;
        f.prototype.__class__ = "egret.gui.UILayer"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (c) {
            function b() {
                c.call(this);
                this._autoResize = !0;
                this._cursorContainer = this._toolTipContainer = this._popUpContainer = null;
                this._cursorIndex = this._toolTipIndex = this._topMostIndex = this._noTopMostIndex = 0;
                this.touchEnabled = !1;
                this.addEventListener(d.Event.ADDED_TO_STAGE, this.onAddToStage, this);
                this.addEventListener(d.Event.REMOVED_FROM_STAGE, this.onRemoveFromStage, this)
            }

            __extends(b, c);
            var a = b.prototype;
            a.onAddToStage = function (a) {
                g.UIGlobals._uiStage && d.$error(3013);
                g.UIGlobals._uiStage = this;
                this._autoResize && (this.stage.addEventListener(d.Event.RESIZE, this.onResize, this), this.onResize())
            };
            a.onRemoveFromStage = function (a) {
                g.UIGlobals._uiStage = null;
                this._autoResize && this.stage.removeEventListener(d.Event.RESIZE, this.onResize, this)
            };
            a.onResize = function (a) {
                this._setWidth(this.stage.stageWidth);
                this._setHeight(this.stage.stageHeight)
            };
            Object.defineProperty(a, "autoResize", {
                get: function () {
                    return this._autoResize
                }, set: function (a) {
                    this._autoResize != a && (this._autoResize =
                        a, this.stage && (this._autoResize ? (this.stage.addEventListener(d.Event.RESIZE, this.onResize, this), this.onResize()) : this.stage.removeEventListener(d.Event.RESIZE, this.onResize, this)))
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "x", {
                get: function () {
                    return this._DO_Props_._x
                }, set: function (a) {
                    this._autoResize || (this._DO_Props_._x = a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "y", {
                get: function () {
                    return this._DO_Props_._y
                }, set: function (a) {
                    this._autoResize || (this._DO_Props_._y = a)
                },
                enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "width", {
                get: function () {
                    return this._UIC_Props_._width
                }, set: function (a) {
                    this._autoResize || this._setWidth(a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "height", {
                get: function () {
                    return this._UIC_Props_._height
                }, set: function (a) {
                    this._autoResize || this._setHeight(a)
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "scaleX", {
                get: function () {
                    return this._DO_Props_._scaleX
                }, set: function (a) {
                    this._autoResize || this._setScaleX(a)
                }, enumerable: !0,
                configurable: !0
            });
            Object.defineProperty(a, "scaleY", {
                get: function () {
                    return this._DO_Props_._scaleY
                }, set: function (a) {
                    this._autoResize || this._setScaleY(a)
                }, enumerable: !0, configurable: !0
            });
            a.setActualSize = function (a, b) {
                this._autoResize || c.prototype.setActualSize.call(this, a, b)
            };
            a.setLayoutBoundsPosition = function (a, b) {
                this._autoResize || c.prototype.setLayoutBoundsPosition.call(this, a, b)
            };
            a.setLayoutBoundsSize = function (a, b) {
                this._autoResize || c.prototype.setLayoutBoundsSize.call(this, a, b)
            };
            Object.defineProperty(a,
                "layout", {
                    get: function () {
                        return this._layout
                    }, set: function (a) {
                        a instanceof g.BasicLayout && this._setLayout(a)
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "popUpContainer", {
                get: function () {
                    this._popUpContainer || (this._popUpContainer = new g.UILayer(this, "noTopMostIndex", "topMostIndex"));
                    return this._popUpContainer
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "toolTipContainer", {
                get: function () {
                    this._toolTipContainer || (this._toolTipContainer = new g.UILayer(this, "topMostIndex", "toolTipIndex"));
                    return this._toolTipContainer
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "cursorContainer", {
                get: function () {
                    this._cursorContainer || (this._cursorContainer = new g.UILayer(this, "toolTipIndex", "cursorIndex"));
                    return this._cursorContainer
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "noTopMostIndex", {
                get: function () {
                    return this._noTopMostIndex
                }, set: function (a) {
                    var b = a - this._noTopMostIndex;
                    this._noTopMostIndex = a;
                    this.topMostIndex += b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a,
                "topMostIndex", {
                    get: function () {
                        return this._topMostIndex
                    }, set: function (a) {
                        var b = a - this._topMostIndex;
                        this._topMostIndex = a;
                        this.toolTipIndex += b
                    }, enumerable: !0, configurable: !0
                });
            Object.defineProperty(a, "toolTipIndex", {
                get: function () {
                    return this._toolTipIndex
                }, set: function (a) {
                    var b = a - this._toolTipIndex;
                    this._toolTipIndex = a;
                    this.cursorIndex += b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(a, "cursorIndex", {
                get: function () {
                    return this._cursorIndex
                }, set: function (a) {
                    this._cursorIndex = a
                }, enumerable: !0,
                configurable: !0
            });
            a.addElement = function (a) {
                var b = this._noTopMostIndex;
                a.parent == this && b--;
                return this.addElementAt(a, b)
            };
            a.addElementAt = function (a, b) {
                if (a.parent == this) {
                    var d = this.getElementIndex(a);
                    d < this._noTopMostIndex ? this.noTopMostIndex-- : d >= this._noTopMostIndex && d < this._topMostIndex ? this.topMostIndex-- : d >= this._topMostIndex && d < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--
                }
                b <= this._noTopMostIndex ? this.noTopMostIndex++ : b > this._noTopMostIndex && b <= this._topMostIndex ? this.topMostIndex++ :
                    b > this._topMostIndex && b <= this._toolTipIndex ? this.toolTipIndex++ : this.cursorIndex++;
                return c.prototype.addElementAt.call(this, a, b)
            };
            a.removeElement = function (a) {
                return this.removeElementAt(c.prototype.getElementIndex.call(this, a))
            };
            a.removeElementAt = function (a) {
                var b = c.prototype.removeElementAt.call(this, a);
                a < this._noTopMostIndex ? this.noTopMostIndex-- : a >= this._noTopMostIndex && a < this._topMostIndex ? this.topMostIndex-- : a >= this._topMostIndex && a < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--;
                return b
            };
            a.removeAllElements = function () {
                for (; 0 < this._noTopMostIndex;)c.prototype.removeElementAt.call(this, 0), this.noTopMostIndex--
            };
            a._elementRemoved = function (a, b, f) {
                void 0 === f && (f = !0);
                f && d.Event.dispatchEvent(a, "removeFromUIStage");
                c.prototype._elementRemoved.call(this, a, b, f)
            };
            a.raw_getElementAt = function (a) {
                return c.prototype.getElementAt.call(this, a)
            };
            a.raw_addElement = function (a) {
                var b = this.numElements;
                a.parent == this && b--;
                return this.raw_addElementAt(a, b)
            };
            a.raw_addElementAt = function (a, b) {
                if (a.parent ==
                    this) {
                    var d = this.getElementIndex(a);
                    d < this._noTopMostIndex ? this.noTopMostIndex-- : d >= this._noTopMostIndex && d < this._topMostIndex ? this.topMostIndex-- : d >= this._topMostIndex && d < this._toolTipIndex ? this.toolTipIndex-- : this.cursorIndex--
                }
                return c.prototype.addElementAt.call(this, a, b)
            };
            a.raw_removeElement = function (a) {
                return c.prototype.removeElementAt.call(this, c.prototype.getElementIndex.call(this, a))
            };
            a.raw_removeElementAt = function (a) {
                return c.prototype.removeElementAt.call(this, a)
            };
            a.raw_removeAllElements =
                function () {
                    for (; 0 < this.numElements;)c.prototype.removeElementAt.call(this, 0)
                };
            a.raw_getElementIndex = function (a) {
                return c.prototype.getElementIndex.call(this, a)
            };
            a.raw_setElementIndex = function (a, b) {
                c.prototype.setElementIndex.call(this, a, b)
            };
            a.raw_swapElements = function (a, b) {
                c.prototype.swapElementsAt.call(this, c.prototype.getElementIndex.call(this, a), c.prototype.getElementIndex.call(this, b))
            };
            a.raw_swapElementsAt = function (a, b) {
                c.prototype.swapElementsAt.call(this, a, b)
            };
            return b
        }(g.Group);
        g.UIStage =
            f;
        f.prototype.__class__ = "egret.gui.UIStage"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function (b) {
            function a() {
                b.call(this);
                this._popUpList = [];
                this.popUpDataList = [];
                this._modalColor = 0;
                this._modalAlpha = 0.5;
                this.invalidateModalFlag = !1;
                this.modalMask = null
            }

            __extends(a, b);
            var e = a.prototype;
            Object.defineProperty(e, "popUpList", {
                get: function () {
                    return this._popUpList.concat()
                }, enumerable: !0, configurable: !0
            });
            e.findPopUpData = function (a) {
                for (var b = this.popUpDataList, c = b.length, d = 0; d < c; d++) {
                    var e = b[d];
                    if (e.popUp == a)return e
                }
                return null
            };
            e.addPopUp = function (b, d,
                                   e) {
                void 0 === d && (d = !1);
                void 0 === e && (e = !0);
                var f = g.UIGlobals.uiStage, n = this.findPopUpData(b);
                n ? (n.modal = d, b.removeEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this)) : (n = new c(b, d), this.popUpDataList.push(n), this._popUpList.push(b));
                f.popUpContainer.addElement(b);
                e && this.centerPopUp(b);
                "isPopUp"in b && (b.isPopUp = !0);
                d && this.invalidateModal();
                b.addEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this)
            };
            e.onRemoved = function (b) {
                for (var c = 0, d = this.popUpDataList, e = d.length, f = 0; f < e; f++) {
                    var g = d[f];
                    if (g.popUp == b.target) {
                        "isPopUp"in g.popUp && (g.popUp.isPopUp = !1);
                        g.popUp.removeEventListener(a.REMOVE_FROM_UISTAGE, this.onRemoved, this);
                        this.popUpDataList.splice(c, 1);
                        this._popUpList.splice(c, 1);
                        this.invalidateModal();
                        break
                    }
                    c++
                }
            };
            Object.defineProperty(e, "modalColor", {
                get: function () {
                    return this._modalColor
                }, set: function (a) {
                    this._modalColor != a && (this._modalColor = a, this.invalidateModal())
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(e, "modalAlpha", {
                get: function () {
                    return this._modalAlpha
                }, set: function (a) {
                    this._modalAlpha !=
                    a && (this._modalAlpha = a, this.invalidateModal())
                }, enumerable: !0, configurable: !0
            });
            e.invalidateModal = function () {
                this.invalidateModalFlag || (this.invalidateModalFlag = !0, g.UIGlobals.stage.addEventListener(d.Event.ENTER_FRAME, this.validateModal, this), g.UIGlobals.stage.addEventListener(d.Event.RENDER, this.validateModal, this), g.UIGlobals.stage.invalidate())
            };
            e.validateModal = function (a) {
                this.invalidateModalFlag = !1;
                g.UIGlobals.stage.removeEventListener(d.Event.ENTER_FRAME, this.validateModal, this);
                g.UIGlobals.stage.removeEventListener(d.Event.RENDER,
                    this.validateModal, this);
                this.updateModal(g.UIGlobals.uiStage)
            };
            e.updateModal = function (a) {
                for (var b = a.popUpContainer, c = !1, d = b.numElements - 1; 0 <= d; d--) {
                    var e = b.getElementAt(d);
                    if ((e = this.findPopUpData(e)) && e.modal) {
                        c = !0;
                        break
                    }
                }
                c ? (this.modalMask || (this.modalMask = new g.Rect, this.modalMask.touchEnabled = !0, this.modalMask.top = this.modalMask.left = this.modalMask.right = this.modalMask.bottom = 0), this.modalMask.fillColor = this._modalColor, this.modalMask.alpha = this._modalAlpha, this.modalMask.parent == a ? (b.getElementIndex(this.modalMask) <
                d && d--, b.setElementIndex(this.modalMask, d)) : b.addElementAt(this.modalMask, d)) : this.modalMask && this.modalMask.parent == a && b.removeElement(this.modalMask)
            };
            e.removePopUp = function (a) {
                a && a.parent && this.findPopUpData(a) && ("removeElement"in a.parent ? a.parent.removeElement(a) : a.parent instanceof g.UIComponent ? a.parent._removeFromDisplayList(a) : a instanceof d.DisplayObject && a.parent.removeChild(a))
            };
            e.centerPopUp = function (a) {
                a.top = a.bottom = a.left = a.right = NaN;
                a.verticalCenter = a.horizontalCenter = 0;
                var b = a.parent;
                b && ("validateNow"in a && a.validateNow(), a.x = 0.5 * (b.width - a.layoutBoundsWidth), a.y = 0.5 * (b.height - a.layoutBoundsHeight))
            };
            e.bringToFront = function (a) {
                if (this.findPopUpData(a) && a.parent && "popUpContainer"in a.parent) {
                    var b = a.parent;
                    b.popUpContainer.setElementIndex(a, b.popUpContainer.numElements - 1);
                    this.invalidateModal()
                }
            };
            a.REMOVE_FROM_UISTAGE = "removeFromUIStage";
            return a
        }(d.EventDispatcher);
        g.PopUpManagerImpl = f;
        f.prototype.__class__ = "egret.gui.PopUpManagerImpl";
        var c = function () {
            return function (b, a) {
                this.popUp =
                    null;
                this.modal = !1;
                this.popUp = b;
                this.modal = a
            }
        }();
        c.prototype.__class__ = "egret.gui.PopUpData"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
(function (d) {
    (function (g) {
        var f = function () {
            function c() {
            }

            c.getImpl = function () {
                if (!c._impl)try {
                    c._impl = d.Injector.getInstance("egret.gui.IPopUpManager")
                } catch (b) {
                    c._impl = new g.PopUpManagerImpl
                }
                return c._impl
            };
            Object.defineProperty(c, "modalColor", {
                get: function () {
                    return c.getImpl().modalColor
                }, set: function (b) {
                    c.getImpl().modalColor = b
                }, enumerable: !0, configurable: !0
            });
            Object.defineProperty(c, "modalAlpha", {
                get: function () {
                    return c.getImpl().modalAlpha
                }, set: function (b) {
                    c.getImpl().modalAlpha = b
                }, enumerable: !0,
                configurable: !0
            });
            c.addPopUp = function (b, a, d) {
                void 0 === a && (a = !1);
                void 0 === d && (d = !0);
                c.getImpl().addPopUp(b, a, d);
                g.PopUpEvent.dispatchPopUpEvent(c.getImpl(), g.PopUpEvent.ADD_POPUP, b, a)
            };
            c.removePopUp = function (b) {
                c.getImpl().removePopUp(b);
                g.PopUpEvent.dispatchPopUpEvent(c.getImpl(), g.PopUpEvent.REMOVE_POPUP, b)
            };
            c.centerPopUp = function (b) {
                c.getImpl().centerPopUp(b)
            };
            c.bringToFront = function (b) {
                c.getImpl().bringToFront(b);
                g.PopUpEvent.dispatchPopUpEvent(c.getImpl(), g.PopUpEvent.BRING_TO_FRONT, b)
            };
            Object.defineProperty(c,
                "popUpList", {
                    get: function () {
                        return c.getImpl().popUpList
                    }, enumerable: !0, configurable: !0
                });
            c.addEventListener = function (b, a, d, f, g) {
                void 0 === f && (f = !1);
                void 0 === g && (g = 0);
                c.getImpl().addEventListener(b, a, d, f, g)
            };
            c.removeEventListener = function (b, a, d, f) {
                void 0 === f && (f = !1);
                c.getImpl().removeEventListener(b, a, d, f)
            };
            return c
        }();
        g.PopUpManager = f;
        f.prototype.__class__ = "egret.gui.PopUpManager"
    })(d.gui || (d.gui = {}))
})(egret || (egret = {}));
var puremvc;
(function (d) {
    var g = function () {
        function d(c, b) {
            this.context = this.notify = null;
            this.setNotifyMethod(c);
            this.setNotifyContext(b)
        }

        d.prototype.getNotifyMethod = function () {
            return this.notify
        };
        d.prototype.setNotifyMethod = function (c) {
            this.notify = c
        };
        d.prototype.getNotifyContext = function () {
            return this.context
        };
        d.prototype.setNotifyContext = function (c) {
            this.context = c
        };
        d.prototype.notifyObserver = function (c) {
            this.getNotifyMethod().call(this.getNotifyContext(), c)
        };
        d.prototype.compareNotifyContext = function (c) {
            return c ===
                this.context
        };
        return d
    }();
    d.Observer = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function f() {
            this.observerMap = this.mediatorMap = null;
            if (f.instance)throw Error(f.SINGLETON_MSG);
            f.instance = this;
            this.mediatorMap = {};
            this.observerMap = {};
            this.initializeView()
        }

        f.prototype.initializeView = function () {
        };
        f.prototype.registerObserver = function (c, b) {
            var a = this.observerMap[c];
            a ? a.push(b) : this.observerMap[c] = [b]
        };
        f.prototype.removeObserver = function (c, b) {
            for (var a = this.observerMap[c], d = a.length; d--;)if (a[d].compareNotifyContext(b)) {
                a.splice(d, 1);
                break
            }
            0 == a.length && delete this.observerMap[c]
        };
        f.prototype.notifyObservers = function (c) {
            var b = c.getName();
            if (b = this.observerMap[b])for (var b = b.slice(0), a = b.length, d = 0; d < a; d++)b[d].notifyObserver(c)
        };
        f.prototype.registerMediator = function (c) {
            var b = c.getMediatorName();
            if (!this.mediatorMap[b]) {
                this.mediatorMap[b] = c;
                var b = c.listNotificationInterests(), a = b.length;
                if (0 < a)for (var e = new d.Observer(c.handleNotification, c), f = 0; f < a; f++)this.registerObserver(b[f], e);
                c.onRegister()
            }
        };
        f.prototype.retrieveMediator = function (c) {
            return this.mediatorMap[c] ||
                null
        };
        f.prototype.removeMediator = function (c) {
            var b = this.mediatorMap[c];
            if (!b)return null;
            for (var a = b.listNotificationInterests(), d = a.length; d--;)this.removeObserver(a[d], b);
            delete this.mediatorMap[c];
            b.onRemove();
            return b
        };
        f.prototype.hasMediator = function (c) {
            return null != this.mediatorMap[c]
        };
        f.SINGLETON_MSG = "View singleton already constructed!";
        f.instance = null;
        f.getInstance = function () {
            f.instance || (f.instance = new f);
            return f.instance
        };
        return f
    }();
    d.View = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function f() {
            this.commandMap = this.view = null;
            if (f.instance)throw Error(f.SINGLETON_MSG);
            f.instance = this;
            this.commandMap = {};
            this.initializeController()
        }

        f.prototype.initializeController = function () {
            this.view = d.View.getInstance()
        };
        f.prototype.executeCommand = function (c) {
            var b = this.commandMap[c.getName()];
            b && (new b).execute(c)
        };
        f.prototype.registerCommand = function (c, b) {
            this.commandMap[c] || this.view.registerObserver(c, new d.Observer(this.executeCommand, this));
            this.commandMap[c] =
                b
        };
        f.prototype.hasCommand = function (c) {
            return null != this.commandMap[c]
        };
        f.prototype.removeCommand = function (c) {
            this.hasCommand(c) && (this.view.removeObserver(c, this), delete this.commandMap[c])
        };
        f.SINGLETON_MSG = "Controller singleton already constructed!";
        f.instance = null;
        f.getInstance = function () {
            f.instance || (f.instance = new f);
            return f.instance
        };
        return f
    }();
    d.Controller = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function d() {
            this.proxyMap = null;
            if (d.instance)throw Error(d.SINGLETON_MSG);
            d.instance = this;
            this.proxyMap = {};
            this.initializeModel()
        }

        d.prototype.initializeModel = function () {
        };
        d.prototype.registerProxy = function (c) {
            this.proxyMap[c.getProxyName()] = c;
            c.onRegister()
        };
        d.prototype.removeProxy = function (c) {
            var b = this.proxyMap[c];
            b && (delete this.proxyMap[c], b.onRemove());
            return b
        };
        d.prototype.retrieveProxy = function (c) {
            return this.proxyMap[c] || null
        };
        d.prototype.hasProxy = function (c) {
            return null !=
                this.proxyMap[c]
        };
        d.SINGLETON_MSG = "Model singleton already constructed!";
        d.instance = null;
        d.getInstance = function () {
            d.instance || (d.instance = new d);
            return d.instance
        };
        return d
    }();
    d.Model = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function d(c, b, a) {
            "undefined" === typeof b && (b = null);
            "undefined" === typeof a && (a = null);
            this.type = this.body = this.name = null;
            this.name = c;
            this.body = b;
            this.type = a
        }

        d.prototype.getName = function () {
            return this.name
        };
        d.prototype.setBody = function (c) {
            this.body = c
        };
        d.prototype.getBody = function () {
            return this.body
        };
        d.prototype.setType = function (c) {
            this.type = c
        };
        d.prototype.getType = function () {
            return this.type
        };
        d.prototype.toString = function () {
            var c = "Notification Name: " + this.getName(), c = c +
                ("\nBody:" + (null == this.getBody() ? "null" : this.getBody().toString()));
            return c += "\nType:" + (null == this.getType() ? "null" : this.getType())
        };
        return d
    }();
    d.Notification = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function f() {
            this.controller = this.view = this.model = null;
            if (f.instance)throw Error(f.SINGLETON_MSG);
            f.instance = this;
            this.initializeFacade()
        }

        f.prototype.initializeFacade = function () {
            this.initializeModel();
            this.initializeController();
            this.initializeView()
        };
        f.prototype.initializeModel = function () {
            this.model || (this.model = d.Model.getInstance())
        };
        f.prototype.initializeController = function () {
            this.controller || (this.controller = d.Controller.getInstance())
        };
        f.prototype.initializeView =
            function () {
                this.view || (this.view = d.View.getInstance())
            };
        f.prototype.registerCommand = function (c, b) {
            this.controller.registerCommand(c, b)
        };
        f.prototype.removeCommand = function (c) {
            this.controller.removeCommand(c)
        };
        f.prototype.hasCommand = function (c) {
            return this.controller.hasCommand(c)
        };
        f.prototype.registerProxy = function (c) {
            this.model.registerProxy(c)
        };
        f.prototype.retrieveProxy = function (c) {
            return this.model.retrieveProxy(c)
        };
        f.prototype.removeProxy = function (c) {
            var b;
            this.model && (b = this.model.removeProxy(c));
            return b
        };
        f.prototype.hasProxy = function (c) {
            return this.model.hasProxy(c)
        };
        f.prototype.registerMediator = function (c) {
            this.view && this.view.registerMediator(c)
        };
        f.prototype.retrieveMediator = function (c) {
            return this.view.retrieveMediator(c)
        };
        f.prototype.removeMediator = function (c) {
            var b;
            this.view && (b = this.view.removeMediator(c));
            return b
        };
        f.prototype.hasMediator = function (c) {
            return this.view.hasMediator(c)
        };
        f.prototype.notifyObservers = function (c) {
            this.view && this.view.notifyObservers(c)
        };
        f.prototype.sendNotification =
            function (c, b, a) {
                "undefined" === typeof b && (b = null);
                "undefined" === typeof a && (a = null);
                this.notifyObservers(new d.Notification(c, b, a))
            };
        f.SINGLETON_MSG = "Facade singleton already constructed!";
        f.instance = null;
        f.getInstance = function () {
            f.instance || (f.instance = new f);
            return f.instance
        };
        return f
    }();
    d.Facade = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function () {
        function f() {
            this.facade = null;
            this.facade = d.Facade.getInstance()
        }

        f.prototype.sendNotification = function (c, b, a) {
            "undefined" === typeof b && (b = null);
            "undefined" === typeof a && (a = null);
            this.facade.sendNotification(c, b, a)
        };
        return f
    }();
    d.Notifier = g
})(puremvc || (puremvc = {}));
__extends = this.__extends || function (d, g) {
    function f() {
        this.constructor = d
    }

    f.prototype = g.prototype;
    d.prototype = new f
};
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.subCommands = null;
            this.subCommands = [];
            this.initializeMacroCommand()
        }

        __extends(c, d);
        c.prototype.initializeMacroCommand = function () {
        };
        c.prototype.addSubCommand = function (b) {
            this.subCommands.push(b)
        };
        c.prototype.execute = function (b) {
            for (var a = this.subCommands.slice(0), c = this.subCommands.length, d = 0; d < c; d++)(new a[d]).execute(b);
            this.subCommands.splice(0)
        };
        return c
    }(d.Notifier);
    d.MacroCommand = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.apply(this, arguments)
        }

        __extends(c, d);
        c.prototype.execute = function (b) {
        };
        return c
    }(d.Notifier);
    d.SimpleCommand = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function (d) {
        function c(b, a) {
            "undefined" === typeof b && (b = null);
            "undefined" === typeof a && (a = null);
            d.call(this);
            this.viewComponent = this.mediatorName = null;
            this.mediatorName = null != b ? b : c.NAME;
            this.viewComponent = a
        }

        __extends(c, d);
        c.prototype.getMediatorName = function () {
            return this.mediatorName
        };
        c.prototype.getViewComponent = function () {
            return this.viewComponent
        };
        c.prototype.setViewComponent = function (b) {
            this.viewComponent = b
        };
        c.prototype.listNotificationInterests = function () {
            return []
        };
        c.prototype.handleNotification =
            function (b) {
            };
        c.prototype.onRegister = function () {
        };
        c.prototype.onRemove = function () {
        };
        c.NAME = "Mediator";
        return c
    }(d.Notifier);
    d.Mediator = g
})(puremvc || (puremvc = {}));
(function (d) {
    var g = function (d) {
        function c(b, a) {
            "undefined" === typeof b && (b = null);
            "undefined" === typeof a && (a = null);
            d.call(this);
            this.proxyName = this.data = null;
            this.proxyName = null != b ? b : c.NAME;
            null != a && this.setData(a)
        }

        __extends(c, d);
        c.prototype.getProxyName = function () {
            return this.proxyName
        };
        c.prototype.setData = function (b) {
            this.data = b
        };
        c.prototype.getData = function () {
            return this.data
        };
        c.prototype.onRegister = function () {
        };
        c.prototype.onRemove = function () {
        };
        c.NAME = "Proxy";
        return c
    }(d.Notifier);
    d.Proxy = g
})(puremvc ||
(puremvc = {}));
var game;
(function (d) {
    var g = function () {
        function d() {
        }

        d.EASY = "easy";
        d.NORMAL = "normal";
        d.SPECIAL = "special";
        return d
    }();
    d.Level = g;
    g.prototype.__class__ = "game.Level"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.register = function () {
            this.facade.registerCommand(c.START_GAME, c);
            this.facade.registerCommand(c.FINISH_GAME, c);
            this.facade.registerCommand(c.UPDATE_SCORE, c);
            this.facade.registerCommand(c.MOVE_TILE, c)
        };
        b.execute = function (a) {
            var b = this.facade.retrieveProxy(d.GameProxy.NAME), f = this.facade.retrieveProxy(d.GridProxy.NAME), g = a.getBody();
            switch (a.getName()) {
                case c.START_GAME:
                    this.sendNotification(d.SceneCommand.CHANGE,
                        2);
                    b.reset();
                    f.reset();
                    f.addStartTiles();
                    break;
                case c.UPDATE_SCORE:
                    b.updateScore(g);
                    break;
                case c.MOVE_TILE:
                    f.move(g);
                    break;
                case c.FINISH_GAME:
                    g ? (b.setResult(g), this.sendNotification(d.SceneCommand.SHOW_END)) : (b.quit(), f.reset(), this.sendNotification(d.SceneCommand.CHANGE, 1))
            }
        };
        c.NAME = "GameCommand";
        c.START_GAME = "start_game";
        c.FINISH_GAME = "finish_game";
        c.UPDATE_SCORE = "update_score";
        c.MOVE_TILE = "move_tile";
        return c
    }(puremvc.SimpleCommand);
    d.GameCommand = g;
    g.prototype.__class__ = "game.GameCommand"
})(game ||
(game = {}));
(function (d) {
    var g = function () {
        function f() {
        }

        Object.defineProperty(f, "size", {
            get: function () {
                if (f.level == d.Level.EASY)return 6;
                if (f.level == d.Level.NORMAL)return 5;
                if (f.level == d.Level.SPECIAL)return 4
            }, enumerable: !0, configurable: !0
        });
        f.winValue = 2048;
        f.level = d.Level.NORMAL;
        f.highScore = 0;
        f.isRunning = !1;
        return f
    }();
    d.CommonData = g;
    g.prototype.__class__ = "game.CommonData"
})(game || (game = {}));
(function (d) {
    var g = function () {
        function d() {
        }

        d.prototype.clone = function () {
            var c = new d;
            c.x = this.x;
            c.y = this.y;
            c.value = this.value;
            this.previousPosition && (c.previousPosition = {x: this.previousPosition.x, y: this.previousPosition.y});
            c.merged = this.merged;
            return c
        };
        return d
    }();
    d.TileVO = g;
    g.prototype.__class__ = "game.TileVO"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this, c.NAME);
            this.over = this.won = !1;
            this._score = 0
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "score", {
            get: function () {
                return this._score
            }, enumerable: !0, configurable: !0
        });
        b.reset = function () {
            this._score = 0;
            this.over = this.won = !1;
            d.CommonData.isRunning = !0;
            this.sendNotification(c.SCORE_RESET)
        };
        b.updateScore = function (a) {
            0 != a && (this._score += a, this._score > d.CommonData.highScore && (d.CommonData.highScore = this._score), this.sendNotification(c.SCORE_UPDATE,
                {totalScore: this.score, highScore: d.CommonData.highScore, addScore: a}))
        };
        b.setResult = function (a) {
            a ? this.won = !0 : this.over = !0;
            d.CommonData.isRunning = !1
        };
        b.quit = function () {
            this.reset();
            this.over = !0;
            d.CommonData.isRunning = !1
        };
        c.NAME = "GameProxy";
        c.SCORE_UPDATE = "score_update";
        c.SCORE_RESET = "score_reset";
        return c
    }(puremvc.Proxy);
    d.GameProxy = g;
    g.prototype.__class__ = "game.GameProxy"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this, c.NAME);
            this.cells = [];
            this.startTiles = 2;
            this.playerTurn = !0
        }

        __extends(c, f);
        var b = c.prototype;
        b.reset = function () {
            this.size = d.CommonData.size;
            this.cells = [];
            for (var a = 0; a < this.size; a++) {
                var b = [];
                this.cells.push(b);
                for (var f = 0; f < this.size; f++)b.push(null)
            }
            this.playerTurn = !0;
            this.sendNotification(c.TILE_RESET)
        };
        b.move = function (a) {
            var b = !1, c = !1, f = 0;
            this.prepareTiles();
            for (var g = this.buildMoveOrder(a), v = 0; v < g.length; v++) {
                var n = g[v];
                if (n) {
                    var k = this.findFarthestPosition({
                        x: n.x,
                        y: n.y
                    }, a), l = this.getNextPosition(k, a);
                    (l = this.cellContent(l.x, l.y)) && l.value == n.value && !l.merged ? (k = n.value + l.value, this.mergedTile(n, l), n.x = l.x, n.y = l.y, f += k, k >= d.CommonData.winValue && (b = !0)) : this.moveTile(n, k.x, k.y);
                    if (n.x != n.previousPosition.x || n.y != n.previousPosition.y)this.playerTurn = !1, c = !0
                }
            }
            0 < f && this.sendNotification(d.GameCommand.UPDATE_SCORE, f);
            b ? this.sendNotification(d.GameCommand.FINISH_GAME, !0) : (c && this.computerMove(), this.movesAvailable() || this.sendNotification(d.GameCommand.FINISH_GAME,
                !1))
        };
        b.computerMove = function () {
            this.addRandomTile();
            this.playerTurn = !0
        };
        b.buildMoveOrder = function (a) {
            var b = [], c = this.getVector(a);
            a = 1 == c.x ? !0 : !1;
            for (var c = 1 == c.y ? !0 : !1, d = a ? this.size - 1 : 0; 0 <= d && d < this.size;) {
                for (var f = c ? this.size - 1 : 0; 0 <= f && f < this.size;)b.push(this.cellContent(d, f)), f += c ? -1 : 1;
                d += a ? -1 : 1
            }
            return b
        };
        b.findFarthestPosition = function (a, b) {
            this.getVector(b);
            var c;
            do c = a, a = this.getNextPosition(a, b); while (this.withinBounds(a.x, a.y) && this.isAvailable(a.x, a.y));
            return c
        };
        b.getNextPosition = function (a,
                                      b) {
            var c = this.getVector(b);
            return {x: a.x + c.x, y: a.y + c.y}
        };
        b.prepareTiles = function () {
            for (var a = 0; a < this.size; a++)for (var b = 0; b < this.size; b++) {
                var c = this.cells[a][b];
                c && (c.merged = !1, c.previousPosition = {x: c.x, y: c.y})
            }
        };
        b.addStartTiles = function () {
            for (var a = 0; a < this.startTiles; a++)this.addRandomTile()
        };
        b.addRandomTile = function () {
            if (this.cellsAvailable()) {
                var a = this.randomAvailableCell, b = new d.TileVO;
                b.x = a.x;
                b.y = a.y;
                b.value = 0.9 > Math.random() ? 2 : 4;
                this.insertTile(b)
            }
        };
        b.movesAvailable = function () {
            for (var a =
                0; a < this.size; a++)for (var b = 0; b < this.size; b++) {
                var c = this.cells[a][b];
                if (c)for (var d = 0; 4 > d; d++) {
                    var f = this.getNextPosition({x: c.x, y: c.y}, d), g = this.cellContent(f.x, f.y);
                    if (!g && this.withinBounds(f.x, f.y) || g && g.value == c.value)return !0
                }
            }
            return !1
        };
        b.cellsAvailable = function () {
            return 0 < this.availableCells.length ? !0 : !1
        };
        b.isAvailable = function (a, b) {
            return !this.isOccupied(a, b)
        };
        b.isOccupied = function (a, b) {
            return this.cellContent(a, b) ? !0 : !1
        };
        b.cellContent = function (a, b) {
            return this.withinBounds(a, b) ? this.cells[a][b] :
                null
        };
        b.withinBounds = function (a, b) {
            return 0 <= a && a < this.size && 0 <= b && b < this.size
        };
        b.mergedTile = function (a, b) {
            var f = new d.TileVO;
            f.x = b.x;
            f.y = b.y;
            f.previousPosition = {x: a.x, y: a.y};
            f.value = a.value + b.value;
            f.merged = !0;
            this.cells[a.x][a.y] = null;
            this.cells[b.x][b.y] = f;
            this.sendNotification(c.TILE_MERGED, f.clone())
        };
        b.moveTile = function (a, b, d) {
            if (a.x != b || a.y != d)this.cells[a.x][a.y] = null, a.x = b, a.y = d, this.cells[a.x][a.y] = a, this.sendNotification(c.TILE_MOVE, a.clone())
        };
        b.insertTile = function (a) {
            this.cells[a.x][a.y] =
                a;
            this.sendNotification(c.TILE_INSERT, a.clone())
        };
        b.removeTile = function (a) {
            this.cells[a.x][a.y] = null;
            this.sendNotification(c.TILE_REMOVE, a.clone())
        };
        b.getVector = function (a) {
            return 0 == a ? {x: 0, y: -1} : 1 == a ? {x: 1, y: 0} : 2 == a ? {x: 0, y: 1} : 3 == a ? {
                x: -1,
                y: 0
            } : null
        };
        Object.defineProperty(b, "randomAvailableCell", {
            get: function () {
                var a = this.availableCells;
                return a.length ? a[Math.floor(Math.random() * a.length)] : null
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "availableCells", {
            get: function () {
                for (var a = [], b = 0; b <
                this.size; b++)for (var c = 0; c < this.size; c++)this.cells[b][c] || a.push({x: b, y: c});
                return a
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "GridProxy";
        c.TILE_RESET = "tile_reset";
        c.TILE_MOVE = "tile_move";
        c.TILE_INSERT = "tile_insert";
        c.TILE_REMOVE = "tile_remove";
        c.TILE_MERGED = "tile_merged";
        return c
    }(puremvc.Proxy);
    d.GridProxy = g;
    g.prototype.__class__ = "game.GridProxy"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        c.prototype.execute = function (b) {
            (new d.GameCommand).register();
            (new d.SceneCommand).register()
        };
        return c
    }(puremvc.SimpleCommand);
    d.ControllerPrepCommand = g;
    g.prototype.__class__ = "game.ControllerPrepCommand"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        c.prototype.execute = function (b) {
            this.facade.registerProxy(new d.GameProxy);
            this.facade.registerProxy(new d.GridProxy)
        };
        return c
    }(puremvc.SimpleCommand);
    d.ModelPrepCommand = g;
    g.prototype.__class__ = "game.ModelPrepCommand"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        c.prototype.execute = function (b) {
            b = b.getBody();
            this.facade.registerMediator(new d.ApplicationMediator(b))
        };
        return c
    }(puremvc.SimpleCommand);
    d.ViewPrepCommand = g;
    g.prototype.__class__ = "game.ViewPrepCommand"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        c.prototype.initializeMacroCommand = function () {
            this.addSubCommand(d.ControllerPrepCommand);
            this.addSubCommand(d.ModelPrepCommand);
            this.addSubCommand(d.ViewPrepCommand)
        };
        return c
    }(puremvc.MacroCommand);
    d.StartupCommand = g;
    g.prototype.__class__ = "game.StartupCommand"
})(game || (game = {}));
var skin;
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "pause_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [0, 0, 0, "pause_normal", 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        d.PauseButtonSkin =
            f;
        f.prototype.__class__ = "skin.components.PauseButtonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        var b = c.prototype;
        c.getInstance = function () {
            null == this.instance && (this.instance = new c);
            return this.instance
        };
        b.initializeController = function () {
            f.prototype.initializeController.call(this);
            this.registerCommand(c.STARTUP, d.StartupCommand)
        };
        b.startUp = function (a) {
            this.sendNotification(c.STARTUP, a);
            this.removeCommand(c.STARTUP)
        };
        c.STARTUP = "startup";
        return c
    }(puremvc.Facade);
    d.ApplicationFacade = g;
    g.prototype.__class__ = "game.ApplicationFacade"
})(game ||
(game = {}));
(function (d) {
    var g = function () {
        function d(b) {
            this.className = b;
            this.list = []
        }

        var c = d.prototype;
        c.borrowObject = function () {
            return 0 < this.list.length ? this.list.shift() : new (egret.getDefinitionByName(this.className))
        };
        c.returnObject = function (b) {
            this.list.push(b)
        };
        d.getPool = function (b) {
            d.pool[b] || (d.pool[b] = new d(b));
            return d.pool[b]
        };
        d.pool = {};
        return d
    }();
    d.ObjectPool = g;
    g.prototype.__class__ = "game.ObjectPool"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a);
            this.gameMenuUI.pauseButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.pauseButtonClick, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.pauseButtonClick = function (a) {
            this.sendNotification(d.SceneCommand.SHOW_SETTING, "pause")
        };
        b.listNotificationInterests = function () {
            return [d.GameProxy.SCORE_UPDATE, d.GameProxy.SCORE_RESET]
        };
        b.handleNotification = function (a) {
            var b = a.getBody();
            switch (a.getName()) {
                case d.GameProxy.SCORE_UPDATE:
                    this.gameMenuUI.scoreLabel.text =
                        b.totalScore.toString();
                    this.gameMenuUI.highScoreLabel.text = b.highScore.toString();
                    break;
                case d.GameProxy.SCORE_RESET:
                    this.gameMenuUI.reset()
            }
        };
        Object.defineProperty(b, "gameMenuUI", {
            get: function () {
                return this.viewComponent
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "GameMenuMediator";
        return c
    }(puremvc.Mediator);
    d.GameMenuMediator = g;
    g.prototype.__class__ = "game.GameMenuMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a)
        }

        __extends(c, f);
        var b = c.prototype;
        b.listNotificationInterests = function () {
            return [d.GridProxy.TILE_INSERT, d.GridProxy.TILE_MERGED, d.GridProxy.TILE_MOVE, d.GridProxy.TILE_REMOVE, d.GridProxy.TILE_RESET]
        };
        b.handleNotification = function (a) {
            var b = a.getBody();
            switch (a.getName()) {
                case d.GridProxy.TILE_INSERT:
                    this.gameScene.createTile(b);
                    break;
                case d.GridProxy.TILE_MERGED:
                    this.gameScene.mergedTile(b);
                    break;
                case d.GridProxy.TILE_MOVE:
                    this.gameScene.moveTile(b);
                    break;
                case d.GridProxy.TILE_REMOVE:
                    this.gameScene.removeTile(b);
                    break;
                case d.GridProxy.TILE_RESET:
                    this.gameScene.clearTiles()
            }
        };
        Object.defineProperty(b, "gameScene", {
            get: function () {
                return this.viewComponent
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "GameSceneMediator";
        return c
    }(puremvc.Mediator);
    d.GameSceneMediator = g;
    g.prototype.__class__ = "game.GameSceneMediator"
})(game || (game = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.anchorY = this.anchorX = 0.5;
            this.location = {x: 0, y: 0}
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "value", {
            get: function () {
                return this._value
            }, set: function (a) {
                a != this._value && (this._value = a, this.updateValue())
            }, enumerable: !0, configurable: !0
        });
        b.updateValue = function () {
            var a = Math.log(this._value) / Math.log(2);
            this.texture = RES.getRes("tile_" + a)
        };
        b.playScale = function (a) {
            void 0 === a && (a = !1);
            if (a) {
                var b = this;
                this.scaleX = this.scaleY = 1;
                egret.Tween.get(this).to({
                    scaleX: 1.3,
                    scaleY: 1.3
                }, 80).call(function () {
                    egret.Tween.get(b).to({scaleX: 1, scaleY: 1}, 80)
                }, this)
            } else this.scaleX = this.scaleY = 0.1, egret.Tween.get(this).to({scaleX: 1, scaleY: 1}, 100)
        };
        b.playmove = function (a, b) {
            var c = this;
            egret.Tween.get(this).to({x: a, y: b}, 100).call(function () {
                c.dispatchEvent(new egret.Event("moveComplete"))
            }, this)
        };
        return c
    }(egret.Bitmap);
    d.TileUI = g;
    g.prototype.__class__ = "game.TileUI"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.elementsContent = [this.__3_i(), this.scoreLabel_i(), this.pauseButton_i(), this.__8_i()];
            this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__4_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["source", "x", "y"], ["highscroce", 128, 82]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold fontFamily size text textColor x y".split(" "), [!0, "Arial", 14, "HIGH SCORE:", 6194096, 154, 84]);
            return a
        };
        b.__6_i = function () {
            var a = new egret.gui.Spacer;
            this.__s(a, ["height", "width", "x", "y"], [20, 134, 129, 34]);
            return a
        };
        b.__7_i = function () {
            var a = new egret.gui.HorizontalLayout;
            this.__s(a, ["gap", "verticalAlign"], [3, "middle"]);
            return a
        };
        b.__8_i = function () {
            var a = new egret.gui.Group;
            this.__s(a, ["x", "y"], [128, 82]);
            a.layout = this.__7_i();
            a.elementsContent =
                [this.__4_i(), this.__5_i(), this.highScoreLabel_i(), this.__6_i(), this.levelIcon_i(), this.levelLabel_i()];
            return a
        };
        b.highScoreLabel_i = function () {
            var a = new egret.gui.Label;
            this.highScoreLabel = a;
            this.__s(a, "bold fontFamily size text textColor x y".split(" "), [!0, "Arial", 14, "1560", 6194096, 231, 84]);
            return a
        };
        b.levelIcon_i = function () {
            var a = new egret.gui.UIAsset;
            this.levelIcon = a;
            this.__s(a, ["source", "x", "y"], ["level_small_easy", 302, 85]);
            return a
        };
        b.levelLabel_i = function () {
            var a = new egret.gui.Label;
            this.levelLabel =
                a;
            this.__s(a, "bold fontFamily size text textColor x y".split(" "), [!0, "Arial", 14, "EASY", 6194096, 409, 84]);
            return a
        };
        b.pauseButton_i = function () {
            var a = new egret.gui.Button;
            this.pauseButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u6309\u94ae", d.components.PauseButtonSkin, 532, 13]);
            return a
        };
        b.scoreLabel_i = function () {
            var a = new egret.gui.Label;
            this.scoreLabel = a;
            this.__s(a, "bold fontFamily horizontalCenter italic size text textColor top".split(" "), [!0, "Arial", 0, !0, 45, "1000", 1516360, 21]);
            return a
        };
        b.__3_i =
            function () {
                var a = new egret.gui.UIAsset;
                a.source = "menubackground";
                return a
            };
        c._skinParts = ["scoreLabel", "pauseButton", "highScoreLabel", "levelIcon", "levelLabel"];
        return c
    }(egret.gui.Skin);
    d.GameMenuSkin = g;
    g.prototype.__class__ = "skin.GameMenuSkin"
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.minWidth = 300;
                this.elementsContent = [this.__4_i(), this.labelDisplay_i(), this.iconDisplay_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "icon_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                }, enumerable: !0, configurable: !0
            });
            a.iconDisplay_i =
                function () {
                    var a = new egret.gui.UIAsset;
                    this.iconDisplay = a;
                    this.__s(a, ["left", "source", "verticalCenter"], [30, "level_easy", -0.5]);
                    return a
                };
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "bold fontFamily horizontalCenter text textColor verticalCenter".split(" "), [!0, "Arial", 33, "Normal", 100887, 0]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, "bottom left right scale9Grid source top".split(" "), [0, 0, 0, egret.gui.getScale9Grid("109,36,15,15"),
                    "icon_normal", 0]);
                return a
            };
            b._skinParts = ["labelDisplay", "iconDisplay"];
            return b
        }(egret.gui.Skin);
        d.IconButtonSkin = f;
        f.prototype.__class__ = "skin.components.IconButtonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.skinName = skin.components.IconButtonSkin
        }

        __extends(c, d);
        return c
    }(egret.gui.Button);
    d.IconButton = g;
    g.prototype.__class__ = "game.IconButton"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.resetFlag = !0;
            this.skinName = skin.GameMenuSkin;
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.createCompleteEvent = function (a) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.GameMenuMediator(this))
        };
        b.reset = function () {
            this.resetFlag = !0;
            this.invalidateProperties()
        };
        b.commitProperties = function () {
            this.resetFlag && (this.resetFlag = !1, this.scoreLabel.text = "0", this.highScoreLabel.text = d.CommonData.highScore.toString(), this.levelLabel.text = d.CommonData.level.toLocaleUpperCase(), this.levelIcon.source = "level_small_" + d.CommonData.level)
        };
        return c
    }(egret.gui.SkinnableComponent);
    d.GameMenuUI = g;
    g.prototype.__class__ = "game.GameMenuUI"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            this.addContainer()
        }

        __extends(c, f);
        var b = c.prototype;
        b.addContainer = function () {
            this.source = this.tileGroup = new egret.Sprite
        };
        b.createCompleteEvent = function (a) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.GameSceneMediator(this))
        };
        b.createTile = function (a) {
            var b =
                d.ObjectPool.getPool("game.TileUI").borrowObject();
            b.value = a.value;
            b.location.x = a.x;
            b.location.y = a.y;
            b.width = b.height = this.tileSize;
            b.x = a.x * (b.width + this.gap) + b.width / 2;
            b.y = a.y * (b.height + this.gap) + b.height / 2;
            b.visible = !1;
            this.tileGroup.addChild(b);
            egret.setTimeout(function () {
                b.visible = !0;
                a.merged ? b.playScale(!0) : b.playScale(!1)
            }, this, 100)
        };
        b.getTileUI = function (a, b) {
            for (var c = 0; c < this.tileGroup.numChildren; c++) {
                var d = this.tileGroup.getChildAt(c);
                if (d.location.x == a && d.location.y == b)return d
            }
            return null
        };
        b.mergedTile = function (a) {
            var b = this.getTileUI(a.previousPosition.x, a.previousPosition.y), c = this.getTileUI(a.x, a.y);
            if (b && c) {
                this.tileGroup.setChildIndex(b, 0);
                var f = this;
                b.location.x = -1;
                b.location.y = -1;
                b.playmove(a.x * (b.width + this.gap) + b.width / 2, a.y * (b.height + this.gap) + b.height / 2);
                var g = function (v) {
                    b.removeEventListener("moveComplete", g, f);
                    b.parent && f.tileGroup.removeChild(b);
                    d.ObjectPool.getPool("game.TileUI").returnObject(b);
                    c.value = a.value;
                    f.tileGroup.setChildIndex(c, f.tileGroup.numChildren - 1);
                    c.playScale(!0)
                };
                b.addEventListener("moveComplete", g, this)
            }
        };
        b.removeTile = function (a) {
            if (a = this.getTileUI(a.x, a.y))this.tileGroup.removeChild(a), d.ObjectPool.getPool("game.TileUI").returnObject(a)
        };
        b.moveTile = function (a) {
            var b = this.getTileUI(a.previousPosition.x, a.previousPosition.y);
            b && (b.location.x = a.x, b.location.y = a.y, b.playmove(a.x * (b.width + this.gap) + b.width / 2, a.y * (b.height + this.gap) + b.height / 2))
        };
        b.clearTiles = function () {
            for (var a, b = this.tileGroup.numChildren - 1; 0 <= b; b--)a = this.tileGroup.removeChildAt(b),
                d.ObjectPool.getPool("game.TileUI").returnObject(a)
        };
        Object.defineProperty(b, "tileSize", {
            get: function () {
                return (560 - (d.CommonData.size + 1) * this.gap) / d.CommonData.size
            }, enumerable: !0, configurable: !0
        });
        Object.defineProperty(b, "gap", {
            get: function () {
                return 0
            }, enumerable: !0, configurable: !0
        });
        return c
    }(egret.gui.UIAsset);
    d.GameScene = g;
    g.prototype.__class__ = "game.GameScene"
})(game || (game = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", []), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            b.prototype.__4_i = function () {
                var a = new egret.gui.Rect;
                this.__s(a, ["bottom", "fillAlpha", "left", "right", "top"], [0, 0, 0, 0, 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        d.CloseButtonSkin = f;
        f.prototype.__class__ = "skin.components.CloseButtonSkin"
    })(d.components ||
    (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__7_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "source", "music_down")]), new egret.gui.State("disabled", []), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__7", "source", "music_non_normal")]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__7", "source", "music_non_down")]),
                    new egret.gui.State("disabledAndSelected", [])]
            }

            __extends(b, c);
            b.prototype.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                a.source = "music_normal";
                return a
            };
            return b
        }(egret.gui.Skin);
        d.MusicButonSkin = f;
        f.prototype.__class__ = "skin.components.MusicButonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.width = 293;
                this.elementsContent = [this.__4_i(), this.__5_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "play_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            var a = b.prototype;
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, "bottom left right scale9Grid source top".split(" "), [0, 0, 0, egret.gui.getScale9Grid("39,39,15,74"),
                    "play_normal", 0]);
                return a
            };
            a.__5_i = function () {
                var a = new egret.gui.Label;
                this.__s(a, "fontFamily right size text textColor verticalCenter".split(" "), ["Arial", 116, 45, "PLAY", 72074, 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        d.PlayButtonSkin = f;
        f.prototype.__class__ = "skin.components.PlayButtonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "retry2_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                a.source = "retry2_normal";
                return a
            };
            return b
        }(egret.gui.Skin);
        d.RetryButtonSkin = f;
        f.prototype.__class__ = "skin.components.RetryButtonSkin"
    })(d.components ||
    (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "return_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                a.source = "return_normal";
                return a
            };
            return b
        }(egret.gui.Skin);
        d.ReturnSkin = f;
        f.prototype.__class__ = "skin.components.ReturnSkin"
    })(d.components ||
    (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "setting_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            b.prototype.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [0, 0, 0, "setting_normal", 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        d.SettingButtonSkin = f;
        f.prototype.__class__ = "skin.components.SettingButtonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__7_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__7", "source", "sound_down")]), new egret.gui.State("disabled", []), new egret.gui.State("upAndSelected", [new egret.gui.SetProperty("__7", "source", "sound_non_normal")]), new egret.gui.State("downAndSelected", [new egret.gui.SetProperty("__7", "source", "sound_non_down")]),
                    new egret.gui.State("disabledAndSelected", [])]
            }

            __extends(b, c);
            b.prototype.__7_i = function () {
                var a = new egret.gui.UIAsset;
                this.__7 = a;
                this.__s(a, ["bottom", "left", "right", "source", "top"], [0, 0, 0, "sound_normal", 0]);
                return a
            };
            return b
        }(egret.gui.Skin);
        d.SoundButtonSkin = f;
        f.prototype.__class__ = "skin.components.SoundButtonSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a);
            this.endWindow.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.buttonClick, this);
            this.endWindow.retryButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.buttonClick, this);
            this.endWindow.returnButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.buttonClick, this);
            this.endWindow.addEventListener(egret.Event.ADDED_TO_STAGE, this.initData, this);
            this.initData()
        }

        __extends(c, f);
        var b = c.prototype;
        b.initData = function (a) {
            a =
                this.facade.retrieveProxy(d.GameProxy.NAME);
            this.endWindow.highScoreLabel.text = d.CommonData.highScore.toString();
            this.endWindow.totalScoreLabel.text = a.score.toString()
        };
        b.buttonClick = function (a) {
            this.endWindow.close();
            a.currentTarget == this.endWindow.retryButton ? this.sendNotification(d.GameCommand.START_GAME) : this.sendNotification(d.GameCommand.FINISH_GAME)
        };
        b.listNotificationInterests = function () {
            return []
        };
        b.handleNotification = function (a) {
            a.getName()
        };
        Object.defineProperty(b, "endWindow", {
            get: function () {
                return this.viewComponent
            },
            enumerable: !0, configurable: !0
        });
        c.NAME = "EndWindowMediator";
        return c
    }(puremvc.Mediator);
    d.EndWindowMediator = g;
    g.prototype.__class__ = "game.EndWindowMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a);
            this.lastMoveTime = 0;
            if (egret.MainContext.deviceType != egret.MainContext.DEVICE_MOBILE) {
                var b = this;
                document.addEventListener("keydown", function (a) {
                    switch (a.keyCode) {
                        case 38:
                            b.doMove(0);
                            break;
                        case 39:
                            b.doMove(1);
                            break;
                        case 40:
                            b.doMove(2);
                            break;
                        case 37:
                            b.doMove(3)
                    }
                })
            } else this.gamescreen.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.mouseDownHandle, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.mouseDownHandle = function (a) {
            egret.gui.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,
                this.stage_mouseMoveHandler, this);
            egret.gui.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
            egret.gui.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this);
            this.downPoint = this.gamescreen.globalToLocal(a.stageX, a.stageY)
        };
        b.stage_mouseMoveHandler = function (a) {
            this.movePoint || (this.movePoint = new egret.Point);
            this.movePoint.x = a.stageX;
            this.movePoint.y = a.stageY;
            this.needMove || (this.needMove = !0)
        };
        b.stage_mouseUpHandler = function (a) {
            egret.gui.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,
                this.stage_mouseMoveHandler, this);
            egret.gui.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.stage_mouseUpHandler, this);
            egret.gui.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE, this.stage_mouseUpHandler, this);
            this.needMove && (this.updateWhenMouseUp(), this.needMove = !1)
        };
        b.updateWhenMouseUp = function () {
            var a = this.gamescreen.globalToLocal(this.movePoint.x, this.movePoint.y, egret.Point.identity), b = a.x - this.downPoint.x, a = a.y - this.downPoint.y;
            0 > a && Math.abs(a) > Math.abs(b) ? this.doMove(0) :
                0 < b && b > Math.abs(a) ? this.doMove(1) : 0 < a && a > Math.abs(b) ? this.doMove(2) : 0 > b && Math.abs(b) > Math.abs(a) && this.doMove(3)
        };
        b.doMove = function (a) {
            if (d.CommonData.isRunning && 150 <= egret.getTimer() - this.lastMoveTime) {
                switch (a) {
                    case 0:
                        this.sendNotification(d.GameCommand.MOVE_TILE, 0);
                        break;
                    case 1:
                        this.sendNotification(d.GameCommand.MOVE_TILE, 1);
                        break;
                    case 2:
                        this.sendNotification(d.GameCommand.MOVE_TILE, 2);
                        break;
                    case 3:
                        this.sendNotification(d.GameCommand.MOVE_TILE, 3)
                }
                this.lastMoveTime = egret.getTimer()
            }
        };
        b.listNotificationInterests =
            function () {
                return []
            };
        b.handleNotification = function (a) {
            a.getName()
        };
        Object.defineProperty(b, "gamescreen", {
            get: function () {
                return this.viewComponent
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "GameScreenMediator";
        return c
    }(puremvc.Mediator);
    d.GameScreenMediator = g;
    g.prototype.__class__ = "game.GameScreenMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a);
            this.settingWindow.howtoplayButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.howtoplayButtonClick, this);
            this.settingWindow.aboutButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.aboutButtonClick, this);
            this.settingWindow.resumeButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.resumeButtonClick, this);
            this.settingWindow.restartButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.restartButtonClick, this);
            this.settingWindow.quitButton.addEventListener(egret.TouchEvent.TOUCH_TAP,
                this.quitButtonClick, this);
            this.settingWindow.yesButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.yesButtonClick, this);
            this.settingWindow.noButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.resumeButtonClick, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.howtoplayButtonClick = function (a) {
            a = new d.HowtoplayWindow;
            egret.gui.PopUpManager.addPopUp(a, !0)
        };
        b.aboutButtonClick = function (a) {
            a = new d.AboutWindow;
            egret.gui.PopUpManager.addPopUp(a, !0)
        };
        b.resumeButtonClick = function (a) {
            egret.gui.PopUpManager.removePopUp(this.settingWindow)
        };
        b.restartButtonClick = function (a) {
            this.settingWindow.setWindowType("restart")
        };
        b.quitButtonClick = function (a) {
            this.settingWindow.setWindowType("quit")
        };
        b.yesButtonClick = function (a) {
            egret.gui.PopUpManager.removePopUp(this.settingWindow);
            "restart" == this.settingWindow.type ? this.sendNotification(d.GameCommand.START_GAME) : "quit" == this.settingWindow.type && this.sendNotification(d.GameCommand.FINISH_GAME)
        };
        b.listNotificationInterests = function () {
            return []
        };
        b.handleNotification = function (a) {
            a.getName()
        };
        Object.defineProperty(b,
            "settingWindow", {
                get: function () {
                    return this.viewComponent
                }, enumerable: !0, configurable: !0
            });
        c.NAME = "SettingWindowMediator";
        return c
    }(puremvc.Mediator);
    d.SettingWindowMediator = g;
    g.prototype.__class__ = "game.SettingWindowMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c(a) {
            f.call(this, c.NAME, a);
            this.setLevel(d.CommonData.level);
            this.startScreen.levelButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.levelButtonClick, this);
            this.startScreen.playButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.startButtonClick, this);
            this.startScreen.settingButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.settingButtonClick, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.settingButtonClick = function (a) {
            this.sendNotification(d.SceneCommand.SHOW_SETTING,
                "setting")
        };
        b.levelButtonClick = function (a) {
            d.CommonData.level == d.Level.EASY ? this.setLevel(d.Level.NORMAL) : d.CommonData.level == d.Level.NORMAL ? this.setLevel(d.Level.SPECIAL) : d.CommonData.level == d.Level.SPECIAL && this.setLevel(d.Level.EASY)
        };
        b.setLevel = function (a) {
            d.CommonData.level = a;
            this.startScreen.levelButton.label = a.toLocaleUpperCase();
            this.startScreen.levelButton.icon = "level_" + a
        };
        b.startButtonClick = function (a) {
            this.sendNotification(d.GameCommand.START_GAME)
        };
        b.listNotificationInterests = function () {
            return []
        };
        b.handleNotification = function (a) {
            a.getBody();
            a.getName()
        };
        Object.defineProperty(b, "startScreen", {
            get: function () {
                return this.viewComponent
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "StartScreenMediator";
        return c
    }(puremvc.Mediator);
    d.StartScreenMediator = g;
    g.prototype.__class__ = "game.StartScreenMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.__s(this, ["height", "width"], [672, 628]);
            this.transitions = [this.__18_i()];
            this.elementsContent = [this.group1_i()];
            this.states = [new egret.gui.State("close", []), new egret.gui.State("open", [new egret.gui.SetProperty("uiasset1", "x", 0), new egret.gui.SetProperty("sun", "y", -656), new egret.gui.SetProperty("cloud", "x", -403), new egret.gui.SetProperty("label1", "alpha", 0), new egret.gui.SetProperty("totalScoreLabel", "alpha",
                0), new egret.gui.SetProperty("label2", "alpha", 0), new egret.gui.SetProperty("highScoreLabel", "alpha", 0), new egret.gui.SetProperty("returnButton", "alpha", 0), new egret.gui.SetProperty("retryButton", "alpha", 0)])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__11_i = function () {
            var a = new egret.gui.Parallel;
            this.__11 = a;
            a.target = this.returnButton;
            a.children = [this.__9_i(), this.__10_i()];
            return a
        };
        b.__12_i = function () {
            var a =
                new egret.gui.Fade;
            this.__s(a, ["alphaFrom", "alphaTo", "startDelay"], [0, 1, 1E3]);
            return a
        };
        b.__13_i = function () {
            var a = new egret.gui.Rotate;
            this.__s(a, ["angleFrom", "angleTo", "autoCenterTransform", "startDelay"], [0, 360, !0, 1E3]);
            return a
        };
        b.__14_i = function () {
            var a = new egret.gui.Parallel;
            this.__14 = a;
            a.target = this.retryButton;
            a.children = [this.__12_i(), this.__13_i()];
            return a
        };
        b.__15_i = function () {
            var a = new egret.gui.Move;
            this.__15 = a;
            this.__s(a, ["startDelay", "target", "yFrom", "yTo"], [500, this.sun, -656, -263]);
            return a
        };
        b.__16_i = function () {
            var a = new egret.gui.Move;
            this.__16 = a;
            this.__s(a, ["startDelay", "target", "xFrom", "xTo"], [800, this.cloud, -403, 69]);
            return a
        };
        b.__17_i = function () {
            var a = new egret.gui.Parallel;
            a.children = [this.__5_i(), this.__6_i(), this.__7_i(), this.__8_i(), this.__11_i(), this.__14_i(), this.__15_i(), this.__16_i(), this.moveEffect_i()];
            return a
        };
        b.__18_i = function () {
            var a = new egret.gui.Transition;
            this.__s(a, ["fromState", "toState"], ["close", "open"]);
            a.effect = this.__17_i();
            return a
        };
        b.__3_i = function () {
            var a =
                new egret.gui.UIAsset;
            this.__s(a, ["source", "x", "y"], ["end_close_png", 518, 0]);
            return a
        };
        b.__4_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold fontFamily horizontalCenter italic text textColor top".split(" "), [!0, "Arial", -5, !0, "Well Done!", 623230, 23]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.Fade;
            this.__5 = a;
            this.__s(a, ["alphaFrom", "alphaTo", "startDelay", "target"], [0, 1, 500, this.label1]);
            return a
        };
        b.__6_i = function () {
            var a = new egret.gui.Fade;
            this.__6 = a;
            this.__s(a, ["alphaFrom", "alphaTo",
                "startDelay", "target"], [0, 1, 500, this.totalScoreLabel]);
            return a
        };
        b.__7_i = function () {
            var a = new egret.gui.Fade;
            this.__7 = a;
            this.__s(a, ["alphaFrom", "alphaTo", "startDelay", "target"], [0, 1, 1E3, this.label2]);
            return a
        };
        b.__8_i = function () {
            var a = new egret.gui.Fade;
            this.__8 = a;
            this.__s(a, ["alphaFrom", "alphaTo", "startDelay", "target"], [0, 1, 1E3, this.highScoreLabel]);
            return a
        };
        b.__9_i = function () {
            var a = new egret.gui.Fade;
            this.__s(a, ["alphaFrom", "alphaTo", "startDelay"], [0, 1, 500]);
            return a
        };
        b.closeButton_i = function () {
            var a =
                new egret.gui.Button;
            this.closeButton = a;
            this.__s(a, "height label right skinName top width".split(" "), [50, "\u6309\u94ae", 33, d.components.CloseButtonSkin, 21, 50]);
            return a
        };
        b.cloud_i = function () {
            var a = new egret.gui.UIAsset;
            this.cloud = a;
            this.__s(a, ["source", "x", "y"], ["end_cloud_png", 69, 110]);
            this.__16 && (this.__16.target = this.cloud);
            return a
        };
        b.contentGroup_i = function () {
            var a = new egret.gui.Group;
            this.contentGroup = a;
            this.__s(a, ["clipAndEnableScrolling", "height", "width", "x", "y"], [!0, 574, 542, 43, 98]);
            a.elementsContent =
                [this.sun_i(), this.cloud_i(), this.label1_i(), this.totalScoreLabel_i(), this.label2_i(), this.highScoreLabel_i(), this.returnButton_i(), this.retryButton_i()];
            return a
        };
        b.group1_i = function () {
            var a = new egret.gui.Group;
            this.group1 = a;
            this.__s(a, ["height", "width", "x", "y"], [672, 628, 0, 0]);
            a.elementsContent = [this.uiasset1_i(), this.__3_i(), this.closeButton_i(), this.__4_i(), this.contentGroup_i()];
            this.moveEffect && (this.moveEffect.target = this.group1);
            return a
        };
        b.highScoreLabel_i = function () {
            var a = new egret.gui.Label;
            this.highScoreLabel = a;
            this.__s(a, "bold fontFamily horizontalCenter size text textColor top".split(" "), [!0, "Helvetica", 0, 28, "1560", 8377047, 212]);
            this.__8 && (this.__8.target = this.highScoreLabel);
            return a
        };
        b.label1_i = function () {
            var a = new egret.gui.Label;
            this.label1 = a;
            this.__s(a, "bold fontFamily horizontalCenter text textColor y".split(" "), [!0, "Helvetica", 0.5, "Total score", 16745472, 16]);
            this.__5 && (this.__5.target = this.label1);
            return a
        };
        b.label2_i = function () {
            var a = new egret.gui.Label;
            this.label2 = a;
            this.__s(a,
                "bold fontFamily text textColor x y".split(" "), [!0, "Helvetica", "High score", 8377047, 195, 167]);
            this.__7 && (this.__7.target = this.label2);
            return a
        };
        b.moveEffect_i = function () {
            var a = new egret.gui.Move;
            this.moveEffect = a;
            this.__s(a, ["target", "yFrom", "yTo"], [this.group1, -672, 0]);
            return a
        };
        b.retryButton_i = function () {
            var a = new egret.gui.Button;
            this.retryButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u6309\u94ae", d.components.RetryButtonSkin, 362, 386]);
            this.__14 && (this.__14.target = this.retryButton);
            return a
        };
        b.returnButton_i = function () {
            var a = new egret.gui.Button;
            this.returnButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u6309\u94ae", d.components.ReturnSkin, 235, 446]);
            this.__11 && (this.__11.target = this.returnButton);
            return a
        };
        b.__10_i = function () {
            var a = new egret.gui.Scale;
            this.__s(a, "autoCenterTransform scaleXFrom scaleXTo scaleYFrom scaleYTo startDelay".split(" "), [!0, 0, 1, 0, 1, 500]);
            return a
        };
        b.sun_i = function () {
            var a = new egret.gui.UIAsset;
            this.sun = a;
            this.__s(a, ["horizontalCenter", "source", "y"], [0, "end_sun_png",
                -263]);
            this.__15 && (this.__15.target = this.sun);
            return a
        };
        b.totalScoreLabel_i = function () {
            var a = new egret.gui.Label;
            this.totalScoreLabel = a;
            this.__s(a, "bold fontFamily horizontalCenter size text textColor top".split(" "), [!0, "Helvetica", 0, 39, "254", 16745472, 61]);
            this.__6 && (this.__6.target = this.totalScoreLabel);
            return a
        };
        b.uiasset1_i = function () {
            var a = new egret.gui.UIAsset;
            this.uiasset1 = a;
            a.source = "end_background";
            return a
        };
        c._skinParts = "uiasset1 closeButton sun cloud label1 totalScoreLabel label2 highScoreLabel returnButton retryButton contentGroup group1 moveEffect".split(" ");
        return c
    }(egret.gui.Skin);
    d.EndScreenSkin = g;
    g.prototype.__class__ = "skin.EndScreenSkin"
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.elementsContent = [this.__3_i(), this.gameMenuUI_i(), this.gameSceneUI_i()];
            this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.gameMenuUI_i = function () {
            var a = new game.GameMenuUI;
            this.gameMenuUI = a;
            a.skinName = d.GameMenuSkin;
            return a
        };
        b.gameSceneUI_i =
            function () {
                var a = new game.GameScene;
                this.gameSceneUI = a;
                this.__s(a, ["x", "y"], [40, 120]);
                return a
            };
        b.__3_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["source", "y"], ["sence_background", 0]);
            return a
        };
        c._skinParts = ["gameMenuUI", "gameSceneUI"];
        return c
    }(egret.gui.Skin);
    d.MainGameUISkin = g;
    g.prototype.__class__ = "skin.MainGameUISkin"
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.__s(this, ["currentState", "width"], ["setting", 593]);
            this.elementsContent = [this.__5_i(), this.titleDisplay_i(), this.contentGroup_i(), this.closeButton_i()];
            this.__6_i();
            this.__7_i();
            this.__8_i();
            this.yesButton_i();
            this.noButton_i();
            this.resumeButton_i();
            this.howtoplayButton_i();
            this.musicButton_i();
            this.soundButton_i();
            this.__10_i();
            this.restartButton_i();
            this.quitButton_i();
            this.moreButton_i();
            this.aboutButton_i();
            this.states = [new egret.gui.State("setting", [new egret.gui.AddItems("howtoplayButton", "contentGroup", "last", ""), new egret.gui.AddItems("musicButton", "__10", "first", ""), new egret.gui.AddItems("soundButton", "__10", "last", ""), new egret.gui.AddItems("__10", "contentGroup", "last", ""), new egret.gui.AddItems("moreButton", "contentGroup", "last", ""), new egret.gui.AddItems("aboutButton", "contentGroup", "last", ""), new egret.gui.SetProperty("howtoplayButton", "width", 363)]), new egret.gui.State("pause", [new egret.gui.AddItems("resumeButton",
                "contentGroup", "last", ""), new egret.gui.AddItems("howtoplayButton", "contentGroup", "last", ""), new egret.gui.AddItems("musicButton", "__10", "first", ""), new egret.gui.AddItems("soundButton", "__10", "last", ""), new egret.gui.AddItems("__10", "contentGroup", "last", ""), new egret.gui.AddItems("restartButton", "contentGroup", "last", ""), new egret.gui.AddItems("quitButton", "contentGroup", "last", "")]), new egret.gui.State("restart", [new egret.gui.AddItems("__6", "__8", "first", ""), new egret.gui.AddItems("__7", "__8",
                "last", ""), new egret.gui.AddItems("__8", "contentGroup", "first", ""), new egret.gui.AddItems("yesButton", "contentGroup", "last", ""), new egret.gui.AddItems("noButton", "contentGroup", "last", ""), new egret.gui.SetProperty("__8", "height", 287), new egret.gui.SetProperty("howtoplayButton", "width", 363)]), new egret.gui.State("quit", [new egret.gui.AddItems("__6", "__8", "first", ""), new egret.gui.AddItems("__7", "__8", "last", ""), new egret.gui.AddItems("__8", "contentGroup", "first", ""), new egret.gui.AddItems("yesButton",
                "contentGroup", "last", ""), new egret.gui.AddItems("noButton", "contentGroup", "last", ""), new egret.gui.SetProperty("__7", "text", "If you quit now you will lose all progress made during this level. Are you sure you want to quit?"), new egret.gui.SetProperty("__8", "height", 287), new egret.gui.SetProperty("howtoplayButton", "width", 363)])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__11_i = function () {
            var a = new egret.gui.VerticalLayout;
            a.horizontalAlign = "contentJustify";
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.UIAsset;
            a.source = "setting_background";
            return a
        };
        b.__6_i = function () {
            var a = new egret.gui.Label;
            this.__6 = a;
            this.__s(a, "bold fontFamily horizontalCenter text textColor y".split(" "), [!0, "Arial", 0.5, "Attention!", 623230, 32]);
            return a
        };
        b.__7_i = function () {
            var a = new egret.gui.Label;
            this.__7 = a;
            this.__s(a, "bold fontFamily height horizontalCenter size text textAlign textColor width y".split(" "), [!0, "Arial", 206, 0.5, 26, "If you restart now you will lose all progress made during this level. Are you sure you want to restart?",
                "center", 623230, 376, 93]);
            return a
        };
        b.__8_i = function () {
            var a = new egret.gui.Group;
            this.__8 = a;
            this.__s(a, ["height", "x", "y"], [308, 163, 39]);
            a.elementsContent = [];
            return a
        };
        b.__9_i = function () {
            var a = new egret.gui.HorizontalLayout;
            a.horizontalAlign = "justify";
            return a
        };
        b.aboutButton_i = function () {
            var a = new egret.gui.Button;
            this.aboutButton = a;
            this.__s(a, ["label", "x", "y"], ["About", 154, 401]);
            return a
        };
        b.closeButton_i = function () {
            var a = new egret.gui.Button;
            this.closeButton = a;
            this.__s(a, "height label right skinName top width".split(" "),
                [50, "\u6309\u94ae", 26, d.components.CloseButtonSkin, 21, 50]);
            return a
        };
        b.contentGroup_i = function () {
            var a = new egret.gui.Group;
            this.contentGroup = a;
            this.__s(a, ["bottom", "left", "right", "top"], [87, 56, 80, 131]);
            a.layout = this.__11_i();
            a.elementsContent = [];
            return a
        };
        b.howtoplayButton_i = function () {
            var a = new egret.gui.Button;
            this.howtoplayButton = a;
            this.__s(a, ["label", "x", "y"], ["How to play", 95, 123]);
            return a
        };
        b.moreButton_i = function () {
            var a = new egret.gui.Button;
            this.moreButton = a;
            this.__s(a, ["label", "x", "y"], ["More Games",
                182, 333]);
            return a
        };
        b.musicButton_i = function () {
            var a = new egret.gui.ToggleButton;
            this.musicButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u5207\u6362\u6309\u94ae", d.components.MusicButonSkin, 41, 30]);
            return a
        };
        b.noButton_i = function () {
            var a = new egret.gui.Button;
            this.noButton = a;
            this.__s(a, ["label", "x", "y"], ["No", 94, 435]);
            return a
        };
        b.quitButton_i = function () {
            var a = new egret.gui.Button;
            this.quitButton = a;
            this.__s(a, ["label", "x", "y"], ["Quit", 145, 423]);
            return a
        };
        b.restartButton_i = function () {
            var a = new egret.gui.Button;
            this.restartButton = a;
            this.__s(a, ["label", "x", "y"], ["Restart", 180, 366]);
            return a
        };
        b.resumeButton_i = function () {
            var a = new egret.gui.Button;
            this.resumeButton = a;
            this.__s(a, ["label", "x", "y"], ["Resume", 166, 1]);
            return a
        };
        b.__10_i = function () {
            var a = new egret.gui.Group;
            this.__10 = a;
            this.__s(a, ["x", "y"], [81, 233]);
            a.layout = this.__9_i();
            a.elementsContent = [];
            return a
        };
        b.soundButton_i = function () {
            var a = new egret.gui.ToggleButton;
            this.soundButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u5207\u6362\u6309\u94ae",
                d.components.SoundButtonSkin, 124, 57]);
            return a
        };
        b.titleDisplay_i = function () {
            var a = new egret.gui.Label;
            this.titleDisplay = a;
            this.__s(a, "bold fontFamily horizontalCenter italic text textColor top verticalAlign".split(" "), [!0, "Arial", -4.5, !0, "Settings", 623230, 28, "middle"]);
            return a
        };
        b.yesButton_i = function () {
            var a = new egret.gui.Button;
            this.yesButton = a;
            this.__s(a, ["label", "x", "y"], ["Yes,I am Sure", 67, 362]);
            return a
        };
        c._skinParts = "titleDisplay yesButton noButton resumeButton howtoplayButton musicButton soundButton restartButton quitButton moreButton aboutButton contentGroup closeButton".split(" ");
        return c
    }(egret.gui.Skin);
    d.SettingScreenSkin = g;
    g.prototype.__class__ = "skin.SettingScreenSkin"
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.__s(this, ["height", "width"], [960, 640]);
            this.elementsContent = [this.__3_i(), this.__4_i(), this.playButton_i(), this.settingButton_i(), this.__5_i(), this.levelButton_i()];
            this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__4_i = function () {
            var a =
                new egret.gui.UIAsset;
            this.__s(a, ["source", "x", "y"], ["start_logo", 92, 23]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold bottom fontFamily horizontalCenter text textColor".split(" "), [!0, 24, "Arial", 0, "Powered By Egret Engine", 4860458]);
            return a
        };
        b.levelButton_i = function () {
            var a = new game.IconButton;
            this.levelButton = a;
            this.__s(a, "icon label skinName width x y".split(" "), ["level_easy", "Easy", d.components.IconButtonSkin, 430, 144, 634]);
            return a
        };
        b.playButton_i = function () {
            var a =
                new egret.gui.Button;
            this.playButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u6309\u94ae", d.components.PlayButtonSkin, 174, 460]);
            return a
        };
        b.settingButton_i = function () {
            var a = new egret.gui.Button;
            this.settingButton = a;
            this.__s(a, ["label", "skinName", "x", "y"], ["\u6309\u94ae", d.components.SettingButtonSkin, 33, 634]);
            return a
        };
        b.__3_i = function () {
            var a = new egret.gui.UIAsset;
            a.source = "start_background";
            return a
        };
        c._skinParts = ["playButton", "settingButton", "levelButton"];
        return c
    }(egret.gui.Skin);
    d.StartScreenSkin =
        g;
    g.prototype.__class__ = "skin.StartScreenSkin"
})(skin || (skin = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.title = "Well Done!";
            this.skinName = skin.EndScreenSkin;
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.createCompleteEvent = function (a) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.EndWindowMediator(this))
        };
        b.show = function () {
            this.invalidateSkinState();
            egret.gui.PopUpManager.addPopUp(this,
                !0)
        };
        b.close = function () {
            egret.gui.PopUpManager.removePopUp(this);
            this.validateSkinState()
        };
        b.getCurrentSkinState = function () {
            return this.parent ? "open" : "close"
        };
        b.partAdded = function (a, b) {
            f.prototype.partAdded.call(this, a, b)
        };
        return c
    }(egret.gui.TitleWindow);
    d.EndWindow = g;
    g.prototype.__class__ = "game.EndWindow"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.skinName = skin.MainGameUISkin;
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this)
        }

        __extends(c, f);
        c.prototype.createCompleteEvent = function (b) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.GameScreenMediator(this))
        };
        return c
    }(egret.gui.SkinnableComponent);
    d.GameScreen = g;
    g.prototype.__class__ = "game.GameScreen"
})(game ||
(game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.title = "Settings";
            this.skinName = skin.SettingScreenSkin;
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.createCompleteEvent = function (a) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.SettingWindowMediator(this))
        };
        Object.defineProperty(b, "type", {
            get: function () {
                return this._type
            }, enumerable: !0,
            configurable: !0
        });
        b.setWindowType = function (a) {
            this._type = a;
            this.invalidateSkinState()
        };
        b.getCurrentSkinState = function () {
            return this._type
        };
        b.partAdded = function (a, b) {
            f.prototype.partAdded.call(this, a, b);
            b == this.closeButton && this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onCloseButtonClick, this)
        };
        b.onCloseButtonClick = function (a) {
            egret.gui.PopUpManager.removePopUp(this)
        };
        return c
    }(egret.gui.TitleWindow);
    d.SettingWindow = g;
    g.prototype.__class__ = "game.SettingWindow"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.skinName = skin.StartScreenSkin;
            this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.createCompleteEvent = function (a) {
            this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE, this.createCompleteEvent, this);
            d.ApplicationFacade.getInstance().registerMediator(new d.StartScreenMediator(this))
        };
        b.partAdded = function (a, b) {
            f.prototype.partAdded.call(this, a, b)
        };
        return c
    }(egret.gui.SkinnableComponent);
    d.StartScreen = g;
    g.prototype.__class__ = "game.StartScreen"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.startScreen = new d.StartScreen;
            this.gameScreen = new d.GameScreen
        }

        __extends(c, f);
        var b = c.prototype;
        b.enterStartScreen = function () {
            this.removeAllElements();
            this.addElement(this.startScreen)
        };
        b.enterGameScreen = function () {
            this.removeAllElements();
            this.addElement(this.gameScreen);
            this.gameScreen.initialized || this.gameScreen.validateNow()
        };
        b.showSettingWindow = function (a) {
            void 0 === a && (a = "setting");
            this.settingWindow || (this.settingWindow = new d.SettingWindow);
            this.settingWindow.setWindowType(a);
            egret.gui.PopUpManager.addPopUp(this.settingWindow, !0);
            this.settingWindow.verticalCenter = -700;
            egret.Tween.get(this.settingWindow).to({verticalCenter: 0}, 500, egret.Ease.backOut)
        };
        b.showEndWindow = function () {
            this.endWindow || (this.endWindow = new d.EndWindow);
            this.endWindow.show();
            this.endWindow.initialized || this.endWindow.validateNow()
        };
        return c
    }(egret.gui.UIStage);
    d.AppContainer = g;
    g.prototype.__class__ = "game.AppContainer"
})(game || (game = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.__s(this, ["height", "width"], [20, 100]);
                this.elementsContent = [this.track_i(), this.thumb_i()];
                this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                }, enumerable: !0, configurable: !0
            });
            a.thumb_i = function () {
                var a = new egret.gui.Rect;
                this.thumb = a;
                this.__s(a, ["bottom", "fillColor",
                    "left", "top", "width"], [0, 2267278, 1, 0, 20]);
                return a
            };
            a.track_i = function () {
                var a = new egret.gui.Rect;
                this.track = a;
                this.__s(a, "bottom fillColor left right strokeAlpha strokeColor top".split(" "), [0, 15132390, 0, 0, 1, 11119017, 0]);
                return a
            };
            b._skinParts = ["track", "thumb"];
            return b
        }(egret.gui.Skin);
        d.ProgressBarSkin = f;
        f.prototype.__class__ = "skin.components.ProgressBarSkin"
    })(d.components || (d.components = {}))
})(skin || (skin = {}));
(function (d) {
    var g = function (d) {
        function c(a) {
            d.call(this, c.NAME, a)
        }

        __extends(c, d);
        var b = c.prototype;
        b.listNotificationInterests = function () {
            return []
        };
        b.handleNotification = function (a) {
            a.getName()
        };
        Object.defineProperty(b, "main", {
            get: function () {
                return this.viewComponent
            }, enumerable: !0, configurable: !0
        });
        c.NAME = "ApplicationMediator";
        return c
    }(puremvc.Mediator);
    d.ApplicationMediator = g;
    g.prototype.__class__ = "game.ApplicationMediator"
})(game || (game = {}));
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this);
            this.__s = egret.gui.setProperties;
            this.__s(this, ["height", "width"], [960, 640]);
            this.elementsContent = [this.__3_i(), this.__4_i(), this.progressBar_i(), this.__5_i()];
            this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
        }

        __extends(c, f);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__4_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["horizontalCenter",
                "source", "y"], [0, "loading_logo", 89]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "fontFamily horizontalCenter size text textColor y".split(" "), ["Arial", 0.5, 14, "Loading...", 0, 600]);
            return a
        };
        b.progressBar_i = function () {
            var a = new egret.gui.ProgressBar;
            this.progressBar = a;
            this.__s(a, ["skinName", "slideDuration", "width", "x", "y"], [d.components.ProgressBarSkin, 0, 416, 112, 630]);
            return a
        };
        b.__3_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["horizontalCenter", "source", "verticalCenter"],
                [0, "loading_logo2", -69]);
            return a
        };
        c._skinParts = ["progressBar"];
        return c
    }(egret.gui.Skin);
    d.LoadingUISkin = g;
    g.prototype.__class__ = "skin.LoadingUISkin"
})(skin || (skin = {}));
var AssetAdapter = function () {
    function d() {
    }

    d.prototype.getAsset = function (d, f, c, b) {
        function a(a) {
            f.call(c, a, d)
        }

        b = d;
        d.prototype && (b = new d);
        b instanceof egret.DisplayObject || b instanceof egret.Texture ? f.call(c, b, d) : "string" == typeof d ? RES.hasRes(d) ? RES.getResAsync(d, a, this) : RES.getResByUrl(d, a, this) : f.call(c, b, d)
    };
    return d
}();
AssetAdapter.prototype.__class__ = "AssetAdapter";
var LoadingUI = function (d) {
    function g() {
        d.call(this);
        this.skinName = skin.LoadingUISkin
    }

    __extends(g, d);
    g.prototype.setProgress = function (d, c) {
        this.progressBar && (this.progressBar.maximum = c, this.progressBar.value = d)
    };
    return g
}(egret.gui.SkinnableComponent);
LoadingUI.prototype.__class__ = "LoadingUI";
(function (d) {
    var g = function (f) {
        function c() {
            f.call(this)
        }

        __extends(c, f);
        var b = c.prototype;
        b.register = function () {
            this.facade.registerCommand(c.CHANGE, c);
            this.facade.registerCommand(c.SHOW_SETTING, c);
            this.facade.registerCommand(c.SHOW_END, c)
        };
        b.execute = function (a) {
            var b = a.getBody(), f = this.facade.retrieveMediator(d.ApplicationMediator.NAME);
            switch (a.getName()) {
                case c.CHANGE:
                    1 == b ? f.main.enterStartScreen() : f.main.enterGameScreen();
                    break;
                case c.SHOW_SETTING:
                    f.main.showSettingWindow(b);
                    break;
                case c.SHOW_END:
                    egret.setTimeout(function () {
                            f.main.showEndWindow()
                        },
                        this, 300)
            }
        };
        c.NAME = "SceneCommand";
        c.CHANGE = "scene_change";
        c.SHOW_SETTING = "scene_setting";
        c.SHOW_END = "scene_end";
        return c
    }(puremvc.SimpleCommand);
    d.SceneCommand = g;
    g.prototype.__class__ = "game.SceneCommand"
})(game || (game = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.__s = egret.gui.setProperties;
            this.elementsContent = [this.__3_i(), this.__4_i(), this.__5_i(), this.__6_i(), this.__7_i(), this.backButton_i(), this.__8_i(), this.__9_i()];
            this.states = [new egret.gui.State("normal", []), new egret.gui.State("disabled", [])]
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__4_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold fontFamily horizontalCenter size text textColor top".split(" "),
                [!0, "Arial", 0, 22, "www.egret-labs.org", 20317, 159]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold fontFamily horizontalCenter size text textColor top".split(" "), [!0, "Arial", 0, 23, "Copyright \u00a9 2014", 20317, 196]);
            return a
        };
        b.__6_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["horizontalCenter", "source", "top"], [0, "about_logo", 24]);
            return a
        };
        b.__7_i = function () {
            var a = new egret.gui.UIAsset;
            this.__s(a, ["bottom", "horizontalCenter", "source"], [141, 0, "about_logo2"]);
            return a
        };
        b.__8_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bottom fontFamily horizontalCenter size text textColor".split(" "), [21, "Arial", 0, 12, "version:1.0.0", 9803157]);
            return a
        };
        b.__9_i = function () {
            var a = new egret.gui.Label;
            this.__s(a, "bold fontFamily horizontalCenter text textColor top".split(" "), [!0, "Arial", 0, "Egret Games", 20317, 118]);
            return a
        };
        b.backButton_i = function () {
            var a = new egret.gui.Button;
            this.backButton = a;
            this.__s(a, ["bottom", "horizontalCenter", "label", "width"], [49, 0, "Back", 446]);
            return a
        };
        b.__3_i = function () {
            var a = new egret.gui.UIAsset;
            a.source = "about_background";
            return a
        };
        c._skinParts = ["backButton"];
        return c
    }(egret.gui.Skin);
    d.AboutSkin = g;
    g.prototype.__class__ = "skin.AboutSkin"
})(skin || (skin = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.__s = egret.gui.setProperties;
            this.currentState = "s1";
            this.elementsContent = [this.__5_i(), this.__6_i(), this.__7_i(), this.__8_i(), this.prevButton_i(), this.nextButton_i()];
            this.states = [new egret.gui.State("s1", [new egret.gui.SetProperty("__5", "left", 0), new egret.gui.SetProperty("__5", "right", 0), new egret.gui.SetProperty("__5", "top", 0), new egret.gui.SetProperty("__5", "bottom", 0), new egret.gui.SetProperty("prevButton", "source", "howtoplay_return")]),
                new egret.gui.State("s2", [new egret.gui.SetProperty("__6", "text", "Combining pieces"), new egret.gui.SetProperty("__7", "source", "howtoplay_2"), new egret.gui.SetProperty("__8", "text", "When two similar pieces collide they are combined into a new bigger piece.")]), new egret.gui.State("s3", [new egret.gui.SetProperty("__6", "text", "Score"), new egret.gui.SetProperty("__7", "source", "howtoplay_3"), new egret.gui.SetProperty("__7", "horizontalCenter", 32.5), new egret.gui.SetProperty("__7", "top", 95), new egret.gui.SetProperty("__8",
                    "text", "Every piece you create gets you points.")]), new egret.gui.State("s4", [new egret.gui.SetProperty("__6", "text", "High Score"), new egret.gui.SetProperty("__7", "source", "howtoplay_4"), new egret.gui.SetProperty("__8", "text", "Keep on combing pieces to get the highest score."), new egret.gui.SetProperty("nextButton", "source", "howtoplay_return")])]
        }

        __extends(c, d);
        var b = c.prototype;
        Object.defineProperty(b, "skinParts", {
            get: function () {
                return c._skinParts
            }, enumerable: !0, configurable: !0
        });
        b.__6_i = function () {
            var a =
                new egret.gui.Label;
            this.__6 = a;
            this.__s(a, "bold fontFamily horizontalCenter text textColor top".split(" "), [!0, "Arial", 0, "How to play", 20317, 18]);
            return a
        };
        b.__7_i = function () {
            var a = new egret.gui.UIAsset;
            this.__7 = a;
            this.__s(a, ["horizontalCenter", "source", "top"], [0, "howtoplay_1", 95]);
            return a
        };
        b.__8_i = function () {
            var a = new egret.gui.Label;
            this.__8 = a;
            this.__s(a, "bold fontFamily horizontalCenter size text textAlign textColor top verticalAlign width".split(" "), [!0, "Arial", 0, 25, "All pieces on the board move into the same direction.",
                "center", 20317, 326, "middle", 418]);
            return a
        };
        b.nextButton_i = function () {
            var a = new egret.gui.UIAsset;
            this.nextButton = a;
            this.__s(a, ["horizontalCenter", "source", "y"], [70, "howtoplay_next", 446]);
            return a
        };
        b.prevButton_i = function () {
            var a = new egret.gui.UIAsset;
            this.prevButton = a;
            this.__s(a, ["horizontalCenter", "source", "y"], [-70, "howtoplay_prev", 446]);
            return a
        };
        b.__5_i = function () {
            var a = new egret.gui.UIAsset;
            this.__5 = a;
            a.source = "about_background";
            return a
        };
        c._skinParts = ["prevButton", "nextButton"];
        return c
    }(egret.gui.Skin);
    d.HowtoPlaySkin = g;
    g.prototype.__class__ = "skin.HowtoPlaySkin"
})(skin || (skin = {}));
var Main = function (d) {
    function g() {
        d.call(this);
        this.init()
    }

    __extends(g, d);
    var f = g.prototype;
    f.init = function () {
        egret.Profiler.getInstance().run();
        egret.Injector.mapClass("egret.gui.IAssetAdapter", AssetAdapter);
        egret.gui.Theme.load("../addons/yg_supergrowth/template/mobile/resource/theme.thm");
        this.appContainer = new game.AppContainer;
        this.addChild(this.appContainer);
		//alert()
        RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this);
        RES.loadConfig("../addons/yg_supergrowth/template/mobile/resource/resource.json")
			//console.log(RES);
    };
    f.onConfigComplete = function (c) {
        RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,
            this.onConfigComplete, this);
        RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this);
        RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this);
        RES.loadGroup("loading", 1);
        RES.loadGroup("preload")
    };
    f.onResourceLoadComplete = function (c) {
        "loading" == c.groupName ? (this.loadingView = new LoadingUI, this.appContainer.addElement(this.loadingView)) : "preload" == c.groupName && (this.appContainer.removeElement(this.loadingView), RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,
            this.onResourceLoadComplete, this), RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this), this.createGameScene())
    };
    f.onResourceProgress = function (c) {
        "preload" == c.groupName && this.loadingView.setProgress(c.itemsLoaded, c.itemsTotal)
    };
    f.createGameScene = function () {
        egret.gui.PopUpManager.modalAlpha = 0;
        game.ApplicationFacade.getInstance().startUp(this.appContainer);
        game.ApplicationFacade.getInstance().sendNotification(game.SceneCommand.CHANGE, 1)
    };
    return g
}(egret.Sprite);
Main.prototype.__class__ = "Main";
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.skinName = skin.AboutSkin
        }

        __extends(c, d);
        var b = c.prototype;
        b.partAdded = function (a, b) {
            d.prototype.partAdded.call(this, a, b);
            b == this.backButton && this.backButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onBackButtonClick, this)
        };
        b.onBackButtonClick = function (a) {
            egret.gui.PopUpManager.removePopUp(this)
        };
        return c
    }(egret.gui.SkinnableComponent);
    d.AboutWindow = g;
    g.prototype.__class__ = "game.AboutWindow"
})(game || (game = {}));
(function (d) {
    var g = function (d) {
        function c() {
            d.call(this);
            this.state = 1;
            this.skinName = skin.HowtoPlaySkin
        }

        __extends(c, d);
        var b = c.prototype;
        b.partAdded = function (a, b) {
            d.prototype.partAdded.call(this, a, b);
            b == this.prevButton ? this.prevButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onPrevButtonClick, this) : b == this.nextButton && this.nextButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onNextButtonClick, this)
        };
        b.onPrevButtonClick = function (a) {
            1 == this.state ? egret.gui.PopUpManager.removePopUp(this) :
                (this.state--, this.invalidateSkinState())
        };
        b.onNextButtonClick = function (a) {
            4 == this.state ? egret.gui.PopUpManager.removePopUp(this) : (this.state++, this.invalidateSkinState())
        };
        b.getCurrentSkinState = function () {
            return "s" + this.state
        };
        return c
    }(egret.gui.SkinnableComponent);
    d.HowtoplayWindow = g;
    g.prototype.__class__ = "game.HowtoplayWindow"
})(game || (game = {}));
(function (d) {
    (function (d) {
        var f = function (c) {
            function b() {
                c.call(this);
                this.__s = egret.gui.setProperties;
                this.elementsContent = [this.__4_i(), this.labelDisplay_i()];
                this.states = [new egret.gui.State("up", []), new egret.gui.State("down", [new egret.gui.SetProperty("__4", "source", "custom_down")]), new egret.gui.State("disabled", [])]
            }

            __extends(b, c);
            var a = b.prototype;
            Object.defineProperty(a, "skinParts", {
                get: function () {
                    return b._skinParts
                }, enumerable: !0, configurable: !0
            });
            a.labelDisplay_i = function () {
                var a = new egret.gui.Label;
                this.labelDisplay = a;
                this.__s(a, "bold bottom fontFamily left right text textAlign textColor top verticalAlign".split(" "), [!0, 30, "Arial", 30, 30, "Button", "center", 100887, 30, "middle"]);
                return a
            };
            a.__4_i = function () {
                var a = new egret.gui.UIAsset;
                this.__4 = a;
                this.__s(a, "bottom left right scale9Grid source top".split(" "), [0, 0, 0, egret.gui.getScale9Grid("38,38,20,16"), "custom_normal", 0]);
                return a
            };
            b._skinParts = ["labelDisplay"];
            return b
        }(egret.gui.Skin);
        d.ButtonSkin = f;
        f.prototype.__class__ = "skin.components.ButtonSkin"
    })(d.components ||
    (d.components = {}))
})(skin || (skin = {}));
