/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
!function(t,e){function n(t){return""===s?t:(t=t.charAt(0).toUpperCase()+t.substr(1),s+t)}var i=Math,r=e.createElement("div").style,s=function(){for(var t,e="t,webkitT,MozT,msT,OT".split(","),n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}(),o=s?"-"+s.toLowerCase()+"-":"",a=n("transform"),l=n("transitionProperty"),c=n("transitionDuration"),u=n("transformOrigin"),h=n("transitionTimingFunction"),d=n("transitionDelay"),p=/android/gi.test(navigator.appVersion),f=/iphone|ipad/gi.test(navigator.appVersion),m=/hp-tablet/gi.test(navigator.appVersion),g=n("perspective")in r,v="ontouchstart"in t&&!m,y=s!==!1,b=n("transition")in r,w="onorientationchange"in t?"orientationchange":"resize",x=v?"touchstart":"mousedown",C=v?"touchmove":"mousemove",T=v?"touchend":"mouseup",k=v?"touchcancel":"mouseup",S=function(){if(s===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[s]}(),_=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),D=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),E=g?" translateZ(0)":"",$=function(n,i){var r,s=this;s.wrapper="object"==typeof n?n:e.getElementById(n),s.wrapper.style.overflow="hidden",s.scroller=s.wrapper.children[0],s.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:p,hideScrollbar:f,fadeScrollbar:f&&g,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(r in i)s.options[r]=i[r];s.x=s.options.x,s.y=s.options.y,s.options.useTransform=y&&s.options.useTransform,s.options.hScrollbar=s.options.hScroll&&s.options.hScrollbar,s.options.vScrollbar=s.options.vScroll&&s.options.vScrollbar,s.options.zoom=s.options.useTransform&&s.options.zoom,s.options.useTransition=b&&s.options.useTransition,s.options.zoom&&p&&(E=""),s.scroller.style[l]=s.options.useTransform?o+"transform":"top left",s.scroller.style[c]="0",s.scroller.style[u]="0 0",s.options.useTransition&&(s.scroller.style[h]="cubic-bezier(0.33,0.66,0.66,1)"),s.options.useTransform?s.scroller.style[a]="translate("+s.x+"px,"+s.y+"px)"+E:s.scroller.style.cssText+=";position:absolute;top:"+s.y+"px;left:"+s.x+"px",s.options.useTransition&&(s.options.fixedScrollbar=!0),s.refresh(),s._bind(w,t),s._bind(x),v||"none"!=s.options.wheelAction&&(s._bind("DOMMouseScroll"),s._bind("mousewheel")),s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},500))};$.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case x:if(!v&&0!==t.button)return;e._start(t);break;case C:e._move(t);break;case T:case k:e._end(t);break;case w:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(t);break;case S:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var n,r=this;return r[t+"Scrollbar"]?(r[t+"ScrollbarWrapper"]||(n=e.createElement("div"),r.options.scrollbarClass?n.className=r.options.scrollbarClass+t.toUpperCase():n.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),n.style.cssText+=";pointer-events:none;"+o+"transition-property:opacity;"+o+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(n),r[t+"ScrollbarWrapper"]=n,n=e.createElement("div"),r.options.scrollbarClass||(n.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+o+"background-clip:padding-box;"+o+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+o+"border-radius:3px;border-radius:3px"),n.style.cssText+=";pointer-events:none;"+o+"transition-property:"+o+"transform;"+o+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+o+"transition-duration:0;"+o+"transform: translate(0,0)"+E,r.options.useTransition&&(n.style.cssText+=";"+o+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[t+"ScrollbarWrapper"].appendChild(n),r[t+"ScrollbarIndicator"]=n),"h"==t?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=i.max(i.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=i.max(i.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),void r._scrollbarPos(t,!0)):void(r[t+"ScrollbarWrapper"]&&(y&&(r[t+"ScrollbarIndicator"].style[a]=""),r[t+"ScrollbarWrapper"].parentNode.removeChild(r[t+"ScrollbarWrapper"]),r[t+"ScrollbarWrapper"]=null,r[t+"ScrollbarIndicator"]=null))},_resize:function(){var t=this;setTimeout(function(){t.refresh()},p?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[a]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+E:(t=i.round(t),e=i.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var n,r=this,s="h"==t?r.x:r.y;r[t+"Scrollbar"]&&(s=r[t+"ScrollbarProp"]*s,0>s?(r.options.fixedScrollbar||(n=r[t+"ScrollbarIndicatorSize"]+i.round(3*s),8>n&&(n=8),r[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px"),s=0):s>r[t+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?s=r[t+"ScrollbarMaxScroll"]:(n=r[t+"ScrollbarIndicatorSize"]-i.round(3*(s-r[t+"ScrollbarMaxScroll"])),8>n&&(n=8),r[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px",s=r[t+"ScrollbarMaxScroll"]+(r[t+"ScrollbarIndicatorSize"]-n))),r[t+"ScrollbarWrapper"].style[d]="0",r[t+"ScrollbarWrapper"].style.opacity=e&&r.options.hideScrollbar?"0":"1",r[t+"ScrollbarIndicator"].style[a]="translate("+("h"==t?s+"px,0)":"0,"+s+"px)")+E)},_start:function(e){var n,r,s,o,l,c=this,u=v?e.touches[0]:e;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,e),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&v&&e.touches.length>1&&(o=i.abs(e.touches[0].pageX-e.touches[1].pageX),l=i.abs(e.touches[0].pageY-e.touches[1].pageY),c.touchesDistStart=i.sqrt(o*o+l*l),c.originX=i.abs(e.touches[0].pageX+e.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=i.abs(e.touches[0].pageY+e.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,e)),c.options.momentum&&(c.options.useTransform?(n=getComputedStyle(c.scroller,null)[a].replace(/[^0-9\-.,]/g,"").split(","),r=+(n[12]||n[4]),s=+(n[13]||n[5])):(r=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),s=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(r!=c.x||s!=c.y)&&(c.options.useTransition?c._unbind(S):D(c.aniTime),c.steps=[],c._pos(r,s),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=u.pageX,c.pointY=u.pageY,c.startTime=e.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,e),c._bind(C,t),c._bind(T,t),c._bind(k,t))},_move:function(t){var e,n,r,s=this,o=v?t.touches[0]:t,l=o.pageX-s.pointX,c=o.pageY-s.pointY,u=s.x+l,h=s.y+c,d=t.timeStamp||Date.now();return s.options.onBeforeScrollMove&&s.options.onBeforeScrollMove.call(s,t),s.options.zoom&&v&&t.touches.length>1?(e=i.abs(t.touches[0].pageX-t.touches[1].pageX),n=i.abs(t.touches[0].pageY-t.touches[1].pageY),s.touchesDist=i.sqrt(e*e+n*n),s.zoomed=!0,r=1/s.touchesDistStart*s.touchesDist*this.scale,r<s.options.zoomMin?r=.5*s.options.zoomMin*Math.pow(2,r/s.options.zoomMin):r>s.options.zoomMax&&(r=2*s.options.zoomMax*Math.pow(.5,s.options.zoomMax/r)),s.lastScale=r/this.scale,u=this.originX-this.originX*s.lastScale+this.x,h=this.originY-this.originY*s.lastScale+this.y,this.scroller.style[a]="translate("+u+"px,"+h+"px) scale("+r+")"+E,void(s.options.onZoom&&s.options.onZoom.call(s,t))):(s.pointX=o.pageX,s.pointY=o.pageY,(u>0||u<s.maxScrollX)&&(u=s.options.bounce?s.x+l/2:u>=0||s.maxScrollX>=0?0:s.maxScrollX),(h>s.minScrollY||h<s.maxScrollY)&&(h=s.options.bounce?s.y+c/2:h>=s.minScrollY||s.maxScrollY>=0?s.minScrollY:s.maxScrollY),s.distX+=l,s.distY+=c,s.absDistX=i.abs(s.distX),s.absDistY=i.abs(s.distY),void(s.absDistX<6&&s.absDistY<6||(s.options.lockDirection&&(s.absDistX>s.absDistY+5?(h=s.y,c=0):s.absDistY>s.absDistX+5&&(u=s.x,l=0)),s.moved=!0,s._pos(u,h),s.dirX=l>0?-1:0>l?1:0,s.dirY=c>0?-1:0>c?1:0,d-s.startTime>300&&(s.startTime=d,s.startX=s.x,s.startY=s.y),s.options.onScrollMove&&s.options.onScrollMove.call(s,t))))},_end:function(n){if(!v||0===n.touches.length){var r,s,o,l,u,h,d,p=this,f=v?n.changedTouches[0]:n,m={dist:0,time:0},g={dist:0,time:0},y=(n.timeStamp||Date.now())-p.startTime,b=p.x,w=p.y;if(p._unbind(C,t),p._unbind(T,t),p._unbind(k,t),p.options.onBeforeScrollEnd&&p.options.onBeforeScrollEnd.call(p,n),p.zoomed)return d=p.scale*p.lastScale,d=Math.max(p.options.zoomMin,d),d=Math.min(p.options.zoomMax,d),p.lastScale=d/p.scale,p.scale=d,p.x=p.originX-p.originX*p.lastScale+p.x,p.y=p.originY-p.originY*p.lastScale+p.y,p.scroller.style[c]="200ms",p.scroller.style[a]="translate("+p.x+"px,"+p.y+"px) scale("+p.scale+")"+E,p.zoomed=!1,p.refresh(),void(p.options.onZoomEnd&&p.options.onZoomEnd.call(p,n));if(!p.moved)return v&&(p.doubleTapTimer&&p.options.zoom?(clearTimeout(p.doubleTapTimer),p.doubleTapTimer=null,p.options.onZoomStart&&p.options.onZoomStart.call(p,n),p.zoom(p.pointX,p.pointY,1==p.scale?p.options.doubleTapZoom:1),p.options.onZoomEnd&&setTimeout(function(){p.options.onZoomEnd.call(p,n)},200)):this.options.handleClick&&(p.doubleTapTimer=setTimeout(function(){for(p.doubleTapTimer=null,r=f.target;1!=r.nodeType;)r=r.parentNode;"SELECT"!=r.tagName&&"INPUT"!=r.tagName&&"TEXTAREA"!=r.tagName&&(s=e.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,n.view,1,f.screenX,f.screenY,f.clientX,f.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),s._fake=!0,r.dispatchEvent(s))},p.options.zoom?250:0))),p._resetPos(400),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,n));if(300>y&&p.options.momentum&&(m=b?p._momentum(b-p.startX,y,-p.x,p.scrollerW-p.wrapperW+p.x,p.options.bounce?p.wrapperW:0):m,g=w?p._momentum(w-p.startY,y,-p.y,p.maxScrollY<0?p.scrollerH-p.wrapperH+p.y-p.minScrollY:0,p.options.bounce?p.wrapperH:0):g,b=p.x+m.dist,w=p.y+g.dist,(p.x>0&&b>0||p.x<p.maxScrollX&&b<p.maxScrollX)&&(m={dist:0,time:0}),(p.y>p.minScrollY&&w>p.minScrollY||p.y<p.maxScrollY&&w<p.maxScrollY)&&(g={dist:0,time:0})),m.dist||g.dist)return u=i.max(i.max(m.time,g.time),10),p.options.snap&&(o=b-p.absStartX,l=w-p.absStartY,i.abs(o)<p.options.snapThreshold&&i.abs(l)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(h=p._snap(b,w),b=h.x,w=h.y,u=i.max(h.time,u))),p.scrollTo(i.round(b),i.round(w),u),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,n));if(p.options.snap)return o=b-p.absStartX,l=w-p.absStartY,i.abs(o)<p.options.snapThreshold&&i.abs(l)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(h=p._snap(p.x,p.y),(h.x!=p.x||h.y!=p.y)&&p.scrollTo(h.x,h.y,h.time)),void(p.options.onTouchEnd&&p.options.onTouchEnd.call(p,n));p._resetPos(200),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,n)}},_resetPos:function(t){var e=this,n=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,i=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return n==e.x&&i==e.y?(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==s&&(e.hScrollbarWrapper.style[d]="300ms"),e.hScrollbarWrapper.style.opacity="0"),void(e.vScrollbar&&e.options.hideScrollbar&&("webkit"==s&&(e.vScrollbarWrapper.style[d]="300ms"),e.vScrollbarWrapper.style.opacity="0"))):void e.scrollTo(n,i,t||0)},_wheel:function(t){var e,n,i,r,s,o=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,n=t.wheelDeltaY/12;else if("wheelDelta"in t)e=n=t.wheelDelta/12;else{if(!("detail"in t))return;e=n=3*-t.detail}return"zoom"==o.options.wheelAction?(s=o.scale*Math.pow(2,1/3*(n?n/Math.abs(n):0)),s<o.options.zoomMin&&(s=o.options.zoomMin),s>o.options.zoomMax&&(s=o.options.zoomMax),void(s!=o.scale&&(!o.wheelZoomCount&&o.options.onZoomStart&&o.options.onZoomStart.call(o,t),o.wheelZoomCount++,o.zoom(t.pageX,t.pageY,s,400),setTimeout(function(){o.wheelZoomCount--,!o.wheelZoomCount&&o.options.onZoomEnd&&o.options.onZoomEnd.call(o,t)},400)))):(i=o.x+e,r=o.y+n,i>0?i=0:i<o.maxScrollX&&(i=o.maxScrollX),r>o.minScrollY?r=o.minScrollY:r<o.maxScrollY&&(r=o.maxScrollY),void(o.maxScrollY<0&&o.scrollTo(i,r,0)))},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(S),e._startAni())},_startAni:function(){var t,e,n,r=this,s=r.x,o=r.y,a=Date.now();if(!r.animating){if(!r.steps.length)return void r._resetPos(400);if(t=r.steps.shift(),t.x==s&&t.y==o&&(t.time=0),r.animating=!0,r.moved=!0,r.options.useTransition)return r._transitionTime(t.time),r._pos(t.x,t.y),r.animating=!1,void(t.time?r._bind(S):r._resetPos(0));n=function(){var l,c,u=Date.now();return u>=a+t.time?(r._pos(t.x,t.y),r.animating=!1,r.options.onAnimationEnd&&r.options.onAnimationEnd.call(r),void r._startAni()):(u=(u-a)/t.time-1,e=i.sqrt(1-u*u),l=(t.x-s)*e+s,c=(t.y-o)*e+o,r._pos(l,c),void(r.animating&&(r.aniTime=_(n))))},n()}},_transitionTime:function(t){t+="ms",this.scroller.style[c]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=t)},_momentum:function(t,e,n,r,s){var o=6e-4,a=i.abs(t)/e,l=a*a/(2*o),c=0,u=0;return t>0&&l>n?(u=s/(6/(l/a*o)),n+=u,a=a*n/l,l=n):0>t&&l>r&&(u=s/(6/(l/a*o)),r+=u,a=a*r/l,l=r),l*=0>t?-1:1,c=a/o,{dist:l,time:i.round(c)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),{left:e,top:n}},_snap:function(t,e){var n,r,s,o,a,l,c=this;for(s=c.pagesX.length-1,n=0,r=c.pagesX.length;r>n;n++)if(t>=c.pagesX[n]){s=n;break}for(s==c.currPageX&&s>0&&c.dirX<0&&s--,t=c.pagesX[s],a=i.abs(t-c.pagesX[c.currPageX]),a=a?i.abs(c.x-t)/a*500:0,c.currPageX=s,s=c.pagesY.length-1,n=0;s>n;n++)if(e>=c.pagesY[n]){s=n;break}return s==c.currPageY&&s>0&&c.dirY<0&&s--,e=c.pagesY[s],l=i.abs(e-c.pagesY[c.currPageY]),l=l?i.abs(c.y-e)/l*500:0,c.currPageY=s,o=i.round(i.max(a,l))||200,{x:t,y:e,time:o}},_bind:function(t,e,n){(e||this.scroller).addEventListener(t,this,!!n)},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){var e=this;e.scroller.style[a]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(w,t),e._unbind(x),e._unbind(C,t),e._unbind(T,t),e._unbind(k,t),e.options.hasTouch||(e._unbind("DOMMouseScroll"),e._unbind("mousewheel")),e.options.useTransition&&e._unbind(S),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var t,e,n,r,s=this,o=0,a=0;if(s.scale<s.options.zoomMin&&(s.scale=s.options.zoomMin),s.wrapperW=s.wrapper.clientWidth||1,s.wrapperH=s.wrapper.clientHeight||1,s.minScrollY=-s.options.topOffset||0,s.scrollerW=i.round(s.scroller.offsetWidth*s.scale),s.scrollerH=i.round((s.scroller.offsetHeight+s.minScrollY)*s.scale),s.maxScrollX=s.wrapperW-s.scrollerW,s.maxScrollY=s.wrapperH-s.scrollerH+s.minScrollY,s.dirX=0,s.dirY=0,s.options.onRefresh&&s.options.onRefresh.call(s),s.hScroll=s.options.hScroll&&s.maxScrollX<0,s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH),s.hScrollbar=s.hScroll&&s.options.hScrollbar,s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH,t=s._offset(s.wrapper),s.wrapperOffsetLeft=-t.left,s.wrapperOffsetTop=-t.top,"string"==typeof s.options.snap)for(s.pagesX=[],s.pagesY=[],r=s.scroller.querySelectorAll(s.options.snap),e=0,n=r.length;n>e;e++)o=s._offset(r[e]),o.left+=s.wrapperOffsetLeft,o.top+=s.wrapperOffsetTop,s.pagesX[e]=o.left<s.maxScrollX?s.maxScrollX:o.left*s.scale,s.pagesY[e]=o.top<s.maxScrollY?s.maxScrollY:o.top*s.scale;else if(s.options.snap){for(s.pagesX=[];o>=s.maxScrollX;)s.pagesX[a]=o,o-=s.wrapperW,a++;for(s.maxScrollX%s.wrapperW&&(s.pagesX[s.pagesX.length]=s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1]),o=0,a=0,s.pagesY=[];o>=s.maxScrollY;)s.pagesY[a]=o,o-=s.wrapperH,a++;s.maxScrollY%s.wrapperH&&(s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1])}s._scrollbar("h"),s._scrollbar("v"),s.zoomed||(s.scroller.style[c]="0",s._resetPos(400))},scrollTo:function(t,e,n,i){var r,s,o=this,a=t;for(o.stop(),a.length||(a=[{x:t,y:e,time:n,relative:i}]),r=0,s=a.length;s>r;r++)a[r].relative&&(a[r].x=o.x-a[r].x,a[r].y=o.y-a[r].y),o.steps.push({x:a[r].x,y:a[r].y,time:a[r].time||0});o._startAni()},scrollToElement:function(t,e){var n,r=this;t=t.nodeType?t:r.scroller.querySelector(t),t&&(n=r._offset(t),n.left+=r.wrapperOffsetLeft,n.top+=r.wrapperOffsetTop,n.left=n.left>0?0:n.left<r.maxScrollX?r.maxScrollX:n.left,n.top=n.top>r.minScrollY?r.minScrollY:n.top<r.maxScrollY?r.maxScrollY:n.top,e=void 0===e?i.max(2*i.abs(n.left),2*i.abs(n.top)):e,r.scrollTo(n.left,n.top,e))},scrollToPage:function(t,e,n){var i,r,s=this;n=void 0===n?400:n,s.options.onScrollStart&&s.options.onScrollStart.call(s),s.options.snap?(t="next"==t?s.currPageX+1:"prev"==t?s.currPageX-1:t,e="next"==e?s.currPageY+1:"prev"==e?s.currPageY-1:e,t=0>t?0:t>s.pagesX.length-1?s.pagesX.length-1:t,e=0>e?0:e>s.pagesY.length-1?s.pagesY.length-1:e,s.currPageX=t,s.currPageY=e,i=s.pagesX[t],r=s.pagesY[e]):(i=-s.wrapperW*t,r=-s.wrapperH*e,i<s.maxScrollX&&(i=s.maxScrollX),r<s.maxScrollY&&(r=s.maxScrollY)),s.scrollTo(i,r,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(C,t),this._unbind(T,t),this._unbind(k,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(S):D(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,n,i){var r=this,s=n/r.scale;r.options.useTransform&&(r.zoomed=!0,i=void 0===i?200:i,t=t-r.wrapperOffsetLeft-r.x,e=e-r.wrapperOffsetTop-r.y,r.x=t-t*s+r.x,r.y=e-e*s+r.y,r.scale=n,r.refresh(),r.x=r.x>0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,r.y=r.y>r.minScrollY?r.minScrollY:r.y<r.maxScrollY?r.maxScrollY:r.y,r.scroller.style[c]=i+"ms",r.scroller.style[a]="translate("+r.x+"px,"+r.y+"px) scale("+n+")"+E,r.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,"undefined"!=typeof exports?exports.iScroll=$:t.iScroll=$}(window,document);