!function(a){if("undefined"!=typeof define&&define.cmd)define("app/weixinV2.1/book/touch",["gallery/zepto/1.1.3/zepto"],function(b){var c=b("gallery/zepto/1.1.3/zepto");a(c)});else{var b=Zepto;a(b)}}(function(a){function b(a){p(),q=a.touches[0].clientX,r=a.touches[0].clientY}function c(a){w=a.touches[0].clientX,x=a.touches[0].clientY}function d(b){if(null!==w&&null!==x){s=Math.abs(q-w),t=Math.abs(r-x);var c=a(b.target)||a(document);(s>y||t>z)&&(c.trigger("swipeMy"),c.trigger("swipe"+k(q,w,r,x)+"My"))}}function e(a){p(),console.info("pointer down",a.clientX,a.clientY),q=a.clientX,r=a.clientY}function f(a){console.info("pointerMove",a.clientX,a.clientY),w=a.clientX,x=a.clientY}function g(b){if(null!==w&&null!==x){console.info("pointerUp",b.clientX,b.clientY),s=Math.abs(q-w),t=Math.abs(r-x);var c=a(b.target)||a(document);(s>y||t>z)&&(c.trigger("swipeMy"),c.trigger("swipe"+k(q,w,r,x)+"My"))}}function h(a){g(a)}function i(){var a=navigator.userAgent;return a.indexOf("Android")>=0||a.indexOf("android")>=0}function j(){var a=navigator.userAgent;return parseFloat(a.slice(a.indexOf("Android")+8))}function k(a,b,c,d){return Math.abs(a-b)>=Math.abs(c-d)?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function l(a){a.preventDefault()}function m(a){p(),u=!1,v=!1,document.addEventListener("touchmove",l,!1),q=a.touches[0].clientX,r=a.touches[0].clientY}function n(b){var c=b.touches[0].clientX,d=b.touches[0].clientY;s=c-q,t=d-r;var e=a(b.target)||a(document);if(!u){var f=Math.abs(s),g=Math.abs(t);if(f>g){if(y>f)return;u=!0,e.trigger("swipeMy"),e.trigger("swipe"+k(q,c,r,d)+"My")}else if(o(b),!v){if(z>g)return;v=!0,e.trigger("swipeMy"),e.trigger("swipe"+k(q,c,r,d)+"My")}}}function o(){document.removeEventListener("touchmove",l,!1)}function p(){q=0,r=0,s=0,t=0,u=!1,v=!1,w=null,x=null}var q,r,s,t,u,v,w=null,x=null,y=10,z=30;i()&&j()<4.1?(a(document).on("touchstart",m),a(document).on("touchmove",n),a(document).on("touchend",o),a(document).on("touchleave",o),a(document).on("touchcancel",o)):window.navigator.msPointerEnabled?(a(document).on("MSPointerDown",e),a(document).on("MSPointerMove",f),a(document).on("MSPointerUp",g),a(document).on("MSPointerCancel",h)):(a(document).on("touchstart",b),a(document).on("touchmove",c),a(document).on("touchend",d),a(document).on("touchleave touchcancel",d)),["swipeMy","swipeLeftMy","swipeRightMy","swipeUpMy","swipeDownMy"].forEach(function(b){a.fn[b]=function(a){return this.on(b,a)}})});